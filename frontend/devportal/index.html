<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Developer Portal da API Araponga: territ√≥rio, memberships, feed, mapa, marketplace, eventos, chat, modera√ß√£o e notifica√ß√µes." />
  <meta name="theme-color" content="#0a0e12" />
  <title>Araponga API ‚Ä¢ Developer Portal</title>
  <!-- Favicon e √≠cones -->
  <link rel="icon" type="image/png" href="./assets/images/favicon.png" />
  <link rel="apple-touch-icon" href="./assets/images/favicon.png" />
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://devportal.araponga.app/" />
  <meta property="og:title" content="Araponga API ‚Ä¢ Developer Portal" />
  <meta property="og:description" content="Developer Portal da API Araponga: territ√≥rio, memberships, feed, mapa, marketplace, eventos, chat, modera√ß√£o e notifica√ß√µes." />
  <meta property="og:image" content="https://devportal.araponga.app/assets/images/favicon.png" />
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://devportal.araponga.app/" />
  <meta property="twitter:title" content="Araponga API ‚Ä¢ Developer Portal" />
  <meta property="twitter:description" content="Developer Portal da API Araponga: territ√≥rio, memberships, feed, mapa, marketplace, eventos, chat, modera√ß√£o e notifica√ß√µes." />
  <meta property="twitter:image" content="https://devportal.araponga.app/assets/images/favicon.png" />
  <link rel="stylesheet" href="./assets/css/devportal.css" />
  <link rel="stylesheet" href="./assets/css/content-typography.css" />
  <link rel="stylesheet" href="./assets/css/search.css" />
  <link rel="stylesheet" href="./assets/css/breadcrumbs.css" />
  <style>
    /* ============================================
       ISOLAMENTO CR√çTICO DE CONTE√öDO
       ============================================ */

    /* REGRA 1: Esconde TODAS as se√ß√µes que s√£o filhos DIRETOS de main (fora de phase-panels) */
    main > section:not(.phase-panel):not(.phase-panels),
    main > .section:not(.phase-panel):not(.phase-panels) {
      display: none !important;
      visibility: hidden !important;
      height: 0 !important;
      overflow: hidden !important;
      margin: 0 !important;
      padding: 0 !important;
      opacity: 0 !important;
    }

    /* REGRA 2: Esconde se√ß√µes que v√™m DEPOIS de .phase-panels */
    .phase-panels ~ section,
    .phase-panels ~ .section {
      display: none !important;
      visibility: hidden !important;
      height: 0 !important;
      overflow: hidden !important;
      margin: 0 !important;
      padding: 0 !important;
      opacity: 0 !important;
    }

    /* REGRA 3: Esconde se√ß√µes que v√™m DEPOIS de footer */
    footer ~ section,
    footer ~ .section {
      display: none !important;
      visibility: hidden !important;
      height: 0 !important;
      overflow: hidden !important;
      margin: 0 !important;
      padding: 0 !important;
      opacity: 0 !important;
    }

    /* REGRA 4: Phase panels sem .active devem estar COMPLETAMENTE escondidos */
    .phase-panel:not(.active) {
      display: none !important;
      visibility: hidden !important;
      height: 0 !important;
      overflow: hidden !important;
      margin: 0 !important;
      padding: 0 !important;
      opacity: 0 !important;
    }

    /* REGRA 5: Apenas o phase-panel ativo pode mostrar conte√∫do */
    .phase-panel.active {
      display: block !important;
      visibility: visible !important;
      height: auto !important;
      overflow: visible !important;
      opacity: 1 !important;
    }

    /* REGRA 6: Apenas se√ß√µes dentro do phase-panel ativo aparecem */
    .phase-panel.active > section,
    .phase-panel.active > .section,
    .phase-panel.active section,
    .phase-panel.active .section {
      display: block !important;
      visibility: visible !important;
      height: auto !important;
      overflow: visible !important;
      opacity: 1 !important;
    }

    /* REGRA 7: Se√ß√µes fora de phase-panel ativo s√£o escondidas mesmo se tiverem IDs espec√≠ficos */
    section:not(.phase-panel.active section):not(.phase-panel.active .section),
    .section:not(.phase-panel.active section):not(.phase-panel.active .section) {
      display: none !important;
      visibility: hidden !important;
    }

    /* ============================================
       LAYOUT E RESPONSIVIDADE COM SIDEBAR
       ============================================ */

    /* Garantir que main e header respeitam sidebar em telas grandes */
    @media (min-width: 1024px) {
      /* Header deve respeitar sidebar (240px width + left offset + respiro do menu) */
      .header {
        padding-left: calc(240px + clamp(1.25rem, 4vw, 2.5rem) + clamp(1.25rem, 4vw, 2.5rem)) !important;
        padding-right: clamp(1.5rem, 3vw, 2rem) !important;
      }

      .header .container {
        margin-left: 0 !important;
        max-width: 100% !important;
        padding-left: 0 !important;
        padding-top: 0 !important;
      }

      /* Layout e main devem respeitar sidebar (240px width + left offset + respiro do menu) */
      .layout {
        padding-left: calc(240px + clamp(1.25rem, 4vw, 2.5rem) + clamp(1.25rem, 4vw, 2.5rem)) !important;
        padding-right: clamp(1.5rem, 3vw, 2rem) !important;
        padding-top: 0 !important;
      }

      .layout > main {
        margin-left: 0 !important;
        max-width: calc(100vw - 240px - (clamp(1.25rem, 4vw, 2.5rem) * 2) - clamp(1.5rem, 3vw, 2rem)) !important;
        width: 100% !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
      }

      /* Garantir que todas as se√ß√µes dentro de main respeitam o sidebar */
      main > *:not(.sidebar-container):not(.header) {
        margin-left: 0 !important;
        padding-left: 0 !important;
        max-width: 100% !important;
      }

      /* Phase navigation tabs tamb√©m devem respeitar */
      .phase-navigation {
        margin-left: 0 !important;
        padding-left: 0 !important;
        max-width: 100% !important;
        width: 100% !important;
      }

      /* Phase panels tamb√©m devem respeitar e aproveitar espa√ßo */
      .phase-panels {
        margin-left: 0 !important;
        padding-left: 0 !important;
        max-width: 100% !important;
        width: 100% !important;
      }

      /* Se√ß√µes dentro de phase-panels respeitam o layout */
      .phase-panel.active section,
      .phase-panel.active .section {
        margin-left: 0 !important;
        padding-left: 0 !important;
        max-width: 100% !important;
      }

      /* Footer tamb√©m deve respeitar sidebar */
      footer {
        margin-left: calc(240px + clamp(1.25rem, 4vw, 2.5rem) + clamp(1.25rem, 4vw, 2.5rem)) !important;
        max-width: calc(100% - 240px - (clamp(1.25rem, 4vw, 2.5rem) * 2)) !important;
        padding-left: clamp(1.5rem, 3vw, 2rem) !important;
      }
    }
  </style>
  <script>
    // Inicializa√ß√£o de tema antes do render (evita flash) - Sincronizado com Wiki
    (function() {
      try {
        var savedTheme = localStorage.getItem('devportal-theme');
        var theme = savedTheme || 'dark';

        // Aplica imediatamente antes do render
        if (theme === 'dark') {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }

        document.documentElement.setAttribute('data-theme', theme);
      } catch (e) {
        // Fallback: aplica dark mode em caso de erro
        try {
          document.documentElement.classList.add('dark');
          document.documentElement.setAttribute('data-theme', 'dark');
        } catch (fallbackError) {
          // Ignora se nem o fallback funcionar
        }
      }
    })();
  </script>
</head>
<body>
  <a class="skip-link" href="#conteudo" data-i18n="ui.skip">Pular para conte√∫do</a>
  <!-- Overlay para fechar menu mobile -->
  <div class="mobile-menu-overlay" aria-hidden="true"></div>

  <header class="header" role="banner">
    <div class="container hero">
      <div class="return-banner" role="complementary">
        <div class="header-actions" style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; margin-left: auto;">
          <!-- Bot√£o de Menu Mobile -->
          <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Abrir menu de navega√ß√£o" aria-expanded="false">
            <svg class="mobile-menu-icon" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
          <div class="lang-switcher" aria-label="Selecionar idioma">
            <label class="lang-label" for="lang-select" data-i18n="ui.lang">Idioma</label>
            <select id="lang-select" class="lang-select">
              <option value="pt">Portugu√™s</option>
              <option value="es">Espa√±ol</option>
              <option value="en">English</option>
              <option value="it">Italiano</option>
              <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
            </select>
          </div>
          <button id="theme-toggle" class="theme-toggle" aria-label="Alternar tema" title="Alternar tema claro/escuro">
            <svg class="theme-icon theme-icon-sun" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
            <svg class="theme-icon theme-icon-moon" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
          </button>
          <!-- Links √öteis - Externos e Internos -->
          <div class="header-external-links">
            <a href="#onboarding-analistas" class="header-link-icon" aria-label="Onboarding Analista Funcional" title="Onboarding Analista Funcional">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
              </svg>
            </a>
            <a href="#onboarding-developers" class="header-link-icon" aria-label="Onboarding Desenvolvedor" title="Onboarding Desenvolvedor">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
              </svg>
            </a>
            <a href="https://devportal.araponga.app/wiki/" target="_blank" rel="noopener noreferrer" class="header-link-icon" aria-label="Wiki Araponga" title="Wiki Araponga">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
              </svg>
            </a>
            <a href="https://github.com/sraphaz/araponga" target="_blank" rel="noopener noreferrer" class="header-link-icon" aria-label="GitHub" title="GitHub">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"/>
              </svg>
            </a>
            <a href="https://discord.gg/auwqN8Yjgw" target="_blank" rel="noopener noreferrer" class="header-link-icon" aria-label="Discord" title="Discord">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>

      <span class="hero-tag" aria-label="Categoria" data-i18n="ui.heroTag">Araponga API ‚Ä¢ Developer Portal</span>
      <h1 data-i18n="ui.heroTitle">Infraestrutura digital comunit√°ria orientada ao territ√≥rio</h1>
      <p data-i18n-html="ui.heroLeadHtml">
        Araponga √© uma plataforma <strong>territory-first</strong> que organiza contexto, visibilidade e governan√ßa atrav√©s da localiza√ß√£o geogr√°fica.
        Esta infraestrutura t√©cnica permite que comunidades construam autonomia econ√¥mica e organizacional utilizando seus pr√≥prios recursos locais.
        Este portal documenta a API exatamente como implementada, oferecendo documenta√ß√£o completa para integra√ß√£o segura e previs√≠vel.
      </p>
    </div>
  </header>

  <div class="container layout" id="conteudo">
    <!-- Sidebar Brand/Logo Fixo - Igual Wiki -->
    <div class="sidebar-brand-fixed">
      <a href="#comecando" class="sidebar-brand-link">
        <img src="./assets/images/icon.png" alt="Araponga" class="sidebar-brand-icon" aria-hidden="true" />
        <div class="sidebar-brand-text">
          <h2 class="sidebar-brand-title">API Araponga</h2>
          <p class="sidebar-brand-subtitle">Developer Portal</p>
        </div>
      </a>
    </div>

    <nav class="sidebar-container" aria-label="Navega√ß√£o do portal" role="navigation">
      <div class="sidebar-nav">
        <!-- 1. FUNDAMENTOS - Conceitos e vis√£o geral (entender antes de usar) -->
        <div class="sidebar-section">
          <button class="sidebar-section-toggle" data-section="fundamentos" aria-expanded="false">
            <span class="sidebar-section-title">Fundamentos</span>
            <svg class="sidebar-chevron" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <ul class="sidebar-items" data-section-items="fundamentos" hidden>
            <li><a href="#visao-geral" class="sidebar-link" data-i18n="nav.overview"><span class="sidebar-link-title">Vis√£o Geral</span></a></li>
            <li><a href="#como-funciona" class="sidebar-link" data-i18n="nav.howItWorks"><span class="sidebar-link-title">Como Funciona</span></a></li>
            <li><a href="#territorios" class="sidebar-link" data-i18n="nav.territories"><span class="sidebar-link-title">Territ√≥rios</span></a></li>
            <li><a href="#conceitos" class="sidebar-link" data-i18n="nav.productConcepts"><span class="sidebar-link-title">Conceitos de Produto</span></a></li>
          </ul>
        </div>

        <!-- 2. FUNCIONALIDADES - Features espec√≠ficas (por ordem de uso comum) -->
        <div class="sidebar-section">
          <button class="sidebar-section-toggle" data-section="features" aria-expanded="false">
            <span class="sidebar-section-title">Funcionalidades</span>
            <svg class="sidebar-chevron" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <ul class="sidebar-items" data-section-items="features" hidden>
            <!-- Submenu: Opera√ß√µes -->
            <li class="sidebar-submenu">
              <button class="sidebar-submenu-toggle" aria-expanded="false">
                <span class="sidebar-link-title">Opera√ß√µes</span>
                <svg class="sidebar-chevron" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <ul class="sidebar-submenu-items" hidden>
                <li class="sidebar-submenu-item"><a href="#operacao-auth" class="sidebar-link"><span class="sidebar-link-title">Autentica√ß√£o Social</span></a></li>
                <li class="sidebar-submenu-item"><a href="#operacao-territory-discovery" class="sidebar-link"><span class="sidebar-link-title">Descoberta de Territ√≥rio</span></a></li>
                <li class="sidebar-submenu-item"><a href="#operacao-marketplace-checkout" class="sidebar-link"><span class="sidebar-link-title">Marketplace Checkout</span></a></li>
              </ul>
            </li>
            <!-- Submenu: Cen√°rios Neg√≥cio -->
            <li class="sidebar-submenu">
              <button class="sidebar-submenu-toggle" aria-expanded="false">
                <span class="sidebar-link-title">Cen√°rios Neg√≥cio</span>
                <svg class="sidebar-chevron" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <ul class="sidebar-submenu-items" hidden>
                <li class="sidebar-submenu-item"><a href="#marketplace" class="sidebar-link" data-i18n="nav.marketplace"><span class="sidebar-link-title">Marketplace</span></a></li>
                <li class="sidebar-submenu-item"><a href="#eventos" class="sidebar-link" data-i18n="nav.events"><span class="sidebar-link-title">Eventos</span></a></li>
                <li class="sidebar-submenu-item"><a href="#payout-gestao-financeira" class="sidebar-link"><span class="sidebar-link-title">Payout & Gest√£o Financeira</span></a></li>
                <li class="sidebar-submenu-item"><a href="#admin" class="sidebar-link" data-i18n="nav.admin"><span class="sidebar-link-title">Admin & Filas</span></a></li>
              </ul>
            </li>
          </ul>
        </div>

        <!-- 3. API PR√ÅTICA - Uso pr√°tico e refer√™ncia t√©cnica -->
        <div class="sidebar-section">
          <button class="sidebar-section-toggle" data-section="api" aria-expanded="false">
            <span class="sidebar-section-title">API Pr√°tica</span>
            <svg class="sidebar-chevron" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <ul class="sidebar-items" data-section-items="api" hidden>
            <li><a href="#modelo-dominio" class="sidebar-link" data-i18n="nav.domainModel"><span class="sidebar-link-title">Modelo de Dom√≠nio</span></a></li>
            <li><a href="#fluxos" class="sidebar-link" data-i18n="nav.flows"><span class="sidebar-link-title">Fluxos Principais</span></a></li>
            <!-- Submenu: Cen√°rios Pr√°ticos -->
            <li class="sidebar-submenu">
              <button class="sidebar-submenu-toggle" aria-expanded="false">
                <span class="sidebar-link-title">Cen√°rios Pr√°ticos</span>
                <svg class="sidebar-chevron" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <ul class="sidebar-submenu-items" hidden>
                <li class="sidebar-submenu-item"><a href="#cenario-onboarding-usuario" class="sidebar-link"><span class="sidebar-link-title">Onboarding Usu√°rio</span></a></li>
                <li class="sidebar-submenu-item"><a href="#cenario-publicar-midias" class="sidebar-link"><span class="sidebar-link-title">Publicar conte√∫do com m√≠dias</span></a></li>
                <li class="sidebar-submenu-item"><a href="#cenario-assets" class="sidebar-link"><span class="sidebar-link-title">Assets territoriais</span></a></li>
                <li class="sidebar-submenu-item"><a href="#cenario-chat" class="sidebar-link"><span class="sidebar-link-title">Chat territorial e grupos</span></a></li>
                <li class="sidebar-submenu-item"><a href="#cenario-marketplace" class="sidebar-link"><span class="sidebar-link-title">Marketplace e economia local</span></a></li>
                <li class="sidebar-submenu-item"><a href="#cenario-eventos" class="sidebar-link"><span class="sidebar-link-title">Eventos comunit√°rios</span></a></li>
              </ul>
            </li>
            <!-- Submenu: Guia de Produ√ß√£o -->
            <li class="sidebar-submenu">
              <button class="sidebar-submenu-toggle" aria-expanded="false">
                <span class="sidebar-link-title">Guia de Produ√ß√£o</span>
                <svg class="sidebar-chevron" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <ul class="sidebar-submenu-items" hidden>
                <li class="sidebar-submenu-item"><a href="#guia-producao-passo-1" class="sidebar-link"><span class="sidebar-link-title">Passo 1: Entendendo o Fluxo</span></a></li>
                <li class="sidebar-submenu-item"><a href="#guia-producao-passo-2" class="sidebar-link"><span class="sidebar-link-title">Passo 2: Configurar Payout</span></a></li>
                <li class="sidebar-submenu-item"><a href="#guia-producao-passo-3" class="sidebar-link"><span class="sidebar-link-title">Passo 3: Consultar Configura√ß√£o</span></a></li>
                <li class="sidebar-submenu-item"><a href="#guia-producao-passo-4" class="sidebar-link"><span class="sidebar-link-title">Passo 4: Consultar Saldo</span></a></li>
              </ul>
            </li>
            <li><a href="#auth" class="sidebar-link" data-i18n="nav.jwt"><span class="sidebar-link-title">Autentica√ß√£o</span></a></li>
            <li><a href="#territory-session" class="sidebar-link" data-i18n="nav.headers"><span class="sidebar-link-title">Contexto e Headers</span></a></li>
            <li><a href="#openapi" class="sidebar-link" data-i18n="nav.openapi"><span class="sidebar-link-title">OpenAPI / Explorer</span></a></li>
            <li><a href="#erros" class="sidebar-link" data-i18n="nav.errors"><span class="sidebar-link-title">Erros & Conven√ß√µes</span></a></li>
            <li><a href="#casos-uso-comuns" class="sidebar-link"><span class="sidebar-link-title">Casos de Uso Comuns</span></a></li>
            <li><a href="#pontos-atencao" class="sidebar-link"><span class="sidebar-link-title">Pontos de Aten√ß√£o</span></a></li>
          </ul>
        </div>

        <!-- 4. RECURSOS - Informa√ß√µes adicionais e avan√ßadas -->
        <div class="sidebar-section">
          <button class="sidebar-section-toggle" data-section="recursos" aria-expanded="false">
            <span class="sidebar-section-title">Recursos</span>
            <svg class="sidebar-chevron" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <ul class="sidebar-items" data-section-items="recursos" hidden>
            <li><a href="#configure-ambiente" class="sidebar-link"><span class="sidebar-link-title">Configure seu Ambiente</span></a></li>
            <!-- Submenu: Onboarding Funcional -->
            <li class="sidebar-submenu">
              <button class="sidebar-submenu-toggle" aria-expanded="false">
                <span class="sidebar-link-title">Onboarding Funcional</span>
                <svg class="sidebar-chevron" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <ul class="sidebar-submenu-items" hidden>
                <li class="sidebar-submenu-item"><a href="#onboarding-analistas" class="sidebar-link"><span class="sidebar-link-title">Onboarding Analista Funcional</span></a></li>
              </ul>
            </li>
            <!-- Submenu: Onboarding Dev -->
            <li class="sidebar-submenu">
              <button class="sidebar-submenu-toggle" aria-expanded="false">
                <span class="sidebar-link-title">Onboarding Dev</span>
                <svg class="sidebar-chevron" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <ul class="sidebar-submenu-items" hidden>
                <li class="sidebar-submenu-item"><a href="#onboarding-developers" class="sidebar-link"><span class="sidebar-link-title">Onboarding Desenvolvedor</span></a></li>
              </ul>
            </li>
            <li><a href="#capacidades-tecnicas" class="sidebar-link"><span class="sidebar-link-title">Capacidades T√©cnicas</span></a></li>
            <li><a href="#versoes" class="sidebar-link" data-i18n="nav.versions"><span class="sidebar-link-title">Vers√µes</span></a></li>
            <li><a href="#roadmap" class="sidebar-link"><span class="sidebar-link-title">Roadmap</span></a></li>
            <li><a href="#contribuir" class="sidebar-link"><span class="sidebar-link-title">Contribuir</span></a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main role="main">
      <!-- Phase Navigation Tabs -->
      <div class="phase-navigation" role="tablist">
        <button class="phase-tab active" data-phase="comecando">Come√ßando</button>
        <button class="phase-tab" data-phase="fundamentos">Fundamentos</button>
        <button class="phase-tab" data-phase="funcionalidades">Funcionalidades</button>
        <button class="phase-tab" data-phase="api-pratica">API Pr√°tica</button>
        <button class="phase-tab" data-phase="avancado">Avan√ßado</button>
      </div>

      <!-- Phase Panels Container -->
      <div class="phase-panels">
        <!-- Tab 1: Come√ßando -->
        <div class="phase-panel active" data-phase-panel="comecando">
          <section class="section" id="introducao">
            <h2>Bem-vindo ao Developer Portal</h2>
            <p class="lead-text">
              Este √© o portal t√©cnico da plataforma Araponga. Explore a documenta√ß√£o, guias e refer√™ncias da API atrav√©s do menu lateral e das abas acima.
            </p>
            <p>
              Use o menu lateral para navegar entre diferentes se√ß√µes ou clique nas abas superiores para acessar categorias principais.
            </p>
          </section>
        </div>

        <!-- Tab 2: Fundamentos -->
        <div class="phase-panel" data-phase-panel="fundamentos">
          <section class="section" id="visao-geral">
        <span class="eyebrow" data-i18n="overview.eyebrow">Vis√£o geral</span>
        <div>
          <h2 data-i18n="overview.title">API orientada a territ√≥rio com governan√ßa comunit√°ria transparente</h2>
          <p data-i18n="overview.lead">
            A API Araponga fornece uma base confi√°vel para territ√≥rios, v√≠nculos, feed, mapa, marketplace e eventos.
            Regras expl√≠citas de visibilidade, valida√ß√£o e modera√ß√£o garantem que experi√™ncias locais sejam audit√°veis e evoluam com seguran√ßa.
            A arquitetura suporta decis√µes comunit√°rias, economia circular local e regenera√ß√£o social territorial atrav√©s de ferramentas t√©cnicas que respeitam a soberania e pertencimento dos grupos locais.
          </p>
        </div>
        <div class="grid-two">
          <div class="card">
            <h3>Territ√≥rio como base estrutural</h3>
            <p>
              Territ√≥rio √© a unidade geogr√°fica fundamental que separa "onde" de "quem" e "o qu√™".
              Esta separa√ß√£o evita que conte√∫do social distor√ßa o mapa e mant√©m o contexto local como primeira classe.
              A geografia como fundamento estrutural fortalece v√≠nculos de pertencimento e permite que comunidades gerenciem seus pr√≥prios processos de organiza√ß√£o e economia.
            </p>
          </div>
          <div class="card">
            <h3>Governan√ßa em camadas transparentes</h3>
            <p>
              V√≠nculos (visitor/resident), valida√ß√µes comunit√°rias, modera√ß√£o (reports/bloqueios) e notifica√ß√µes formam as camadas que definem visibilidade no feed e mapa.
              Cada camada √© configur√°vel e audit√°vel pela comunidade, garantindo transpar√™ncia total e autonomia nas decis√µes que afetam o territ√≥rio.
            </p>
          </div>
        </div>
      </section>

      <section class="section" id="como-funciona">
        <span class="eyebrow" data-i18n="how.eyebrow">Como o Araponga funciona</span>
        <h2 data-i18n="how.title">Do visitante ao morador validado</h2>
        <div class="grid-two">
          <div class="card">
            <h3>Visitante</h3>
            <p>
              Visitantes declaram v√≠nculo com <code>role=Visitor</code>. N√£o existe "valida√ß√£o" para visitante:
              √© apenas um v√≠nculo leve para acesso a conte√∫do p√∫blico e opera√ß√µes permitidas para n√£o-moradores.
            </p>
          </div>
          <div class="card">
            <h3>Pedido de moradia</h3>
            <p>
              Para virar morador, o visitante cria um pedido (JoinRequest) via
              <code>POST /api/v1/memberships/{territoryId}/become-resident</code>.
              Se ele conhecer algu√©m, pode enviar <code>recipientUserIds</code> e fazer um convite direcionado.
              Sem destinat√°rios, o pedido vai para a curadoria (Curator) e, se necess√°rio, para SystemAdmin.
            </p>
          </div>
          <div class="card">
            <h3>Aprova√ß√£o comunit√°ria</h3>
            <p>
              Destinat√°rios (ou curadores) aprovam/rejeitam via
              <code>POST /api/v1/join-requests/{id}/approve|reject</code>. Ao aprovar, o requester
              torna-se <strong>RESIDENT</strong> (ainda <strong>N√ÉO verificado</strong>).
              A verifica√ß√£o de resid√™ncia acontece depois via
              <code>POST /api/v1/memberships/{territoryId}/verify-residency/geo</code> ou
              <code>/verify-residency/document</code>.
            </p>
          </div>
          <div class="card">
            <h3>Bootstrap (primeiro morador)</h3>
            <p>
              N√£o existe "fundador" autoaprovado. Se o territ√≥rio ainda n√£o tiver curadores/moradores verificados,
              o pedido faz fallback para <strong>SystemAdmin</strong> (governan√ßa global) para destravar o bootstrap.
            </p>
          </div>
        </div>
      </section>

      <section class="section" id="territorios">
        <span class="eyebrow" data-i18n="territories.eyebrow">Territ√≥rios</span>
        <h2 data-i18n="territories.title">Unidade prim√°ria com v√≠nculo estrutural</h2>
        <div class="grid-two">
          <div class="card">
            <h3>Estado atual</h3>
            <p>
              Territ√≥rios continuam sendo a unidade prim√°ria de organiza√ß√£o. Todo conte√∫do e
              governan√ßa s√£o ancorados diretamente no territ√≥rio selecionado.
            </p>
          </div>
          <div class="card">
            <h3>ParentTerritoryId</h3>
            <p>
              O campo <code>ParentTerritoryId</code> existe apenas para modelar hierarquia estrutural
              (ex.: bairro ‚Üí munic√≠pio). Ele ainda n√£o gera heran√ßa de permiss√µes, feeds ou valida√ß√µes.
            </p>
          </div>
          <div class="card">
            <h3>Roadmap (n√£o implementado)</h3>
            <p>
              Heran√ßa de permiss√µes, feeds agregados e regras autom√°ticas por hierarquia permanecem
              como roadmap e <strong>n√£o</strong> fazem parte do backend atual.
            </p>
          </div>
        </div>
      </section>

      <section class="section" id="conceitos">
        <span class="eyebrow" data-i18n="concepts.eyebrow">Conceitos de produto</span>
        <h2 data-i18n="concepts.title">Sem√¢ntica de neg√≥cio</h2>
        <div class="grid-two">
          <div class="card">
            <h3>Territory-first</h3>
            <p>
              Territ√≥rio √© uma c√©lula geogr√°fica neutra. N√£o carrega conte√∫do social embutido; ele apenas
              organiza contexto, prioriza√ß√£o e governan√ßa.
            </p>
          </div>
          <div class="card">
            <h3>Memberships</h3>
            <p>
              V√≠nculos entre usu√°rio e territ√≥rio podem ser <strong>VISITOR</strong> ou <strong>RESIDENT</strong>.
              O pedido de moradia (JoinRequest) tem status <strong>PENDING</strong>/<strong>APPROVED</strong>/<strong>REJECTED</strong>.
              J√° a verifica√ß√£o de resid√™ncia do membership √© feita por flags: <strong>NONE</strong>/<strong>GEOVERIFIED</strong>/<strong>DOCUMENTVERIFIED</strong>,
              influenciando visibilidade e autoriza√ß√£o.
            </p>
          </div>
          <div class="card">
            <h3>Feature flags por territ√≥rio</h3>
            <p>
              Cada territ√≥rio pode habilitar flags como <strong>AlertPosts</strong>
              em <code>/api/v1/territories/{territoryId}/features</code>. Elas controlam quais tipos de post s√£o aceitos.
            </p>
          </div>
          <div class="card">
            <h3>Curadoria/Valida√ß√£o</h3>
            <p>
              A aprova√ß√£o de pedidos de moradia √© feita por <strong>Curators</strong> e/ou por moradores j√°
              verificados (geo/doc). Curadores tamb√©m continuam respons√°veis por valida√ß√£o de entidades do mapa
              e alertas ambientais.
            </p>
          </div>
          <div class="card">
            <h3>Modera√ß√£o & seguran√ßa</h3>
            <p>
              Modera√ß√£o √© um conjunto de sinais (reports) + a√ß√µes (bloqueios) para manter o territ√≥rio √∫til e
              seguro. O objetivo aqui n√£o √© "censura autom√°tica", e sim <strong>reduzir abuso e ru√≠do</strong>
              com decis√µes audit√°veis e fluxo claro de triagem por curadoria.
            </p>
            <ul>
              <li><strong>Reportar post</strong>: <code>POST /api/v1/reports/posts/{postId}</code> com <code>reason</code> (obrigat√≥rio) e <code>details</code> (opcional).</li>
              <li><strong>Reportar usu√°rio</strong>: <code>POST /api/v1/reports/users/{userId}</code> (pode receber <code>territoryId</code>).</li>
              <li><strong>Triagem</strong>: curadoria lista e filtra em <code>GET /api/v1/reports</code> (por territ√≥rio, status e tipo).</li>
              <li><strong>Bloquear/desbloquear</strong>: corta visibilidade de conte√∫do no feed e no mapa via <code>POST</code>/<code>DELETE /api/v1/blocks/users/{userId}</code>.</li>
            </ul>
          </div>
        </div>
      </section>
        </div>

        <!-- Tab 2: Funcionalidades -->
        <div class="phase-panel" data-phase-panel="funcionalidades">
          <section class="section" id="marketplace">
            <span class="eyebrow" data-i18n="marketplace.eyebrow">Marketplace</span>
            <h2 data-i18n="marketplace.title">Economia local territorial</h2>
            <p data-i18n="marketplace.lead">
              O marketplace permite criar lojas e publicar produtos/servi√ßos (items), gerenciar carrinho de compras
              e receber inquiries de interessados. Tudo ancorado no territ√≥rio. O sistema de payout territorial
              garante que recursos financeiros permane√ßam na comunidade, fortalecendo ciclos econ√¥micos locais
              e permitindo que comunidades construam autonomia atrav√©s de suas pr√≥prias capacidades produtivas.
            </p>

            <div class="flow-step">
              <h4>12. Criar ou atualizar loja</h4>
              <p>
                Moradores validados podem criar ou atualizar sua loja no territ√≥rio via
                <code>POST /api/v1/stores</code>. A loja define informa√ß√µes de contato e visibilidade.
              </p>
              <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/stores \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "territoryId": "11111111-1111-1111-1111-111111111111",
    "displayName": "Loja da Ana",
    "description": "Produtos artesanais",
    "contactVisibility": "Public",
    "contact": {
      "phone": "+5511999999999",
      "email": "ana@exemplo.com"
    }
  }'</code></pre>
            </div>

            <div class="flow-step">
              <h4>13. Criar item (produto ou servi√ßo) com imagens</h4>
              <p>
                Lojas podem criar items via <code>POST /api/v1/items</code>. Items podem ser produtos
                ou servi√ßos, com pre√ßo fixo, negoci√°vel ou gratuito. Items podem incluir at√© 10 imagens atrav√©s do campo <code>mediaIds</code>.
              </p>
              <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/items \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "territoryId": "11111111-1111-1111-1111-111111111111",
    "storeId": "22222222-2222-2222-2222-222222222222",
    "type": "Product",
    "title": "Bolo de chocolate",
    "description": "Bolo caseiro",
    "category": "Alimentos",
    "tags": "bolo,chocolate",
    "pricingType": "Fixed",
    "priceAmount": 25.00,
    "currency": "BRL",
    "unit": "unidade",
    "latitude": -23.55,
    "longitude": -46.63,
    "mediaIds": ["dddddddd-dddd-dddd-dddd-dddddddddddd", "eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee"]
  }'</code></pre>
              <div class="info-box">
                <strong>üì∏üé•üéß M√≠dias em Items (Imagens, V√≠deos e √Åudios):</strong>
                <ul style="margin-top: 0.5rem; line-height: 1.8;">
                  <li><strong>Upload de m√≠dia</strong>: Primeiro, fa√ßa upload via <code>POST /api/v1/media/upload</code> para obter o <code>mediaId</code> (aceita imagens JPEG/PNG/WebP, v√≠deos MP4 e √°udios MP3/WAV/OGG)</li>
                  <li><strong>Associar ao item</strong>: Inclua os <code>mediaIds</code> no array ao criar o item (m√°ximo 10 m√≠dias: imagens, v√≠deos e/ou √°udios)</li>
                  <li><strong>V√≠deos</strong>: M√°ximo 1 v√≠deo por item, at√© 30MB, at√© 30 segundos (demonstra√ß√£o r√°pida de produto). Formatos suportados: MP4</li>
                  <li><strong>√Åudios</strong>: M√°ximo 1 √°udio por item, at√© 5MB, at√© 2 minutos (descri√ß√£o de produto, demonstra√ß√£o de servi√ßo). Formatos suportados: MP3, WAV, OGG</li>
                  <li><strong>Imagens</strong>: M√∫ltiplas imagens permitidas (at√© 10 m√≠dias no total, combinando imagens, v√≠deos e √°udios). Formatos suportados: JPEG, PNG, WebP</li>
                  <li><strong>Imagem principal</strong>: A primeira m√≠dia do array √© usada como <code>primaryImageUrl</code> (se for v√≠deo ou √°udio, a URL √© retornada)</li>
                  <li><strong>Resposta</strong>: O <code>ItemResponse</code> inclui <code>primaryImageUrl</code> e <code>imageUrls</code> (array com todas as m√≠dias: imagens, v√≠deos e √°udios)</li>
                  <li><strong>Valida√ß√£o</strong>: Todas as m√≠dias devem pertencer ao usu√°rio que est√° criando o item. V√≠deos maiores que 30MB, √°udios maiores que 5MB, mais de 1 v√≠deo ou mais de 1 √°udio por item retornam erro</li>
                </ul>
              </div>
            </div>

            <div class="flow-step">
              <h4>14. Buscar items</h4>
              <p>
                Use <code>GET /api/v1/items</code> para buscar produtos e servi√ßos por territ√≥rio, categoria,
                tags ou texto livre (<code>q</code>).
              </p>
              <pre class="code-block"><code>curl "http://localhost:8080/api/v1/items?territoryId=11111111-1111-1111-1111-111111111111&amp;q=bolo&amp;category=Alimentos" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
            </div>

            <div class="flow-step">
              <h4>15. Gerenciar carrinho</h4>
              <p>
                Usu√°rios podem adicionar itens ao carrinho via <code>POST /api/v1/cart/items</code>,
                atualizar quantidade via <code>PATCH /api/v1/cart/items/{id}</code> e fazer checkout via
                <code>POST /api/v1/cart/checkout</code>.
              </p>
              <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/cart/items \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "territoryId": "11111111-1111-1111-1111-111111111111",
    "itemId": "33333333-3333-3333-3333-333333333333",
    "quantity": 2,
    "notes": "Entregar ap√≥s 18h (se poss√≠vel)"
  }'</code></pre>
            </div>

            <div class="flow-step">
              <h4>16. Criar inquiry</h4>
              <p>
                Interessados podem criar inquiries diretamente em items via
                <code>POST /api/v1/items/{id}/inquiries</code>.
              </p>
              <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/items/{id}/inquiries \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{"message": "Gostaria de mais informa√ß√µes"}'</code></pre>
              <details class="sequence-diagram-toggle">
                <summary class="sequence-diagram-summary">
                  <span>üìä Ver Diagrama de Sequ√™ncia</span>
                </summary>
                <div class="sequence-diagram-container">
                  <img src="./assets/images/diagrams/marketplace-checkout.svg" alt="Diagrama de sequ√™ncia: Marketplace - Fluxo completo (loja ‚Üí item ‚Üí carrinho ‚Üí checkout ‚Üí payout)" class="mermaid-diagram" data-diagram="marketplace-checkout" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
                  <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
                </div>
              </details>
            </div>
          </section>

          <section class="section" id="payout-gestao-financeira">
            <span class="eyebrow">Payout & Gest√£o Financeira</span>
            <h2>Sistema de Payout e Rastreabilidade Financeira Completa</h2>
            <p>
              O Araponga implementa um sistema completo de payout (transfer√™ncia para vendedores) com rastreabilidade
              financeira total. Cada centavo √© rastreado, permitindo transpar√™ncia total e autonomia para territ√≥rios.
            </p>

            <div class="grid-two">
              <div class="card">
                <h3>üéØ O que √© o Sistema de Payout?</h3>
                <p>
                  Quando um checkout √© marcado como <code>Paid</code>, o sistema automaticamente cria uma transa√ß√£o
                  de vendedor e processa o payout conforme configura√ß√µes do territ√≥rio. O vendedor recebe o valor
                  l√≠quido (subtotal - fees da plataforma).
                </p>
              </div>
              <div class="card">
                <h3>‚ú® Principais Funcionalidades</h3>
                <ul>
                  <li>‚úÖ <strong>Rastreabilidade completa</strong>: Cada centavo √© rastreado em <code>FinancialTransaction</code></li>
                  <li>‚úÖ <strong>Reten√ß√£o configur√°vel</strong>: Aguarda per√≠odo configurado antes de liberar para payout</li>
                  <li>‚úÖ <strong>Valor m√≠nimo/m√°ximo</strong>: Acumula at√© atingir m√≠nimo ou divide se exceder m√°ximo</li>
                  <li>‚úÖ <strong>Payout autom√°tico</strong>: Background worker processa payouts automaticamente</li>
                  <li>‚úÖ <strong>Gest√£o financeira da plataforma</strong>: Saldo, receitas e despesas separadas por territ√≥rio</li>
                </ul>
              </div>
            </div>

            <div class="callout">
              <strong>üöÄ Guia de Produ√ß√£o (Passo a Passo)</strong>
              <p style="margin-top: 0.5rem;">
                Abaixo voc√™ encontrar√° um guia completo para colocar o sistema de payout em produ√ß√£o. O guia foi
                projetado para ser seguido por qualquer pessoa, mesmo com conhecimento m√≠nimo de programa√ß√£o.
              </p>
            </div>

            <div class="flow-step">
              <h4>üìã Passo 1: Entendendo o Fluxo de Payout</h4>
              <p>
                Quando um cliente compra algo na loja de um vendedor e o pagamento √© confirmado, o seguinte acontece:
              </p>
              <ol style="margin-left: 1.5rem; line-height: 1.8;">
                <li><strong>Checkout pago</strong> ‚Üí Sistema cria <code>SellerTransaction</code> automaticamente</li>
                <li><strong>Valor l√≠quido</strong> ‚Üí Subtotal - Fees da plataforma = Valor para o vendedor</li>
                <li><strong>Per√≠odo de reten√ß√£o</strong> ‚Üí Aguarda dias configurados (ex: 7 dias)</li>
                <li><strong>Valor m√≠nimo</strong> ‚Üí Acumula at√© atingir valor m√≠nimo configurado (ex: R$ 100,00)</li>
                <li><strong>Payout autom√°tico</strong> ‚Üí Background worker processa quando todas as condi√ß√µes s√£o atendidas</li>
                <li><strong>Transfer√™ncia</strong> ‚Üí Dinheiro √© transferido para o vendedor via gateway (Stripe, MercadoPago, etc.)</li>
              </ol>
            </div>

            <div class="flow-step">
              <h4>‚öôÔ∏è Passo 2: Configurar Payout para um Territ√≥rio</h4>
              <p>
                Antes de usar o sistema de payout, voc√™ precisa configurar como ele funciona para cada territ√≥rio.
                Essa configura√ß√£o define per√≠odo de reten√ß√£o, valores m√≠nimo/m√°ximo, frequ√™ncia e se requer aprova√ß√£o manual.
              </p>
              <pre class="code-block"><code># Criar ou atualizar configura√ß√£o de payout
curl -X POST "http://localhost:8080/api/v1/territories/{territoryId}/payout-config" \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "retentionPeriodDays": 7,
    "minimumPayoutAmountInCents": 10000,
    "maximumPayoutAmountInCents": 5000000,
    "frequency": "Weekly",
    "autoPayoutEnabled": true,
    "requiresApproval": false,
    "currency": "BRL"
  }'</code></pre>
              <div class="info-box">
                <strong>üìù Explica√ß√£o dos Campos:</strong>
                <ul style="margin-top: 0.5rem; line-height: 1.8;">
                  <li><code>retentionPeriodDays</code>: Quantos dias aguardar antes de liberar para payout (ex: 7 = aguarda 7 dias)</li>
                  <li><code>minimumPayoutAmountInCents</code>: Valor m√≠nimo em centavos para processar payout (ex: 10000 = R$ 100,00)</li>
                  <li><code>maximumPayoutAmountInCents</code>: Valor m√°ximo por payout - se exceder, divide em m√∫ltiplos (ex: 5000000 = R$ 50.000,00)</li>
                  <li><code>frequency</code>: Frequ√™ncia do payout autom√°tico - <code>"Daily"</code>, <code>"Weekly"</code>, <code>"Monthly"</code> ou <code>"Manual"</code></li>
                  <li><code>autoPayoutEnabled</code>: Se <code>true</code>, processa payouts automaticamente. Se <code>false</code>, apenas manual</li>
                  <li><code>requiresApproval</code>: Se <code>true</code>, requer aprova√ß√£o manual antes de processar (ainda n√£o implementado)</li>
                  <li><code>currency</code>: Moeda da configura√ß√£o - <code>"BRL"</code>, <code>"USD"</code>, etc.</li>
                </ul>
              </div>
            </div>

            <div class="flow-step">
              <h4>üîç Passo 3: Consultar Configura√ß√£o de Payout</h4>
              <p>
                Para ver a configura√ß√£o atual de payout de um territ√≥rio:
              </p>
              <pre class="code-block"><code># Consultar configura√ß√£o ativa
curl "http://localhost:8080/api/v1/territories/{territoryId}/payout-config" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
            </div>

            <div class="flow-step">
              <h4>üí∞ Passo 4: Consultar Saldo do Vendedor</h4>
              <p>
                Vendedores podem consultar seu saldo e hist√≥rico de transa√ß√µes:
              </p>
              <pre class="code-block"><code># Consultar meu saldo como vendedor
curl "http://localhost:8080/api/v1/territories/{territoryId}/seller-balance/me" \
  -H "Authorization: Bearer &lt;token&gt;"

# Consultar minhas transa√ß√µes como vendedor
curl "http://localhost:8080/api/v1/territories/{territoryId}/seller-balance/me/transactions" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
              <div class="info-box">
                <strong>üìä Entendendo o Saldo do Vendedor:</strong>
                <ul style="margin-top: 0.5rem; line-height: 1.8;">
                  <li><code>pendingAmountInCents</code>: Valor que ainda est√° no per√≠odo de reten√ß√£o</li>
                  <li><code>readyForPayoutAmountInCents</code>: Valor pronto para payout (ap√≥s per√≠odo de reten√ß√£o e valor m√≠nimo)</li>
                  <li><code>paidAmountInCents</code>: Valor j√° transferido para o vendedor</li>
                </ul>
              </div>
            </div>

            <div class="flow-step">
              <h4>üìà Passo 5: Gest√£o Financeira da Plataforma</h4>
              <p>
                Administradores podem consultar o saldo financeiro da plataforma (receitas de fees e despesas de payouts):
              </p>
              <pre class="code-block"><code># Consultar saldo da plataforma (apenas SystemAdmin ou FinancialManager)
curl "http://localhost:8080/api/v1/territories/{territoryId}/platform-financial/balance" \
  -H "Authorization: Bearer &lt;token&gt;"

# Listar receitas (fees coletadas)
curl "http://localhost:8080/api/v1/territories/{territoryId}/platform-financial/revenue" \
  -H "Authorization: Bearer &lt;token&gt;"

# Listar despesas (payouts processados)
curl "http://localhost:8080/api/v1/territories/{territoryId}/platform-financial/expenses" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
            </div>

            <div class="flow-step">
              <h4>üîß Passo 6: Configura√ß√£o em Produ√ß√£o - Checklist</h4>
              <p>
                Para colocar o sistema de payout em produ√ß√£o, siga este checklist:
              </p>
              <div class="callout" style="margin-top: 1rem; padding: 1.5rem;">
                <h5 style="margin-top: 0;">‚úÖ Pr√©-requisitos</h5>
                <ol style="margin-left: 1.5rem; line-height: 2;">
                  <li><strong>Migration aplicada</strong>: Execute a migration <code>20260119000000_AddFinancialSystem.cs</code> no banco de dados</li>
                  <li><strong>Gateway de pagamento configurado</strong>: Tenha uma conta no gateway (Stripe Connect, MercadoPago, etc.)</li>
                  <li><strong>Background worker ativo</strong>: Certifique-se de que o <code>PayoutProcessingWorker</code> est√° rodando</li>
                </ol>

                <h5 style="margin-top: 1.5rem;">‚öôÔ∏è Configura√ß√£o Inicial</h5>
                <ol style="margin-left: 1.5rem; line-height: 2;">
                  <li><strong>Configure payout por territ√≥rio</strong>: Use <code>POST /api/v1/territories/{territoryId}/payout-config</code></li>
                  <li><strong>Configure per√≠odo de reten√ß√£o</strong>: Recomendado: 7-14 dias (protege contra chargebacks)</li>
                  <li><strong>Configure valor m√≠nimo</strong>: Recomendado: R$ 50,00 - R$ 200,00 (reduz custos de transfer√™ncia)</li>
                  <li><strong>Configure valor m√°ximo</strong>: Se necess√°rio, limite por payout (ex: R$ 50.000,00)</li>
                  <li><strong>Escolha frequ√™ncia</strong>: <code>"Daily"</code> (di√°rio), <code>"Weekly"</code> (semanal) ou <code>"Monthly"</code> (mensal)</li>
                  <li><strong>Habilite payout autom√°tico</strong>: Defina <code>autoPayoutEnabled: true</code></li>
                </ol>

                <h5 style="margin-top: 1.5rem;">üîå Integra√ß√£o com Gateway de Pagamento</h5>
                <ol style="margin-left: 1.5rem; line-height: 2;">
                  <li><strong>Implemente IPayoutGateway</strong>: Crie implementa√ß√£o para seu gateway (Stripe, MercadoPago, etc.)</li>
                  <li><strong>Registre no DI</strong>: Substitua <code>MockPayoutGateway</code> por sua implementa√ß√£o real em <code>ServiceCollectionExtensions.cs</code></li>
                  <li><strong>Configure credenciais</strong>: Adicione chaves de API do gateway em <code>appsettings.json</code> ou vari√°veis de ambiente</li>
                  <li><strong>Teste em sandbox</strong>: Use ambiente de testes do gateway antes de produ√ß√£o</li>
                </ol>

                <h5 style="margin-top: 1.5rem;">üß™ Testes e Valida√ß√£o</h5>
                <ol style="margin-left: 1.5rem; line-height: 2;">
                  <li><strong>Teste checkout completo</strong>: Crie checkout, marque como <code>Paid</code> e verifique se <code>SellerTransaction</code> foi criada</li>
                  <li><strong>Verifique reten√ß√£o</strong>: Confirme que o valor fica em <code>pendingAmountInCents</code> durante o per√≠odo de reten√ß√£o</li>
                  <li><strong>Teste valor m√≠nimo</strong>: Crie m√∫ltiplos checkouts pequenos e confirme que s√≥ processa quando atinge o m√≠nimo</li>
                  <li><strong>Verifique payout autom√°tico</strong>: Aguarde o background worker processar e verifique transfer√™ncia no gateway</li>
                  <li><strong>Monitore logs</strong>: Verifique logs do <code>PayoutProcessingWorker</code> para erros ou avisos</li>
                </ol>
              </div>
            </div>

            <div class="flow-step">
              <h4>üèóÔ∏è Passo 7: Implementar Gateway de Pagamento Real</h4>
              <p>
                O sistema vem com um <code>MockPayoutGateway</code> para desenvolvimento. Para produ√ß√£o, voc√™ precisa
                implementar o <code>IPayoutGateway</code> para seu gateway de pagamento preferido (Stripe Connect, MercadoPago, etc.).
              </p>
              <div class="info-box">
                <strong>üìù Exemplo: Interface IPayoutGateway</strong>
                <pre class="code-block" style="margin-top: 0.5rem; background: #0a0e12;"><code>public interface IPayoutGateway
{
  Task&lt;OperationResult&lt;PayoutResult&gt;&gt; CreatePayoutAsync(
    long amountInCents,
    string currency,
    string sellerAccountId,
    string description,
    Dictionary&lt;string, string&gt;? metadata,
    CancellationToken cancellationToken);

  Task&lt;OperationResult&lt;PayoutStatusResult&gt;&gt; GetPayoutStatusAsync(
    string payoutId,
    CancellationToken cancellationToken);

  Task&lt;OperationResult&gt; CancelPayoutAsync(
    string payoutId,
    CancellationToken cancellationToken);
}</code></pre>
                <p style="margin-top: 1rem;">
                  Voc√™ precisa implementar os 3 m√©todos acima para seu gateway de pagamento. Veja o exemplo de
                  <code>MockPayoutGateway</code> em <code>backend/Araponga.Infrastructure/Payments/MockPayoutGateway.cs</code>
                  como refer√™ncia.
                </p>
              </div>
            </div>

            <div class="flow-step">
              <h4>üîÑ Passo 8: Como Funciona o Background Worker</h4>
              <p>
                O <code>PayoutProcessingWorker</code> verifica payouts pendentes a cada 5 minutos e processa automaticamente
                conforme a frequ√™ncia configurada:
              </p>
              <ul style="margin-left: 1.5rem; line-height: 1.8;">
                <li><strong>Daily</strong>: Processa payouts todos os dias (quando o worker roda)</li>
                <li><strong>Weekly</strong>: Processa payouts toda segunda-feira √†s 00:00 UTC</li>
                <li><strong>Monthly</strong>: Processa payouts no dia 1 de cada m√™s √†s 00:00 UTC</li>
                <li><strong>Manual</strong>: N√£o processa automaticamente - apenas quando chamado manualmente via API</li>
              </ul>
              <p style="margin-top: 1rem;">
                O worker est√° configurado automaticamente quando voc√™ roda a API. N√£o precisa fazer nada extra para ativ√°-lo.
              </p>
            </div>

            <div class="flow-step">
              <h4>üìä Passo 9: Monitoramento e Troubleshooting</h4>
              <p>
                Para monitorar o sistema de payout em produ√ß√£o:
              </p>
              <ul style="margin-left: 1.5rem; line-height: 1.8;">
                <li><strong>Logs do Worker</strong>: Procure por <code>PayoutProcessingWorker</code> nos logs para ver processamento</li>
                <li><strong>Transa√ß√µes Financeiras</strong>: Consulte <code>GET /api/v1/territories/{territoryId}/platform-financial/revenue</code> para receitas</li>
                <li><strong>Transa√ß√µes de Despesa</strong>: Consulte <code>GET /api/v1/territories/{territoryId}/platform-financial/expenses</code> para payouts</li>
                <li><strong>Status de Payouts</strong>: Use <code>UpdatePayoutStatusAsync</code> para atualizar status do gateway periodicamente</li>
              </ul>
            </div>

            <div class="grid-two" style="margin-top: 2rem;">
              <div class="card">
                <h3>üéØ Casos de Uso Comuns</h3>
                <ul style="line-height: 1.8;">
                  <li><strong>Vendedor quer saber quando receber√°</strong>: Consulte <code>/seller-balance/me</code> para ver valores pendentes e prontos para payout</li>
                  <li><strong>Processar payout manualmente</strong>: Use <code>ProcessPendingPayoutsAsync</code> do <code>SellerPayoutService</code> via API admin</li>
                  <li><strong>Ver hist√≥rico de transa√ß√µes</strong>: Consulte <code>/seller-balance/me/transactions</code> para ver todas as transa√ß√µes do vendedor</li>
                  <li><strong>Auditar receitas da plataforma</strong>: Use endpoints de <code>/platform-financial</code> para ver fees coletadas</li>
                </ul>
              </div>
              <div class="card">
                <h3>‚ö†Ô∏è Pontos de Aten√ß√£o</h3>
                <ul style="line-height: 1.8;">
                  <li><strong>Per√≠odo de reten√ß√£o</strong>: Protege contra chargebacks - n√£o configure muito curto</li>
                  <li><strong>Valor m√≠nimo</strong>: Reduz custos de transfer√™ncia - configure baseado no custo do gateway</li>
                  <li><strong>Valor m√°ximo</strong>: Limita exposi√ß√£o a risco - configure se necess√°rio</li>
                  <li><strong>Moedas diferentes</strong>: Cada territ√≥rio pode ter configura√ß√£o em moeda diferente</li>
                  <li><strong>Testes primeiro</strong>: Sempre teste com valores pequenos antes de produ√ß√£o</li>
                </ul>
              </div>
            </div>

            <div class="callout">
              <strong>üìö Documenta√ß√£o T√©cnica Completa</strong>
              <p style="margin-top: 0.5rem;">
                Para detalhes t√©cnicos completos, consulte:
                <a href="https://github.com/sraphaz/araponga/blob/main/docs/backlog-api/FASE7.md">docs/backlog-api/FASE7.md</a>
              </p>
            </div>
          </section>

          <section class="section" id="eventos">
            <span class="eyebrow" data-i18n="events.eyebrow">Eventos</span>
            <h2 data-i18n="events.title">Eventos territoriais com data/hora e localiza√ß√£o</h2>
            <p data-i18n="events.lead">
              Eventos s√£o criados por moradores e aparecem no feed e no mapa. Eles t√™m data/hora de in√≠cio
              (obrigat√≥ria) e fim (opcional), al√©m de geolocaliza√ß√£o obrigat√≥ria.
            </p>

            <div class="flow-step">
              <h4>17. Criar evento com imagem de capa e imagens adicionais</h4>
              <p>
                Use <code>POST /api/v1/events</code> para criar eventos. O evento automaticamente gera um post
                no feed e aparece no mapa. Eventos podem incluir uma imagem de capa (<code>coverMediaId</code>) e
                at√© 10 imagens adicionais (<code>additionalMediaIds</code>).
              </p>
              <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/events \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -H "X-Session-Id: session-123" \
  -d '{
    "territoryId": "11111111-1111-1111-1111-111111111111",
    "title": "Feira de artesanato",
    "description": "Feira mensal no centro",
    "startsAtUtc": "2024-12-15T10:00:00Z",
    "endsAtUtc": "2024-12-15T18:00:00Z",
    "latitude": -23.55,
    "longitude": -46.63,
    "locationLabel": "Pra√ßa Central",
    "coverMediaId": "ffffffff-ffff-ffff-ffff-ffffffffffff",
    "additionalMediaIds": ["aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa"]
  }'</code></pre>
              <div class="info-box">
                <strong>üì∏üé•üéß M√≠dias em Eventos (Imagens, V√≠deos e √Åudios):</strong>
                <ul style="margin-top: 0.5rem; line-height: 1.8;">
                  <li><strong>Upload de m√≠dia</strong>: Primeiro, fa√ßa upload via <code>POST /api/v1/media/upload</code> para obter o <code>mediaId</code> (aceita imagens JPEG/PNG/WebP, v√≠deos MP4 e √°udios MP3/WAV/OGG)</li>
                  <li><strong>M√≠dia de capa</strong>: Use <code>coverMediaId</code> para definir a m√≠dia principal do evento (imagem, v√≠deo ou √°udio, opcional). Formatos: JPEG, PNG, WebP (imagens), MP4 (v√≠deos) ou MP3, WAV, OGG (√°udios)</li>
                  <li><strong>M√≠dias adicionais</strong>: Use <code>additionalMediaIds</code> para incluir at√© 5 m√≠dias adicionais (imagens, v√≠deos ou √°udios). Formatos: JPEG, PNG, WebP (imagens), MP4 (v√≠deos) ou MP3, WAV, OGG (√°udios)</li>
                  <li><strong>V√≠deos</strong>: M√°ximo 1 v√≠deo por evento (em capa ou adicionais), at√© 100MB, at√© 2 minutos. Formatos suportados: MP4</li>
                  <li><strong>√Åudios</strong>: M√°ximo 1 √°udio por evento (em capa ou adicionais), at√© 20MB, at√© 10 minutos (promo√ß√£o de eventos, trilhas sonoras). Formatos suportados: MP3, WAV, OGG</li>
                  <li><strong>Imagens</strong>: M√∫ltiplas imagens permitidas (at√© 6 m√≠dias no total: 1 capa + 5 adicionais, combinando imagens, v√≠deos e √°udios). Formatos suportados: JPEG, PNG, WebP</li>
                  <li><strong>Resposta</strong>: O <code>EventResponse</code> inclui <code>coverImageUrl</code> e <code>additionalImageUrls</code> (pode conter URLs de v√≠deos e √°udios)</li>
                  <li><strong>Valida√ß√£o</strong>: Todas as m√≠dias devem pertencer ao usu√°rio e <code>coverMediaId</code> n√£o pode estar em <code>additionalMediaIds</code>. V√≠deos maiores que 100MB, √°udios maiores que 20MB, mais de 1 v√≠deo ou mais de 1 √°udio por evento retornam erro</li>
                </ul>
              </div>
            </div>

            <div class="flow-step">
              <h4>18. Interesse e confirma√ß√£o em eventos</h4>
              <p>
                Usu√°rios podem marcar interesse via <code>POST /api/v1/events/{eventId}/interest</code> e confirmar participa√ß√£o via
                <code>POST /api/v1/events/{eventId}/confirm</code>.
              </p>
              <pre class="code-block"><code># Marcar interesse
curl -X POST http://localhost:8080/api/v1/events/{eventId}/interest \
  -H "Authorization: Bearer &lt;token&gt;" \

# Confirmar participa√ß√£o
curl -X POST http://localhost:8080/api/v1/events/{eventId}/confirm \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
            </div>
          </section>

          <section class="section" id="admin">
            <span class="eyebrow" data-i18n="admin.eyebrow">Admin & Filas</span>
            <h2 data-i18n="admin.title">Sistema de Filas e Administra√ß√£o</h2>
            <p data-i18n-html="admin.leadHtml">
              O sistema de filas (<code>WorkQueue</code>) permite processar tarefas que requerem revis√£o humana ou
              decis√µes administrativas. Ele √© usado para aprova√ß√£o de pedidos de moradia quando n√£o h√° curadores,
              valida√ß√£o de evid√™ncias de resid√™ncia, triagem de reports de modera√ß√£o e outras tarefas que precisam
              de interven√ß√£o humana.
            </p>
            <div class="grid-two">
              <div class="card">
                <h3>üéØ O que √© o Sistema de Filas?</h3>
                <p>
                  O <code>WorkQueue</code> √© uma fila gen√©rica de tarefas que requerem revis√£o humana. Ele permite
                  que administradores e curadores processem tarefas pendentes de forma organizada e audit√°vel.
                </p>
              </div>
              <div class="card">
                <h3>‚ú® Principais Funcionalidades</h3>
                <ul>
                  <li>‚úÖ <strong>Filas por territ√≥rio</strong>: Cada territ√≥rio tem sua pr√≥pria fila de tarefas</li>
                  <li>‚úÖ <strong>Tipos de tarefa</strong>: JoinRequest, ResidencyVerification, ModerationCase, etc.</li>
                  <li>‚úÖ <strong>Status de tarefa</strong>: Pending, InProgress, Completed, Rejected</li>
                  <li>‚úÖ <strong>Atribui√ß√£o</strong>: Tarefas podem ser atribu√≠das a curadores ou administradores</li>
                  <li>‚úÖ <strong>Auditoria</strong>: Todas as a√ß√µes s√£o registradas e audit√°veis</li>
                </ul>
              </div>
            </div>
            <div class="flow-step">
              <h4>19. Listar tarefas pendentes</h4>
              <p>
                Use <code>GET /api/v1/work-queue</code> para listar tarefas pendentes. Voc√™ pode filtrar por
                territ√≥rio, tipo de tarefa e status.
              </p>
              <pre class="code-block"><code>curl "http://localhost:8080/api/v1/work-queue?territoryId=11111111-1111-1111-1111-111111111111&amp;status=Pending" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
            </div>
            <div class="flow-step">
              <h4>20. Processar tarefa</h4>
              <p>
                Use <code>POST /api/v1/work-queue/{id}/process</code> para processar uma tarefa. Voc√™ pode
                aprovar, rejeitar ou adiar a tarefa.
              </p>
              <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/work-queue/{id}/process \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "action": "Approve",
    "notes": "Aprovado ap√≥s verifica√ß√£o"
  }'</code></pre>
            </div>
            <div class="callout">
              <strong>üìö Documenta√ß√£o Completa:</strong>
              Documenta√ß√£o completa: <a href="https://github.com/sraphaz/araponga/blob/main/docs/33_ADMIN_SYSTEM_CONFIG_WORKQUEUE.md" rel="noopener">docs/33_ADMIN_SYSTEM_CONFIG_WORKQUEUE.md</a>
            </div>

            <div class="flow-step" style="margin-top: 3rem;">
              <h4>‚öôÔ∏è Configura√ß√£o Avan√ßada de Limites de M√≠dia por Territ√≥rio</h4>
              <p>
                Cada territ√≥rio pode configurar limites personalizados de tamanho e tipos MIME para m√≠dias (imagens, v√≠deos e √°udios)
                em diferentes contextos (Posts, Eventos, Marketplace, Chat). Os limites territoriais n√£o podem exceder os limites globais
                do sistema, garantindo consist√™ncia e controle centralizado.
              </p>

              <div class="info-box" style="margin-top: 1.5rem;">
                <strong>üîß Endpoints de Configura√ß√£o:</strong>
                <ul style="margin-top: 0.5rem; line-height: 1.8;">
                  <li><strong>Obter configura√ß√£o:</strong> <code>GET /api/v1/territories/{territoryId}/media-config</code></li>
                  <li><strong>Atualizar configura√ß√£o:</strong> <code>PUT /api/v1/territories/{territoryId}/media-config</code> (requer Curator)</li>
                </ul>
              </div>

              <h5 style="margin-top: 1.5rem;">üìã Estrutura da Configura√ß√£o</h5>
              <p>
                A configura√ß√£o permite ajustar limites separadamente para cada contexto:
              </p>
              <ul style="margin-left: 1.5rem; line-height: 1.8;">
                <li><strong>Posts:</strong> Limites para m√≠dias em posts do feed</li>
                <li><strong>Eventos:</strong> Limites para m√≠dias de capa e adicionais em eventos</li>
                <li><strong>Marketplace:</strong> Limites para m√≠dias em itens do marketplace</li>
                <li><strong>Chat:</strong> Limites para imagens e √°udios em mensagens (v√≠deos sempre bloqueados)</li>
              </ul>

              <h5 style="margin-top: 1.5rem;">üîí Limites Globais vs Territoriais</h5>
              <p>
                O sistema possui <strong>limites globais</strong> configurados em <code>MediaStorageOptions</code> que definem os valores
                m√°ximos permitidos em toda a plataforma. Os <strong>limites territoriais</strong> podem ser mais restritivos, mas nunca
                mais permissivos que os globais:
              </p>
              <ul style="margin-left: 1.5rem; line-height: 1.8;">
                <li><strong>Limites globais (padr√£o):</strong> Imagens 10MB, V√≠deos 50MB, √Åudios 20MB</li>
                <li><strong>Limites territoriais:</strong> Podem ser menores que os globais (ex: 5MB para imagens), mas nunca maiores</li>
                <li><strong>Tipos MIME:</strong> Podem ser restringidos por territ√≥rio (ex: apenas JPEG para imagens)</li>
                <li><strong>Fallback autom√°tico:</strong> Se n√£o configurado, usa limites globais</li>
              </ul>

              <h5 style="margin-top: 1.5rem;">üìù Exemplo: Atualizar Limites de Posts</h5>
              <pre class="code-block"><code># Atualizar limites de m√≠dia para Posts (como Curator)
curl -X PUT "http://localhost:8080/api/v1/territories/{territoryId}/media-config" \
  -H "Authorization: Bearer &lt;curator-token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "posts": {
      "imagesEnabled": true,
      "videosEnabled": true,
      "audioEnabled": true,
      "maxMediaCount": 10,
      "maxVideoCount": 1,
      "maxAudioCount": 1,
      "maxImageSizeBytes": 5242880,
      "maxVideoSizeBytes": 26214400,
      "maxAudioSizeBytes": 5242880,
      "maxVideoDurationSeconds": 60,
      "maxAudioDurationSeconds": 300,
      "allowedImageMimeTypes": ["image/jpeg", "image/png"],
      "allowedVideoMimeTypes": ["video/mp4"],
      "allowedAudioMimeTypes": ["audio/mpeg", "audio/wav"]
    },
    "events": null,
    "marketplace": null,
    "chat": null
  }'</code></pre>

              <h5 style="margin-top: 1.5rem;">üîÑ Atualiza√ß√£o Parcial</h5>
              <p>
                Voc√™ pode atualizar apenas uma parte da configura√ß√£o. Os campos n√£o especificados mant√™m seus valores atuais:
              </p>
              <pre class="code-block"><code># Atualizar apenas limites de Chat
curl -X PUT "http://localhost:8080/api/v1/territories/{territoryId}/media-config" \
  -H "Authorization: Bearer &lt;curator-token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "posts": null,
    "events": null,
    "marketplace": null,
    "chat": {
      "imagesEnabled": true,
      "audioEnabled": true,
      "maxImageSizeBytes": 2097152,
      "maxAudioSizeBytes": 1048576,
      "maxAudioDurationSeconds": 60
    }
  }'</code></pre>

              <div class="info-box" style="margin-top: 1.5rem;">
                <strong>‚ö†Ô∏è Valida√ß√µes Autom√°ticas:</strong>
                <ul style="margin-top: 0.5rem; line-height: 1.8;">
                  <li>Valores que excedem limites globais s√£o automaticamente ajustados para os limites globais</li>
                  <li>Tipos MIME n√£o especificados usam os tipos MIME globais permitidos</li>
                  <li>Limites m√≠nimos: 1KB para qualquer tipo de m√≠dia</li>
                  <li>Chat sempre bloqueia v√≠deos, independente da configura√ß√£o</li>
                </ul>
              </div>

              <div class="callout" style="margin-top: 1.5rem;">
                <strong>üìö Refer√™ncias:</strong>
                <ul style="margin-top: 0.5rem; line-height: 1.8;">
                  <li>Documenta√ß√£o da Fase 10: <a href="https://github.com/sraphaz/araponga/blob/main/docs/backlog-api/FASE10.md" rel="noopener">docs/backlog-api/FASE10.md</a></li>
                  <li>Configura√ß√£o de Storage: <a href="https://github.com/sraphaz/araponga/blob/main/docs/backlog-api/FASE10_STORAGE_CONFIG_ADMIN.md" rel="noopener">docs/backlog-api/FASE10_STORAGE_CONFIG_ADMIN.md</a></li>
                </ul>
              </div>
            </div>
          </section>

          <!-- Opera√ß√µes - P√°ginas Dedicadas com Diagramas -->
          <section class="section" id="operacao-auth">
            <span class="eyebrow">Opera√ß√£o</span>
            <h2>Autentica√ß√£o Social</h2>
            <p class="lead-text">
              Use <code>POST /api/v1/auth/social</code> com <code>Provider</code>, <code>ExternalId</code>, <code>DisplayName</code>
              e <strong>CPF</strong> ou <strong>ForeignDocument</strong>. A resposta traz o token JWT.
            </p>
            <div class="flow-step">
              <h4>Endpoint</h4>
              <pre class="code-block"><code>POST /api/v1/auth/social</code></pre>
              <h4>Exemplo de Requisi√ß√£o</h4>
              <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/auth/social \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "google",
    "externalId": "abc-123",
    "displayName": "Ana Souza",
    "cpf": "12345678900",
    "email": "ana@exemplo.com"
  }'</code></pre>
              <h4>Diagrama de Sequ√™ncia</h4>
              <details class="sequence-diagram-toggle">
                <summary class="sequence-diagram-summary">
                  <span>üìä Ver Diagrama de Sequ√™ncia</span>
                </summary>
                <div class="sequence-diagram-container">
                  <img src="./assets/images/diagrams/auth.svg" alt="Diagrama de sequ√™ncia: Autentica√ß√£o" class="mermaid-diagram" data-diagram="auth" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
                  <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
                </div>
              </details>
            </div>
          </section>

          <section class="section" id="operacao-territory-discovery">
            <span class="eyebrow">Opera√ß√£o</span>
            <h2>Descoberta de Territ√≥rio</h2>
            <p class="lead-text">
              Descubra territ√≥rios pr√≥ximos usando geolocaliza√ß√£o ou liste todos os territ√≥rios dispon√≠veis.
            </p>
            <div class="flow-step">
              <h4>Endpoints</h4>
              <ul class="card-list">
                <li><strong>Territ√≥rios pr√≥ximos:</strong> <code>GET /api/v1/territories/nearby?lat=-23.55&lng=-46.63</code></li>
                <li><strong>Listar todos:</strong> <code>GET /api/v1/territories</code></li>
              </ul>
              <h4>Exemplo de Requisi√ß√£o</h4>
              <pre class="code-block"><code>curl "http://localhost:8080/api/v1/territories/nearby?lat=-23.55&lng=-46.63" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
              <h4>Diagrama de Sequ√™ncia</h4>
              <details class="sequence-diagram-toggle">
                <summary class="sequence-diagram-summary">
                  <span>üìä Ver Diagrama de Sequ√™ncia</span>
                </summary>
                <div class="sequence-diagram-container">
                  <img src="./assets/images/diagrams/territory-discovery.svg" alt="Diagrama de sequ√™ncia: Descoberta de Territ√≥rio" class="mermaid-diagram" data-diagram="territory-discovery" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
                  <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
                </div>
              </details>
            </div>
          </section>

          <section class="section" id="operacao-marketplace-checkout">
            <span class="eyebrow">Opera√ß√£o</span>
            <h2>Marketplace Checkout</h2>
            <p class="lead-text">
              Fluxo completo de marketplace: criar loja, adicionar itens, gerenciar carrinho, fazer checkout e processar payout.
            </p>
            <div class="flow-step">
              <h4>Fluxo Completo</h4>
              <ol class="card-list" style="list-style-type: decimal;">
                <li><strong>Criar loja:</strong> <code>POST /api/v1/stores</code></li>
                <li><strong>Adicionar itens:</strong> <code>POST /api/v1/items</code></li>
                <li><strong>Adicionar ao carrinho:</strong> <code>POST /api/v1/cart/items</code></li>
                <li><strong>Checkout:</strong> <code>POST /api/v1/cart/checkout</code></li>
                <li><strong>Marcar como pago:</strong> <code>PATCH /api/v1/cart/checkout/{id}/status</code> (Status: Paid)</li>
                <li><strong>Payout autom√°tico:</strong> Sistema processa payout conforme configura√ß√£o</li>
              </ol>
              <h4>Diagrama de Sequ√™ncia</h4>
              <details class="sequence-diagram-toggle">
                <summary class="sequence-diagram-summary">
                  <span>üìä Ver Diagrama de Sequ√™ncia</span>
                </summary>
                <div class="sequence-diagram-container">
                  <img src="./assets/images/diagrams/marketplace-checkout.svg" alt="Diagrama de sequ√™ncia: Marketplace - Fluxo completo (loja ‚Üí item ‚Üí carrinho ‚Üí checkout ‚Üí payout)" class="mermaid-diagram" data-diagram="marketplace-checkout" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
                  <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
                </div>
              </details>
            </div>
          </section>
        </div>

        <!-- Tab 5: Avan√ßado -->
        <div class="phase-panel" data-phase-panel="avancado">
          <section class="section" id="capacidades-tecnicas">
        <span class="eyebrow">Funda√ß√µes T√©cnicas</span>
        <h2>Qualidade, Performance e Observabilidade</h2>
        <p class="lead-text">
          A API Araponga foi constru√≠da sobre uma base s√≥lida de pr√°ticas de engenharia moderna.
          Arquitetura limpa, testes abrangentes e observabilidade completa garantem confiabilidade,
          manutenibilidade e escalabilidade para comunidades em produ√ß√£o.
        </p>

        <div class="model-grid spaced">
          <div class="card">
            <div class="card-icon-header">
              <span class="icon">‚úì</span>
              <h3>Qualidade de C√≥digo</h3>
            </div>
            <p class="card-intro">
              Engenharia de software orientada a qualidade e confiabilidade, com foco em
              manutenibilidade a longo prazo e evolu√ß√£o segura da plataforma.
            </p>
            <dl class="entity-list">
              <dt><strong>Pagina√ß√£o padronizada</strong></dt>
              <dd>15 endpoints cr√≠ticos implementam pagina√ß√£o completa com <code>PaginatedResult&lt;T&gt;</code>, garantindo performance consistente em grandes volumes de dados.</dd>

              <dt><strong>Valida√ß√£o robusta</strong></dt>
              <dd>FluentValidation em todas as camadas: contratos de API, comandos de aplica√ß√£o e regras de dom√≠nio. Valida√ß√µes declarativas e mensagens de erro claras.</dd>

              <dt><strong>Cobertura de testes acima de 90%</strong></dt>
              <dd>Testes unit√°rios, de integra√ß√£o e end-to-end cobrindo fluxos cr√≠ticos. Testes de infraestrutura para reposit√≥rios e servi√ßos de aplica√ß√£o.</dd>

              <dt><strong>Testes de seguran√ßa e performance</strong></dt>
              <dd>Testes automatizados de vulnerabilidades comuns, valida√ß√£o de autoriza√ß√£o e testes de carga para endpoints cr√≠ticos.</dd>

              <dt><strong>Refatora√ß√£o completa de services</strong></dt>
              <dd>Arquitetura limpa com Single Responsibility Principle. Services focados, test√°veis e desacoplados, facilitando manuten√ß√£o e evolu√ß√£o.</dd>
            </dl>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">‚ö°</span>
              <h3>Performance & Escalabilidade</h3>
            </div>
            <p class="card-intro">
              Otimiza√ß√µes arquiteturais e t√©cnicas avan√ßadas para garantir baixa lat√™ncia
              e capacidade de crescimento com o aumento da demanda.
            </p>
            <dl class="entity-list">
              <dt><strong>Concorr√™ncia otimista</strong></dt>
              <dd>RowVersion em entidades cr√≠ticas previne condi√ß√µes de corrida e garante consist√™ncia de dados em opera√ß√µes concorrentes.</dd>

              <dt><strong>Cache distribu√≠do</strong></dt>
              <dd>Redis para cache de sess√µes, configura√ß√µes e dados frequentemente acessados, reduzindo carga no banco de dados.</dd>

              <dt><strong>Processamento ass√≠ncrono</strong></dt>
              <dd>Event Bus com padr√£o Outbox/Inbox para processamento confi√°vel de eventos, notifica√ß√µes e opera√ß√µes em background.</dd>

              <dt><strong>Read replicas</strong></dt>
              <dd>Suporte nativo para leitura distribu√≠da, permitindo escalar consultas independentemente de opera√ß√µes de escrita.</dd>

              <dt><strong>Deployment multi-inst√¢ncia</strong></dt>
              <dd>Arquitetura stateless permite escalonamento horizontal sem compartilhamento de estado entre inst√¢ncias.</dd>
            </dl>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">üìä</span>
              <h3>Observabilidade</h3>
            </div>
            <p class="card-intro">
              Visibilidade completa sobre o comportamento da plataforma em produ√ß√£o,
              permitindo detec√ß√£o proativa de problemas e otimiza√ß√£o cont√≠nua.
            </p>
            <dl class="entity-list">
              <dt><strong>Logs estruturados</strong></dt>
              <dd>Serilog com Seq para logs centralizados, pesquis√°veis e estruturados. Contexto enriquecido para debugging eficiente.</dd>

              <dt><strong>M√©tricas Prometheus</strong></dt>
              <dd>M√©tricas de neg√≥cio e infraestrutura expostas em formato Prometheus para monitoramento e alertas baseados em thresholds.</dd>

              <dt><strong>Distributed tracing</strong></dt>
              <dd>OpenTelemetry para rastreamento de requisi√ß√µes atrav√©s de servi√ßos, facilitando identifica√ß√£o de gargalos e depend√™ncias.</dd>

              <dt><strong>Dashboards e alertas</strong></dt>
              <dd>Grafana para visualiza√ß√£o de m√©tricas e alertas configur√°veis para eventos cr√≠ticos e degrada√ß√£o de performance.</dd>

              <dt><strong>Runbook e troubleshooting</strong></dt>
              <dd>Documenta√ß√£o operacional detalhada para incidentes comuns, facilitando resolu√ß√£o r√°pida e consistente de problemas.</dd>
            </dl>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">üîí</span>
              <h3>Seguran√ßa</h3>
            </div>
            <p class="card-intro">
              M√∫ltiplas camadas de prote√ß√£o para garantir integridade de dados, privacidade
              dos usu√°rios e resist√™ncia a ataques comuns.
            </p>
            <dl class="entity-list">
              <dt><strong>Autentica√ß√£o multi-fator</strong></dt>
              <dd>2FA via TOTP (Time-based One-Time Password) para prote√ß√£o adicional de contas sens√≠veis e opera√ß√µes cr√≠ticas.</dd>

              <dt><strong>Sanitiza√ß√£o avan√ßada</strong></dt>
              <dd>Valida√ß√£o e sanitiza√ß√£o rigorosa de inputs em todas as camadas, prevenindo inje√ß√£o de c√≥digo e XSS.</dd>

              <dt><strong>Prote√ß√£o CSRF</strong></dt>
              <dd>Anti-forgery tokens para prevenir requisi√ß√µes cross-site n√£o autorizadas em opera√ß√µes de estado.</dd>

              <dt><strong>Security headers</strong></dt>
              <dd>Content Security Policy (CSP), HTTP Strict Transport Security (HSTS) e outros headers de seguran√ßa configurados adequadamente.</dd>

              <dt><strong>Auditoria completa</strong></dt>
              <dd>Log de todas as a√ß√µes cr√≠ticas (mudan√ßas de role, modera√ß√£o, configura√ß√µes) para rastreabilidade e compliance.</dd>
            </dl>
          </div>
        </div>

        <div class="callout highlight">
          <p>
            <strong>Qualidade em produ√ß√£o:</strong> A API Araponga segue rigorosamente os princ√≠pios de engenharia de software
            de alto padr√£o, com foco em confiabilidade, manutenibilidade e escalabilidade. Todas as decis√µes arquiteturais
            foram documentadas e s√£o continuamente revisadas para garantir evolu√ß√£o segura e sustent√°vel da plataforma.
          </p>
        </div>
      </section>

      <section class="section" id="roadmap">
        <span class="eyebrow">Vis√£o Futura</span>
        <div>
          <h2>Roadmap e Direcionamento</h2>
          <p class="lead-text space-bottom">
            O Araponga evolui de forma consciente e sustent√°vel, priorizando funcionalidades que
            fortalecem a organiza√ß√£o comunit√°ria local. O roadmap de 28 fases desenha um caminho
            gradual em dire√ß√£o a maior autonomia territorial, economia circular e regenera√ß√£o social.
            Cada fase expande capacidades t√©cnicas que, em conjunto, permitem que comunidades
            construam e sustentem seus pr√≥prios sistemas de organiza√ß√£o, economia e cuidado territorial.
            Abaixo est√£o as dire√ß√µes planejadas e oportunidades de contribui√ß√£o.
          </p>
        </div>

        <div class="model-grid spaced">
          <div class="card">
            <div class="card-icon-header">
              <span class="icon">1Ô∏è‚É£</span>
              <h3>Onda 1: MVP Essencial</h3>
            </div>
            <p class="card-intro">
              <strong>Fases 8-11:</strong> Infraestrutura de m√≠dia, perfil completo, m√≠dias em conte√∫do e edi√ß√£o. Base s√≥lida para comunica√ß√£o rica e express√£o comunit√°ria.
            </p>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">2Ô∏è‚É£</span>
              <h3>Onda 2: Comunica√ß√£o e Governan√ßa</h3>
            </div>
            <p class="card-intro">
              <strong>Fases 13-14:</strong> Conector de e-mail e governan√ßa comunit√°ria com vota√ß√£o. Ferramentas para decis√£o coletiva e participa√ß√£o democr√°tica.
            </p>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">3Ô∏è‚É£</span>
              <h3>Onda 3: Soberania Territorial</h3>
            </div>
            <p class="card-intro">
              <strong>Fases 17-18:</strong> Gamifica√ß√£o harmoniosa e sa√∫de territorial com monitoramento. Engajamento sustent√°vel e cuidado com o territ√≥rio atrav√©s de mec√¢nicas conscientes.
            </p>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">4Ô∏è‚É£</span>
              <h3>Onda 4: Economia Local</h3>
            </div>
            <p class="card-intro">
              <strong>Fases 20, 23-24:</strong> Moeda territorial, compra coletiva e trocas comunit√°rias. Economia circular e autonomia financeira territorial fortalecendo redes locais.
            </p>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">5Ô∏è‚É£</span>
              <h3>Onda 5: Conformidade e Intelig√™ncia</h3>
            </div>
            <p class="card-intro">
              <strong>Fases 12, 15:</strong> Otimiza√ß√µes finais e intelig√™ncia artificial integrada. Performance e capacidades avan√ßadas mantendo os princ√≠pios do projeto.
            </p>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">6Ô∏è‚É£</span>
              <h3>Onda 6: Diferenciais</h3>
            </div>
            <p class="card-intro">
              <strong>Fases 16, 19, 21-22:</strong> Entregas territoriais, arquitetura modular, suporte a criptomoedas e integra√ß√µes externas. Flexibilidade arquitetural mantendo autonomia.
            </p>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">7Ô∏è‚É£</span>
              <h3>Onda 7: Autonomia Digital e Economia Circular</h3>
            </div>
            <p class="card-intro">
              <strong>Fases 25-28:</strong> Hub de servi√ßos digitais, chat com IA, consumo consciente, negocia√ß√£o territorial, assinatura coletiva e banco de sementes. Autonomia digital completa e soberania alimentar territorial.
            </p>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">üéØ</span>
              <h3>Direcionamento e Princ√≠pios</h3>
            </div>
            <p class="card-intro">
              Princ√≠pios fundamentais que guiam a evolu√ß√£o do Araponga atrav√©s das 28 fases.
            </p>
            <ul class="card-list">
              <li><strong>Territ√≥rio-first:</strong> Todas as funcionalidades fortalecem o v√≠nculo com o territ√≥rio f√≠sico e organiza√ß√£o comunit√°ria local.</li>
              <li><strong>Governan√ßa transparente:</strong> Regras expl√≠citas, audit√°veis e evolutivas, com separa√ß√£o clara entre governan√ßa global e territorial.</li>
              <li><strong>Baixa excita√ß√£o, alto cuidado:</strong> Interface e funcionalidades que promovem foco, clareza e continuidade, sem manipula√ß√£o algor√≠tmica.</li>
              <li><strong>Qualidade sobre velocidade:</strong> Cobertura de testes >90%, valida√ß√µes robustas, arquitetura limpa e documenta√ß√£o atualizada.</li>
            </ul>
            <p class="card-divider">
              <strong>üìä Vis√£o completa:</strong> Consulte o <a href="https://github.com/sraphaz/araponga/blob/main/docs/backlog-api/ROADMAP_VISUAL.md">Roadmap Visual</a>
              e a <a href="https://github.com/sraphaz/araponga/blob/main/docs/backlog-api/RESUMO_EXECUTIVO_ESTRATEGICO.md">Estrat√©gia Executiva</a>
              para detalhes completos das 28 fases e suas correla√ß√µes.
            </p>
          </div>
        </div>
      </section>

      <section class="section" id="contribuir">
        <span class="eyebrow">Contribui√ß√£o</span>
        <div>
          <h2>Contribua com o Araponga</h2>
          <p class="lead-text space-bottom">
            O Araponga √© um projeto comunit√°rio de c√≥digo aberto. Contribui√ß√µes s√£o bem-vindas e
            essenciais para fortalecer a plataforma e alcan√ßar comunidades ao redor do mundo.
          </p>
        </div>

        <div class="model-grid spaced-sm">
          <div class="card">
            <h3>üíª Para Desenvolvedores</h3>
            <p class="card-intro">
              Contribua com c√≥digo, testes, documenta√ß√£o e melhorias t√©cnicas.
            </p>
            <ul class="card-list">
              <li><strong>Implementar funcionalidades</strong> alinhadas ao roadmap</li>
              <li><strong>Melhorar cobertura de testes</strong> e qualidade de c√≥digo</li>
              <li><strong>Documentar APIs</strong> e exemplos de uso</li>
              <li><strong>Otimizar performance</strong> e escalabilidade</li>
              <li><strong>Revisar Pull Requests</strong> e sugerir melhorias</li>
            </ul>
            <p class="card-divider">
              <strong>üõ†Ô∏è Setup local:</strong> .NET 8, PostgreSQL + PostGIS, Redis (opcional).
              Consulte <a href="https://github.com/sraphaz/araponga/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a>
              para detalhes t√©cnicos e padr√µes de c√≥digo.
            </p>
          </div>

          <div class="card">
            <h3>üìö Formas de Contribui√ß√£o</h3>
            <p class="card-intro">
              Existem v√°rias formas de contribuir, independente do n√≠vel t√©cnico.
            </p>
            <ul class="card-list">
              <li><strong>Relatar bugs</strong> e propor melhorias via Issues</li>
              <li><strong>Validar fluxos</strong> e testar funcionalidades em desenvolvimento</li>
              <li><strong>Ajustar documenta√ß√£o</strong> e melhorar exemplos pr√°ticos</li>
              <li><strong>Sugerir features</strong> alinhadas √† vis√£o do produto</li>
              <li><strong>Traduzir conte√∫do</strong> para outros idiomas</li>
              <li><strong>Compartilhar casos de uso</strong> e experi√™ncias reais</li>
            </ul>
            <p class="card-divider">
              <strong>üìñ Documenta√ß√£o:</strong> Consulte <a href="https://github.com/sraphaz/araponga/blob/main/docs/">docs/</a>
              para vis√£o de produto, arquitetura, decis√µes t√©cnicas e guias de implementa√ß√£o.
            </p>
          </div>

          <div class="card">
            <div class="card-icon-header">
              <span class="icon">üíö</span>
              <h3>Contribui√ß√£o Financeira via PIX</h3>
            </div>
            <p class="card-intro">
              Ajude a sustentar o projeto Araponga com uma contribui√ß√£o financeira. Sua doa√ß√£o apoia o desenvolvimento cont√≠nuo e a manuten√ß√£o da plataforma.
            </p>
            <p style="color: var(--text-muted); margin: 1rem 0;">
              Contribui√ß√µes s√£o investidas diretamente em infraestrutura, ferramentas de desenvolvimento e melhorias da plataforma.
            </p>
            <p class="card-divider" style="margin-top: 1.5rem;">
              <a href="https://geradordepix.com/pagamento/01KESFV2Q5P6V6K2JWWBY340EK" target="_blank" rel="noopener noreferrer" class="button" style="width: 100%; text-align: center; justify-content: center;">
                <strong>üí∞ Contribuir via PIX</strong>
              </a>
            </p>
            <p style="margin-top: 1rem; color: var(--text-subtle); font-size: 0.875em; text-align: center;">
              Qualquer valor faz diferen√ßa para o crescimento do projeto
            </p>
          </div>
        </div>

        <div class="callout highlight">
          <p>
            <strong>Pr√≥ximos passos:</strong> Explore o reposit√≥rio, abra uma Issue para discuss√£o ou
            envie um Pull Request. Todas as contribui√ß√µes seguem o
            <a href="https://github.com/sraphaz/araponga/blob/main/CODE_OF_CONDUCT.md" style="color: var(--link);">C√≥digo de Conduta</a>
            e passam por revis√£o cuidadosa para manter os altos padr√µes de qualidade do projeto.
          </p>
        </div>
      </section>

      <section class="section" id="versoes">
        <span class="eyebrow" data-i18n="versions.eyebrow">Vers√µes & compatibilidade</span>
        <h2 data-i18n="versions.title">Versionamento</h2>
        <p data-i18n-html="versions.leadHtml">
          A API atual utiliza prefixo <code>/api/v1</code>. Mudan√ßas compat√≠veis devem manter o contrato dentro
          dessa vers√£o. Para evolu√ß√£o maior, a estrat√©gia recomendada √© introduzir um novo prefixo.
        </p>
        <div class="callout">
          Consulte o changelog do reposit√≥rio em <a href="https://github.com/sraphaz/araponga/blob/main/docs/40_CHANGELOG.md">docs/40_CHANGELOG.md</a> para hist√≥rico.
        </div>
      </section>

      <section class="section" id="configure-ambiente">
        <span class="eyebrow">Configure seu Ambiente</span>
        <h2>Configure seu Ambiente - Guia R√°pido</h2>
        <p class="lead-text">
          Este guia r√°pido ajuda voc√™ a configurar seu ambiente para come√ßar a usar a API Araponga em poucos passos.
        </p>
        <div class="flow-step">
          <h3 data-i18n="quickstart.title">Quickstart - Copie e cole (5‚Äì10 comandos)</h3>
        <div class="grid-two">
          <div class="card">
            <h3 data-i18n="quickstart.bashTitle">Bash (Linux/macOS/Git Bash)</h3>
            <pre class="code-block"><code># 1) Rodar API
ASPNETCORE_ENVIRONMENT=Development dotnet run --project backend/Araponga.Api --urls http://localhost:8080

# 2) Autentica√ß√£o social (gera token)
curl -X POST http://localhost:8080/api/v1/auth/social \
  -H "Content-Type: application/json" \
  -d '{"provider":"google","externalId":"abc-123","displayName":"Ana","cpf":"12345678900"}'

# 3) Descobrir territ√≥rio
curl http://localhost:8080/api/v1/territories

# 4) Selecionar territ√≥rio (X-Session-Id)
curl -X POST http://localhost:8080/api/v1/territories/selection \
  -H "Content-Type: application/json" \
  -H "X-Session-Id: session-123" \
  -d '{"territoryId":"11111111-1111-1111-1111-111111111111"}'</code></pre>
          </div>
          <div class="card">
            <h3 data-i18n="quickstart.powershellTitle">PowerShell (Windows)</h3>
            <pre class="code-block"><code># 1) Rodar API
$env:ASPNETCORE_ENVIRONMENT="Development"
dotnet run --project backend/Araponga.Api --urls "http://localhost:8080"

# 2) Autentica√ß√£o social (gera token)
curl.exe -X POST "http://localhost:8080/api/v1/auth/social" `
  -H "Content-Type: application/json" `
  -d "{\"provider\":\"google\",\"externalId\":\"abc-123\",\"displayName\":\"Ana\",\"cpf\":\"12345678900\"}"

# 3) Descobrir territ√≥rio
curl.exe "http://localhost:8080/api/v1/territories"

# 4) Selecionar territ√≥rio (X-Session-Id)
curl.exe -X POST "http://localhost:8080/api/v1/territories/selection" `
  -H "Content-Type: application/json" `
  -H "X-Session-Id: session-123" `
  -d "{\"territoryId\":\"11111111-1111-1111-1111-111111111111\"}"</code></pre>
          </div>
        </div>
        <div class="callout">
          <span data-i18n-html="quickstart.tipHtml"><strong>Dica:</strong> este portal tem fonte √∫nica em <code>backend/Araponga.Api/wwwroot/devportal</code> (HTML/CSS/JS/OpenAPI). O deploy do GitHub Pages publica exatamente essa pasta.</span>
        </div>
      </section>
        </div>

        <!-- Tab 3: API Pr√°tica -->
        <div class="phase-panel" data-phase-panel="api-pratica">
          <section class="section" id="modelo-dominio">
        <span class="eyebrow" data-i18n="domain.eyebrow">Modelo de dom√≠nio</span>
        <h2 data-i18n="domain.title">Entidades principais e relacionamentos</h2>
        <div class="callout">
          <strong>Diagrama do dom√≠nio:</strong> temporariamente removido (atualiza√ß√£o pendente).
        </div>

        <div class="model-grid">
          <div class="card">
            <h3>üß≠ Territ√≥rio & Configura√ß√£o</h3>
            <dl class="entity-list">
              <dt><strong>Territory</strong></dt>
              <dd>Unidade prim√°ria. Contexto para visibilidade, governan√ßa e conte√∫do.</dd>

              <dt><strong>Feature Flags</strong></dt>
              <dd>Habilitam recursos por territ√≥rio (ex.: tipos de post como AlertPosts).</dd>

              <dt><strong>SystemConfig</strong></dt>
              <dd>Par√¢metros calibr√°veis (governan√ßa e valida√ß√µes globais).</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üë§ Identidade, Perfil & Prefer√™ncias</h3>
            <dl class="entity-list">
              <dt><strong>User</strong></dt>
              <dd>Identidade autenticada usada em todos os m√≥dulos.</dd>

              <dt><strong>UserProfile</strong></dt>
              <dd>Perfil do usu√°rio (ex.: display name e contato).</dd>

              <dt><strong>UserPreferences</strong></dt>
              <dd>Prefer√™ncias (privacidade e notifica√ß√µes).</dd>

              <dt><strong>2FA (TOTP)</strong></dt>
              <dd>Camada adicional de seguran√ßa para login (setup/confirm/verify).</dd>
            </dl>
          </div>

          <div class="card">
            <h3>ü§ù Membership & Onboarding</h3>
            <dl class="entity-list">
              <dt><strong>TerritoryMembership</strong></dt>
              <dd>V√≠nculo User ‚Üî Territory com role (Visitor/Resident) e status de resid√™ncia.</dd>

              <dt><strong>JoinRequest</strong></dt>
              <dd>Pedido para virar residente (aprova√ß√£o/rejei√ß√£o pela comunidade/curadoria).</dd>

              <dt><strong>WorkItem</strong></dt>
              <dd>Fila gen√©rica de revis√£o humana (fallback para governan√ßa global quando necess√°rio).</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üßæ Verifica√ß√£o & Evid√™ncias</h3>
            <dl class="entity-list">
              <dt><strong>Verification</strong></dt>
              <dd>Processos de verifica√ß√£o (identidade e resid√™ncia) conforme pol√≠ticas.</dd>

              <dt><strong>DocumentEvidence</strong></dt>
              <dd>Metadados de evid√™ncia (upload e download via proxy).</dd>

              <dt><strong>TerritoryWorkItems</strong></dt>
              <dd>Backlog territorial para curadoria e valida√ß√µes.</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üìù Feed & Publica√ß√µes</h3>
            <dl class="entity-list">
              <dt><strong>CommunityPost</strong></dt>
              <dd>Post do territ√≥rio, com tipo/visibilidade e autoria.</dd>

              <dt><strong>PostGeoAnchor</strong></dt>
              <dd>√Çncora geogr√°fica opcional para integrar feed e mapa.</dd>

              <dt><strong>Share</strong></dt>
              <dd>Compartilhamento de posts dentro do territ√≥rio.</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üó∫Ô∏è Mapa, Assets & Alerts</h3>
            <dl class="entity-list">
              <dt><strong>MapEntity</strong></dt>
              <dd>Entidade do mapa (pode come√ßar sugerida e ser confirmada/validada).</dd>

              <dt><strong>TerritoryAsset</strong></dt>
              <dd>Recurso territorial com geolocaliza√ß√£o obrigat√≥ria.</dd>

              <dt><strong>Alert</strong></dt>
              <dd>Alerta territorial (valida√ß√£o/curadoria, aparece em feed + mapa).</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üõí Marketplace</h3>
            <dl class="entity-list">
              <dt><strong>TerritoryStore</strong></dt>
              <dd>Loja do morador no territ√≥rio.</dd>

              <dt><strong>Item</strong></dt>
              <dd>Produto/servi√ßo publicado pela loja (categoria, tags, pre√ßo, status).</dd>

              <dt><strong>Cart / CartItem</strong></dt>
              <dd>Carrinho por territ√≥rio com itens (quantidade e notas por item).</dd>

              <dt><strong>Inquiry</strong></dt>
              <dd>Mensagem de interesse em um item (inquiries enviadas/recebidas).</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üí∞ Payout & Gest√£o Financeira</h3>
            <dl class="entity-list">
              <dt><strong>FinancialTransaction</strong></dt>
              <dd>Tabela central de rastreabilidade - rastreia cada centavo.</dd>

              <dt><strong>SellerBalance</strong></dt>
              <dd>Saldo do vendedor por territ√≥rio (Pending, ReadyForPayout, Paid).</dd>

              <dt><strong>SellerTransaction</strong></dt>
              <dd>Transa√ß√£o do vendedor vinculada a um checkout pago.</dd>

              <dt><strong>TerritoryPayoutConfig</strong></dt>
              <dd>Configura√ß√£o de payout por territ√≥rio (reten√ß√£o, valores m√≠nimo/m√°ximo, frequ√™ncia).</dd>

              <dt><strong>PlatformFinancialBalance</strong></dt>
              <dd>Saldo da plataforma por territ√≥rio (receitas - despesas).</dd>

              <dt><strong>PlatformRevenueTransaction</strong></dt>
              <dd>Receitas da plataforma (fees coletadas de checkouts).</dd>

              <dt><strong>PlatformExpenseTransaction</strong></dt>
              <dd>Despesas da plataforma (payouts processados para vendedores).</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üìÖ Eventos</h3>
            <dl class="entity-list">
              <dt><strong>TerritoryEvent</strong></dt>
              <dd>Evento territorial com in√≠cio obrigat√≥rio, fim opcional e geolocaliza√ß√£o.</dd>

              <dt><strong>Interest / Confirm</strong></dt>
              <dd>Estados de engajamento: marcar interesse e confirmar presen√ßa no evento.</dd>

              <dt><strong>Integra√ß√£o Feed-Mapa</strong></dt>
              <dd>Evento criado aparece automaticamente no feed e no mapa (mesmo territ√≥rio).</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üí¨ Chat</h3>
            <dl class="entity-list">
              <dt><strong>Conversation</strong></dt>
              <dd>Conversas e grupos (inclui chat territorial).</dd>

              <dt><strong>ChatMessage</strong></dt>
              <dd>Mensagens com pagina√ß√£o por cursor (beforeCreatedAt / beforeMessageId). Suporta imagens (1 por mensagem, m√°x. 5MB) e √°udios curtos (1 por mensagem, m√°x. 2MB, at√© 60s). V√≠deos n√£o permitidos.</dd>

              <dt><strong>Participants</strong></dt>
              <dd>Participantes, pap√©is e "read state" (marcar como lido).</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üõ°Ô∏è Modera√ß√£o & Seguran√ßa</h3>
            <dl class="entity-list">
              <dt><strong>Report</strong></dt>
              <dd>Sinaliza√ß√£o de abuso (posts e usu√°rios), com motivo e detalhes.</dd>

              <dt><strong>Block</strong></dt>
              <dd>Remove visibilidade do conte√∫do produzido por um usu√°rio bloqueado.</dd>

              <dt><strong>TerritoryModerationCase</strong></dt>
              <dd>Casos de modera√ß√£o por territ√≥rio (triagem e rastreabilidade).</dd>
            </dl>
          </div>

          <div class="card">
            <h3>üîî Notifica√ß√µes</h3>
            <dl class="entity-list">
              <dt><strong>OutboxMessage</strong></dt>
              <dd>Registro transacional da inten√ß√£o de notificar.</dd>

              <dt><strong>UserNotification</strong></dt>
              <dd>Inbox in-app por usu√°rio (listar e marcar como lida).</dd>
            </dl>
          </div>

        </div>

        <div class="section-subsection">
          <h3 class="subsection-title">Por que essa estrutura existe</h3>
          <div class="rationale-grid">
            <div class="rationale-card">
              <h4>Separa√ß√£o de responsabilidades</h4>
              <p>Territ√≥rio separado de identidade evita acoplamento social no mapa</p>
            </div>
            <div class="rationale-card">
              <h4>Governan√ßa clara</h4>
              <p>V√≠nculos explicitam presen√ßa local e governan√ßa comunit√°ria</p>
            </div>
            <div class="rationale-card">
              <h4>Integra√ß√£o feed-mapa</h4>
              <p>Posts + geo anchors conectam feed e mapa sem confundir o dom√≠nio</p>
            </div>
            <div class="rationale-card">
              <h4>Economia local</h4>
              <p>Marketplace permite economia dentro do territ√≥rio</p>
            </div>
            <div class="rationale-card">
              <h4>Engajamento</h4>
              <p>Eventos conectam comunidade com atividades locais</p>
            </div>
            <div class="rationale-card">
              <h4>Confian√ßa</h4>
              <p>Modera√ß√£o mant√©m confian√ßa com regras audit√°veis</p>
            </div>
            <div class="rationale-card">
              <h4>Confiabilidade</h4>
              <p>Notifica√ß√µes usam outbox para evitar perda de eventos ap√≥s commit</p>
            </div>
          </div>
        </div>
      </section>

        <section class="section" id="fluxos">
        <span class="eyebrow" data-i18n="flows.eyebrow">Fluxos principais</span>
        <h2 data-i18n="flows.title">Sequ√™ncias orientadas a produto e API</h2>

        <div class="flow-step">
          <h4>1. Autentica√ß√£o social ‚Üí JWT</h4>
          <p>
            Use <code>POST /api/v1/auth/social</code> com <code>Provider</code>, <code>ExternalId</code>, <code>DisplayName</code>
            e <strong>CPF</strong> ou <strong>ForeignDocument</strong>. A resposta traz o token JWT.
          </p>
          <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/auth/social \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "google",
    "externalId": "abc-123",
    "displayName": "Ana Souza",
    "cpf": "12345678900",
    "email": "ana@exemplo.com"
  }'</code></pre>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/auth.svg" alt="Diagrama de sequ√™ncia: Autentica√ß√£o" class="mermaid-diagram" data-diagram="auth" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>2. Descoberta de territ√≥rio</h4>
          <p>
            <code>GET /api/v1/territories</code> lista territ√≥rios dispon√≠veis. Para busca, use
            <code>/search</code> ou <code>/nearby</code> com <code>lat</code> e <code>lng</code>.
          </p>
          <pre class="code-block"><code>curl "http://localhost:8080/api/v1/territories/nearby?lat=-23.55&amp;lng=-46.63&amp;radiusKm=10"</code></pre>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/territory-discovery.svg" alt="Diagrama de sequ√™ncia: territory-discovery" class="mermaid-diagram" data-diagram="territory-discovery" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step" id="territory-selection">
          <h4>3. Sele√ß√£o de territ√≥rio (sess√£o)</h4>
          <p>
            Defina o territ√≥rio ativo com <code>POST /api/v1/territories/selection</code> usando
            <code>X-Session-Id</code>. Esse header substitui o <code>territoryId</code> em v√°rias rotas.
          </p>
          <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/territories/selection \
  -H "Content-Type: application/json" \
  -H "X-Session-Id: session-123" \
  -d '{"territoryId": "11111111-1111-1111-1111-111111111111"}'</code></pre>
        </div>

        <div class="flow-step">
          <h4>4. Feed territorial</h4>
          <p>
            <code>GET /api/v1/feed</code> retorna posts filtrados pelo territ√≥rio ativo. Visitantes veem
            apenas posts p√∫blicos publicados. Moradores veem conte√∫do ampliado.
          </p>
          <pre class="code-block"><code>curl http://localhost:8080/api/v1/feed \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "X-Session-Id: session-123"</code></pre>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/feed-listing.svg" alt="Diagrama de sequ√™ncia: Listagem de Feed" class="mermaid-diagram" data-diagram="feed-listing" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>5. Criar post + √¢ncoras geogr√°ficas + m√≠dias</h4>
          <p>
            Para criar post use <code>POST /api/v1/feed</code>. As √¢ncoras geogr√°ficas s√£o opcionais e
            posts s√£o criados por moradores. Posts podem incluir at√© 10 m√≠dias (imagens, v√≠deos e/ou √°udios) atrav√©s do campo <code>mediaIds</code>, com no m√°ximo 1 v√≠deo e 1 √°udio por post.
            Eventos s√£o criados via <code>POST /api/v1/events</code>,
            com data/hora e geolocaliza√ß√£o obrigat√≥ria, e aparecem no feed e no mapa.
          </p>
          <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/feed \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -H "X-Session-Id: session-123" \
  -d '{
    "title": "Mutir√£o de limpeza",
    "content": "Encontro s√°bado 9h.",
    "type": "General",
    "visibility": "Public",
    "mapEntityId": null,
    "geoAnchors": [{"latitude": -23.55, "longitude": -46.63, "type": "POST"}],
    "assetIds": ["aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa"],
    "mediaIds": ["bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "cccccccc-cccc-cccc-cccc-cccccccccccc"]
  }'</code></pre>
          <div class="info-box">
            <strong>üì∏üé•üéß M√≠dias em Posts (Imagens, V√≠deos e √Åudios):</strong>
            <ul style="margin-top: 0.5rem; line-height: 1.8;">
              <li><strong>Upload de m√≠dia</strong>: Primeiro, fa√ßa upload via <code>POST /api/v1/media/upload</code> para obter o <code>mediaId</code> (aceita imagens JPEG/PNG/WebP, v√≠deos MP4 e √°udios MP3/WAV/OGG)</li>
              <li><strong>Associar ao post</strong>: Inclua os <code>mediaIds</code> no array ao criar o post (m√°ximo 10 m√≠dias: imagens, v√≠deos e/ou √°udios)</li>
              <li><strong>V√≠deos</strong>: M√°ximo 1 v√≠deo por post, at√© 50MB, at√© 60 segundos (similar a TikTok/Instagram Reels). Formatos suportados: MP4</li>
              <li><strong>√Åudios</strong>: M√°ximo 1 √°udio por post, at√© 10MB, at√© 5 minutos (podcasts curtos, narra√ß√µes). Formatos suportados: MP3, WAV, OGG</li>
              <li><strong>Imagens</strong>: M√∫ltiplas imagens permitidas (at√© 10 m√≠dias no total, combinando imagens, v√≠deos e √°udios). Formatos suportados: JPEG, PNG, WebP</li>
              <li><strong>Resposta</strong>: O <code>FeedItemResponse</code> inclui <code>mediaUrls</code> (array de URLs de imagens, v√≠deos e √°udios) e <code>mediaCount</code></li>
              <li><strong>Valida√ß√£o</strong>: Todas as m√≠dias devem pertencer ao usu√°rio que est√° criando o post. V√≠deos maiores que 50MB, √°udios maiores que 10MB, mais de 1 v√≠deo ou mais de 1 √°udio por post retornam erro</li>
            </ul>
          </div>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/post-creation.svg" alt="Diagrama de sequ√™ncia: post-creation" class="mermaid-diagram" data-diagram="post-creation" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>5a. Criar evento comunit√°rio</h4>
          <p>
            Eventos s√£o criados via <code>POST /api/v1/events</code> com data/hora e geolocaliza√ß√£o obrigat√≥ria.
            Eventos aparecem automaticamente no feed e no mapa. Usu√°rios podem marcar interesse ou confirma√ß√£o.
          </p>
          <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/events \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -H "X-Session-Id: session-123" \
  -d '{
    "territoryId": "11111111-1111-1111-1111-111111111111",
    "title": "Mutir√£o de limpeza",
    "description": "Encontro s√°bado 9h",
    "startsAtUtc": "2025-01-25T09:00:00Z",
    "latitude": -23.55,
    "longitude": -46.63,
    "locationLabel": "Pra√ßa Central"
  }'</code></pre>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/events-creation.svg" alt="Diagrama de sequ√™ncia: Eventos - Cria√ß√£o e confirma√ß√£o" class="mermaid-diagram" data-diagram="events-creation" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>6. Assets territoriais (com geolocaliza√ß√£o obrigat√≥ria)</h4>
          <p>
            Assets sempre possuem ao menos uma √¢ncora geogr√°fica e s√£o exibidos no mapa via pins do tipo
            <code>asset</code>. Somente moradores validados ou curadores podem criar/editar/arquivar.
          </p>
          <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/assets \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -H "X-Session-Id: session-123" \
  -d '{
    "territoryId": "11111111-1111-1111-1111-111111111111",
    "type": "river",
    "name": "Rio do Vale",
    "description": "Trecho monitorado",
    "geoAnchors": [{"latitude": -23.55, "longitude": -46.63}]
  }'</code></pre>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/assets-validation.svg" alt="Diagrama de sequ√™ncia: Assets - Cria√ß√£o e valida√ß√£o por curador" class="mermaid-diagram" data-diagram="assets-validation" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>7. Alertas ambientais (feed + mapa)</h4>
          <p>
            Alertas usam <code>/api/v1/alerts</code> e aparecem no feed e no mapa (pins do tipo
            <code>alert</code>) quando validados por curadores.
          </p>
          <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/alerts \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -H "X-Session-Id: session-123" \
  -d '{"title": "Queimada", "description": "Fuma√ßa pr√≥xima √† nascente"}'</code></pre>
        </div>

        <div class="flow-step">
          <h4>8. Mapa: entidades, pins e valida√ß√£o</h4>
          <p>
            Use <code>GET /api/v1/map/entities</code> e <code>/pins</code> para visualizar. Sugest√µes usam
            <code>POST /api/v1/map/entities</code> (categorias: estabelecimento, √≥rg√£o do governo, espa√ßo p√∫blico,
            espa√ßo natural). Confirma√ß√µes usam <code>/confirmations</code> e valida√ß√µes <code>/validation</code>
            s√£o exclusivas para curadores. Pins aceitam filtros por <code>types</code>, <code>assetId</code> e
            <code>assetTypes</code>.
          </p>
          <pre class="code-block"><code>curl http://localhost:8080/api/v1/map/pins?types=asset,alert,entity \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "X-Session-Id: session-123"</code></pre>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/map-entities.svg" alt="Diagrama de sequ√™ncia: Mapa - Entidades (sugest√£o ‚Üí confirma√ß√£o ‚Üí valida√ß√£o)" class="mermaid-diagram" data-diagram="map-entities" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>9. Membership: visitor ‚Üí resident</h4>
          <p>
            O visitante solicita resid√™ncia via
            <code>POST /api/v1/memberships/{territoryId}/become-resident</code> (convite direcionado via <code>recipientUserIds</code> ou fila de curadoria).
            Destinat√°rios (ou curadores) aprovam em
            <code>POST /api/v1/join-requests/{id}/approve</code>, promovendo para
            <strong>RESIDENT</strong> (com <strong>ResidencyVerification=NONE</strong>).
            O status atual do v√≠nculo est√° em <code>GET /api/v1/memberships/{territoryId}/me</code>.
            Para verificar resid√™ncia (geo/doc), use <code>/verify-residency/geo</code> ou <code>/verify-residency/document</code>.
            Quando a policy exige presen√ßa, envie <code>X-Geo-Latitude</code>/<code>X-Geo-Longitude</code>.
          </p>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/membership-resident.svg" alt="Diagrama de sequ√™ncia: membership-resident" class="mermaid-diagram" data-diagram="membership-resident" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>10. Modera√ß√£o & seguran√ßa: reports, triagem e bloqueios</h4>
          <p>
            O fluxo t√≠pico √©: (1) um usu√°rio reporta; (2) a curadoria lista reports do territ√≥rio e prioriza;
            (3) quando necess√°rio, aplica bloqueio para cortar propaga√ß√£o do conte√∫do no feed e no mapa.
            Reports usam <code>reason</code> (obrigat√≥rio) e <code>details</code> (opcional).
          </p>
          <pre class="code-block"><code># Reportar um post
curl -X POST http://localhost:8080/api/v1/reports/posts/{postId} \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{"reason":"Spam","details":"Link suspeito no conte√∫do"}'

# Reportar um usu√°rio (opcionalmente por territ√≥rio)
curl -X POST "http://localhost:8080/api/v1/reports/users/{userId}?territoryId=11111111-1111-1111-1111-111111111111" \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{"reason":"Abuso","details":"Comportamento inadequado"}'

# Curadoria lista reports para triagem
curl "http://localhost:8080/api/v1/reports?territoryId=11111111-1111-1111-1111-111111111111&amp;status=Open" \
  -H "Authorization: Bearer &lt;token&gt;"

# Bloquear / desbloquear um usu√°rio
curl -X POST http://localhost:8080/api/v1/blocks/users/{userId} \
  -H "Authorization: Bearer &lt;token&gt;"

curl -X DELETE http://localhost:8080/api/v1/blocks/users/{userId} \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/moderation.svg" alt="Diagrama de sequ√™ncia: moderation" class="mermaid-diagram" data-diagram="moderation" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>9a. Verifica√ß√£o de resid√™ncia</h4>
          <p>
            Moradores podem verificar resid√™ncia por geolocaliza√ß√£o (<code>POST /api/v1/memberships/{territoryId}/verify-residency/geo</code>)
            ou por comprovante documental (<code>POST /api/v1/memberships/{territoryId}/verify-residency/document</code>).
            Quando a policy exige presen√ßa, envie <code>X-Geo-Latitude</code>/<code>X-Geo-Longitude</code>.
          </p>
          <pre class="code-block"><code># Verifica√ß√£o por geo
curl -X POST http://localhost:8080/api/v1/memberships/{territoryId}/verify-residency/geo \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "X-Geo-Latitude: -23.55" \
  -H "X-Geo-Longitude: -46.63" \
  -H "Content-Type: application/json" \
  -d '{"lat": -23.55, "lng": -46.63}'

# Verifica√ß√£o por documento
curl -X POST http://localhost:8080/api/v1/evidences \
  -H "Authorization: Bearer &lt;token&gt;" \
  -F "file=@comprovante.pdf" \
  -F "type=ResidencyDocument"

curl -X POST http://localhost:8080/api/v1/memberships/{territoryId}/verify-residency/document \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{"evidenceId": "evidence-id"}'</code></pre>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/residency-verification.svg" alt="Diagrama de sequ√™ncia: Verifica√ß√£o de resid√™ncia (geo/document)" class="mermaid-diagram" data-diagram="residency-verification" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>11. Notifica√ß√µes in-app</h4>
          <p>
            Eventos relevantes geram mensagens em outbox que s√£o processadas em background para criar
            notifica√ß√µes por usu√°rio. Consulte <code>GET /api/v1/notifications</code> e marque como lidas em
            <code>POST /api/v1/notifications/{id}/read</code>.
          </p>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/notifications-outbox.svg" alt="Diagrama de sequ√™ncia: Sistema de Notifica√ß√µes (Outbox Pattern)" class="mermaid-diagram" data-diagram="notifications-outbox" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>

        <div class="flow-step">
          <h4>11a. Enviar mensagem no chat com imagem</h4>
          <p>
            O chat permite enviar imagens junto com mensagens de texto. Cada mensagem pode conter uma imagem
            (m√°ximo 5MB, apenas imagens). Primeiro fa√ßa upload da imagem via <code>POST /api/v1/media/upload</code>
            e depois inclua o <code>mediaId</code> ao enviar a mensagem.
          </p>
          <pre class="code-block"><code># 1) Upload da imagem
curl -X POST http://localhost:8080/api/v1/media/upload \
  -H "Authorization: Bearer &lt;token&gt;" \
  -F "file=@imagem.jpg"

# 2) Enviar mensagem com imagem
curl -X POST http://localhost:8080/api/v1/chat/conversations/{conversationId}/messages \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "text": "Olha essa foto!",
    "mediaId": "gggggggg-gggg-gggg-gggg-gggggggggggg"
  }'</code></pre>
          <div class="info-box">
            <strong>üí¨ M√≠dias em Chat:</strong>
            <ul style="margin-top: 0.5rem; line-height: 1.8;">
              <li><strong>Upload de m√≠dia</strong>: Use <code>POST /api/v1/media/upload</code> para fazer upload da imagem ou √°udio (aceita imagens JPEG/PNG/WebP e √°udios MP3/WAV/OGG, n√£o aceita v√≠deos)</li>
              <li><strong>Enviar mensagem</strong>: Inclua o <code>mediaId</code> no campo opcional ao enviar mensagem</li>
              <li><strong>Imagens</strong>: 1 imagem por mensagem, m√°ximo 5MB. Formatos: JPEG, PNG, WebP</li>
              <li><strong>√Åudios</strong>: 1 √°udio por mensagem (mensagens de voz), m√°ximo 2MB, at√© 60 segundos. Formatos: MP3, WAV, OGG</li>
              <li><strong>V√≠deos</strong>: N√£o permitidos (apenas imagens e √°udios permitidos por quest√µes de performance e privacidade)</li>
              <li><strong>Resposta</strong>: O <code>MessageResponse</code> inclui <code>mediaUrl</code> e <code>hasMedia</code></li>
              <li><strong>Valida√ß√£o</strong>: A m√≠dia deve pertencer ao usu√°rio que est√° enviando a mensagem. V√≠deos retornam erro "Only images and audios are allowed in chat messages"</li>
            </ul>
          </div>
          <details class="sequence-diagram-toggle">
            <summary class="sequence-diagram-summary">
              <span>üìä Ver Diagrama de Sequ√™ncia</span>
            </summary>
            <div class="sequence-diagram-container">
              <img src="./assets/images/diagrams/chat-media.svg" alt="Diagrama de sequ√™ncia: Chat com m√≠dia" class="mermaid-diagram" data-diagram="chat-media" style="max-width: 100%; height: auto; display: block; margin: 1rem 0;" />
              <button class="diagram-fullscreen-btn" aria-label="Abrir diagrama em tela cheia">‚õ∂ Tela Cheia</button>
            </div>
          </details>
        </div>
      </section>

      <section class="section" id="casos-de-uso">
        <span class="eyebrow" data-i18n="usecases.eyebrow">Casos de uso</span>
        <h2 data-i18n="usecases.title">Jornadas pr√°ticas e funcionalidades implementadas</h2>
        <p class="lead-text space-bottom">
          Cen√°rios pr√°ticos conectando objetivo ‚Üí pr√©-requisitos ‚Üí endpoints. Todas as jornadas requerem
          autentica√ß√£o (JWT) e sele√ß√£o de territ√≥rio via <code>X-Session-Id</code>. Os exemplos abaixo
          refletem funcionalidades j√° implementadas e testadas em produ√ß√£o.
        </p>

        <div class="grid-two spaced">
          <div class="card">
            <h3>üöÄ Onboarding completo</h3>
            <p class="card-intro">
              Primeira jornada: autentica√ß√£o, descoberta de territ√≥rio e v√≠nculo inicial.
            </p>
            <ol class="card-list">
              <li><strong>Autenticar:</strong> <code>POST /api/v1/auth/social</code> (obt√©m JWT)</li>
              <li><strong>Descobrir territ√≥rio:</strong> <code>GET /api/v1/territories/nearby?lat=-23.55&lng=-46.63</code></li>
              <li><strong>Selecionar territ√≥rio:</strong> <code>POST /api/v1/territories/selection</code> + header <code>X-Session-Id</code></li>
              <li><strong>Declarar v√≠nculo:</strong> <code>POST /api/v1/memberships/{territoryId}/enter-visitor</code></li>
              <li><strong>Verificar membership:</strong> <code>GET /api/v1/memberships/{territoryId}/me</code></li>
            </ol>
          </div>

          <div class="card">
            <h3>üìù Publicar conte√∫do com m√≠dias</h3>
            <p class="card-intro">
              Criar post com at√© 10 imagens e √¢ncoras geogr√°ficas opcionais.
            </p>
            <ol class="card-list">
              <li><strong>Upload de m√≠dias:</strong> <code>POST /api/v1/media/upload</code> (obt√©m <code>mediaIds</code>)</li>
              <li><strong>Criar post:</strong> <code>POST /api/v1/feed</code> com <code>mediaIds</code> (at√© 10 imagens)</li>
              <li><strong>GeoAnchors autom√°ticos:</strong> derivados de m√≠dias quando dispon√≠veis</li>
              <li><strong>Visualizar no mapa:</strong> <code>GET /api/v1/map/pins?types=post</code></li>
              <li><strong>Ver no feed:</strong> <code>GET /api/v1/feed/paged</code></li>
            </ol>
          </div>

          <div class="card">
            <h3>üó∫Ô∏è Assets territoriais com geolocaliza√ß√£o</h3>
            <p class="card-intro">
              Recursos territoriais (rios, trilhas, nascentes) sempre com geolocaliza√ß√£o obrigat√≥ria.
            </p>
            <ol class="card-list">
              <li><strong>Criar asset:</strong> <code>POST /api/v1/assets</code> (geo obrigat√≥ria em <code>geoAnchors</code>)</li>
              <li><strong>Tipos dispon√≠veis:</strong> <code>river</code>, <code>trail</code>, <code>spring</code>, <code>lookout</code>, <code>sanctuary</code></li>
              <li><strong>Apenas moradores verificados ou curadores:</strong> podem criar/editar/arquivar</li>
              <li><strong>Visualizar no mapa:</strong> <code>GET /api/v1/map/pins?types=asset&assetTypes=river,trail</code></li>
            </ol>
          </div>

          <div class="card">
            <h3>üí¨ Chat territorial e grupos</h3>
            <p class="card-intro">
              Conversas territoriais, grupos e mensagens diretas com suporte a m√≠dias.
            </p>
            <ol class="card-list">
              <li><strong>Criar conversa:</strong> <code>POST /api/v1/chat/conversations</code></li>
              <li><strong>Enviar mensagem:</strong> <code>POST /api/v1/chat/conversations/{id}/messages</code></li>
              <li><strong>Mensagem com imagem:</strong> incluir <code>mediaId</code> no payload</li>
              <li><strong>Listar conversas:</strong> <code>GET /api/v1/chat/conversations</code></li>
              <li><strong>Hist√≥rico:</strong> <code>GET /api/v1/chat/conversations/{id}/messages</code></li>
            </ol>
          </div>

          <div class="card">
            <h3>üè™ Marketplace e economia local</h3>
            <p class="card-intro">
              Lojas, produtos/servi√ßos, carrinho e checkout com at√© 10 imagens por item. Economia circular
              territorial que mant√©m recursos na comunidade.
            </p>
            <ol class="card-list">
              <li><strong>Criar loja:</strong> <code>POST /api/v1/stores</code></li>
              <li><strong>Adicionar itens:</strong> <code>POST /api/v1/items</code> com <code>mediaIds</code> (at√© 10 imagens)</li>
              <li><strong>Carrinho:</strong> <code>POST /api/v1/cart/items</code></li>
              <li><strong>Checkout:</strong> <code>POST /api/v1/cart/checkout</code></li>
              <li><strong>Consultar itens:</strong> <code>GET /api/v1/items</code> (pagina√ß√£o inclu√≠da)</li>
            </ol>
          </div>

          <div class="card">
            <h3>üìÖ Eventos comunit√°rios com m√≠dias</h3>
            <p class="card-intro">
              Eventos territoriais com data/hora, geolocaliza√ß√£o obrigat√≥ria e imagens.
            </p>
            <ol class="card-list">
              <li><strong>Criar evento:</strong> <code>POST /api/v1/events</code> (geo obrigat√≥ria)</li>
              <li><strong>Imagens:</strong> <code>coverMediaId</code> e <code>additionalMediaIds</code> (at√© 10)</li>
              <li><strong>Marcar interesse:</strong> <code>POST /api/v1/events/{id}/interest</code></li>
              <li><strong>Confirmar presen√ßa:</strong> <code>POST /api/v1/events/{id}/confirm</code></li>
              <li><strong>Aparece no feed e mapa:</strong> eventos aparecem em ambos os contextos</li>
            </ol>
          </div>
        </div>
      </section>

        <div class="grid-two">
          <div class="card">
            <h3>‚ú® Principais Funcionalidades</h3>
            <ul>
              <li>‚úÖ <strong>Rastreabilidade completa</strong>: Cada centavo √© rastreado em <code>FinancialTransaction</code></li>
              <li>‚úÖ <strong>Reten√ß√£o configur√°vel</strong>: Aguarda per√≠odo configurado antes de liberar para payout</li>
              <li>‚úÖ <strong>Valor m√≠nimo/m√°ximo</strong>: Acumula at√© atingir m√≠nimo ou divide se exceder m√°ximo</li>
              <li>‚úÖ <strong>Payout autom√°tico</strong>: Background worker processa payouts automaticamente</li>
              <li>‚úÖ <strong>Gest√£o financeira da plataforma</strong>: Saldo, receitas e despesas separadas por territ√≥rio</li>
            </ul>
          </div>
        </div>

        <div class="callout">
          <strong>üöÄ Guia de Produ√ß√£o (Passo a Passo)</strong>
          <p style="margin-top: 0.5rem;">
            Abaixo voc√™ encontrar√° um guia completo para colocar o sistema de payout em produ√ß√£o. O guia foi
            projetado para ser seguido por qualquer pessoa, mesmo com conhecimento m√≠nimo de programa√ß√£o.
          </p>
        </div>

        <div class="flow-step">
          <h4>üìã Passo 1: Entendendo o Fluxo de Payout</h4>
          <p>
            Quando um cliente compra algo na loja de um vendedor e o pagamento √© confirmado, o seguinte acontece:
          </p>
          <ol style="margin-left: 1.5rem; line-height: 1.8;">
            <li><strong>Checkout pago</strong> ‚Üí Sistema cria <code>SellerTransaction</code> automaticamente</li>
            <li><strong>Valor l√≠quido</strong> ‚Üí Subtotal - Fees da plataforma = Valor para o vendedor</li>
            <li><strong>Per√≠odo de reten√ß√£o</strong> ‚Üí Aguarda dias configurados (ex: 7 dias)</li>
            <li><strong>Valor m√≠nimo</strong> ‚Üí Acumula at√© atingir valor m√≠nimo configurado (ex: R$ 100,00)</li>
            <li><strong>Payout autom√°tico</strong> ‚Üí Background worker processa quando todas as condi√ß√µes s√£o atendidas</li>
            <li><strong>Transfer√™ncia</strong> ‚Üí Dinheiro √© transferido para o vendedor via gateway (Stripe, MercadoPago, etc.)</li>
          </ol>
        </div>

        <div class="flow-step">
          <h4>‚öôÔ∏è Passo 2: Configurar Payout para um Territ√≥rio</h4>
          <p>
            Antes de usar o sistema de payout, voc√™ precisa configurar como ele funciona para cada territ√≥rio.
            Essa configura√ß√£o define per√≠odo de reten√ß√£o, valores m√≠nimo/m√°ximo, frequ√™ncia e se requer aprova√ß√£o manual.
          </p>
          <pre class="code-block"><code># Criar ou atualizar configura√ß√£o de payout
curl -X POST "http://localhost:8080/api/v1/territories/{territoryId}/payout-config" \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "retentionPeriodDays": 7,
    "minimumPayoutAmountInCents": 10000,
    "maximumPayoutAmountInCents": 5000000,
    "frequency": "Weekly",
    "autoPayoutEnabled": true,
    "requiresApproval": false,
    "currency": "BRL"
  }'</code></pre>
          <div class="info-box">
            <strong>üìù Explica√ß√£o dos Campos:</strong>
            <ul style="margin-top: 0.5rem; line-height: 1.8;">
              <li><code>retentionPeriodDays</code>: Quantos dias aguardar antes de liberar para payout (ex: 7 = aguarda 7 dias)</li>
              <li><code>minimumPayoutAmountInCents</code>: Valor m√≠nimo em centavos para processar payout (ex: 10000 = R$ 100,00)</li>
              <li><code>maximumPayoutAmountInCents</code>: Valor m√°ximo por payout - se exceder, divide em m√∫ltiplos (ex: 5000000 = R$ 50.000,00)</li>
              <li><code>frequency</code>: Frequ√™ncia do payout autom√°tico - <code>"Daily"</code>, <code>"Weekly"</code>, <code>"Monthly"</code> ou <code>"Manual"</code></li>
              <li><code>autoPayoutEnabled</code>: Se <code>true</code>, processa payouts automaticamente. Se <code>false</code>, apenas manual</li>
              <li><code>requiresApproval</code>: Se <code>true</code>, requer aprova√ß√£o manual antes de processar (ainda n√£o implementado)</li>
              <li><code>currency</code>: Moeda da configura√ß√£o - <code>"BRL"</code>, <code>"USD"</code>, etc.</li>
            </ul>
          </div>
        </div>

        <div class="flow-step">
          <h4>üîç Passo 3: Consultar Configura√ß√£o de Payout</h4>
          <p>
            Para ver a configura√ß√£o atual de payout de um territ√≥rio:
          </p>
          <pre class="code-block"><code># Consultar configura√ß√£o ativa
curl "http://localhost:8080/api/v1/territories/{territoryId}/payout-config" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
        </div>

        <div class="flow-step">
          <h4>üí∞ Passo 4: Consultar Saldo do Vendedor</h4>
          <p>
            Vendedores podem consultar seu saldo e hist√≥rico de transa√ß√µes:
          </p>
          <pre class="code-block"><code># Consultar meu saldo como vendedor
curl "http://localhost:8080/api/v1/territories/{territoryId}/seller-balance/me" \
  -H "Authorization: Bearer &lt;token&gt;"

# Consultar minhas transa√ß√µes como vendedor
curl "http://localhost:8080/api/v1/territories/{territoryId}/seller-balance/me/transactions" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
          <div class="info-box">
            <strong>üìä Entendendo o Saldo do Vendedor:</strong>
            <ul style="margin-top: 0.5rem; line-height: 1.8;">
              <li><code>pendingAmountInCents</code>: Valor que ainda est√° no per√≠odo de reten√ß√£o</li>
              <li><code>readyForPayoutAmountInCents</code>: Valor pronto para payout (ap√≥s per√≠odo de reten√ß√£o e valor m√≠nimo)</li>
              <li><code>paidAmountInCents</code>: Valor j√° transferido para o vendedor</li>
            </ul>
          </div>
        </div>

        <div class="flow-step">
          <h4>üìà Passo 5: Gest√£o Financeira da Plataforma</h4>
          <p>
            Administradores podem consultar o saldo financeiro da plataforma (receitas de fees e despesas de payouts):
          </p>
          <pre class="code-block"><code># Consultar saldo da plataforma (apenas SystemAdmin ou FinancialManager)
curl "http://localhost:8080/api/v1/territories/{territoryId}/platform-financial/balance" \
  -H "Authorization: Bearer &lt;token&gt;"

# Listar receitas (fees coletadas)
curl "http://localhost:8080/api/v1/territories/{territoryId}/platform-financial/revenue" \
  -H "Authorization: Bearer &lt;token&gt;"

# Listar despesas (payouts processados)
curl "http://localhost:8080/api/v1/territories/{territoryId}/platform-financial/expenses" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
        </div>

        <div class="flow-step">
          <h4>üîß Passo 6: Configura√ß√£o em Produ√ß√£o - Checklist</h4>
          <p>
            Para colocar o sistema de payout em produ√ß√£o, siga este checklist:
          </p>
          <div class="callout" style="margin-top: 1rem; padding: 1.5rem;">
            <h5 style="margin-top: 0;">‚úÖ Pr√©-requisitos</h5>
            <ol style="margin-left: 1.5rem; line-height: 2;">
              <li><strong>Migration aplicada</strong>: Execute a migration <code>20260119000000_AddFinancialSystem.cs</code> no banco de dados</li>
              <li><strong>Gateway de pagamento configurado</strong>: Tenha uma conta no gateway (Stripe Connect, MercadoPago, etc.)</li>
              <li><strong>Background worker ativo</strong>: Certifique-se de que o <code>PayoutProcessingWorker</code> est√° rodando</li>
            </ol>

            <h5 style="margin-top: 1.5rem;">‚öôÔ∏è Configura√ß√£o Inicial</h5>
            <ol style="margin-left: 1.5rem; line-height: 2;">
              <li><strong>Configure payout por territ√≥rio</strong>: Use <code>POST /api/v1/territories/{territoryId}/payout-config</code></li>
              <li><strong>Configure per√≠odo de reten√ß√£o</strong>: Recomendado: 7-14 dias (protege contra chargebacks)</li>
              <li><strong>Configure valor m√≠nimo</strong>: Recomendado: R$ 50,00 - R$ 200,00 (reduz custos de transfer√™ncia)</li>
              <li><strong>Configure valor m√°ximo</strong>: Se necess√°rio, limite por payout (ex: R$ 50.000,00)</li>
              <li><strong>Escolha frequ√™ncia</strong>: <code>"Daily"</code> (di√°rio), <code>"Weekly"</code> (semanal) ou <code>"Monthly"</code> (mensal)</li>
              <li><strong>Habilite payout autom√°tico</strong>: Defina <code>autoPayoutEnabled: true</code></li>
            </ol>

            <h5 style="margin-top: 1.5rem;">üîå Integra√ß√£o com Gateway de Pagamento</h5>
            <ol style="margin-left: 1.5rem; line-height: 2;">
              <li><strong>Implemente IPayoutGateway</strong>: Crie implementa√ß√£o para seu gateway (Stripe, MercadoPago, etc.)</li>
              <li><strong>Registre no DI</strong>: Substitua <code>MockPayoutGateway</code> por sua implementa√ß√£o real em <code>ServiceCollectionExtensions.cs</code></li>
              <li><strong>Configure credenciais</strong>: Adicione chaves de API do gateway em <code>appsettings.json</code> ou vari√°veis de ambiente</li>
              <li><strong>Teste em sandbox</strong>: Use ambiente de testes do gateway antes de produ√ß√£o</li>
            </ol>

            <h5 style="margin-top: 1.5rem;">üß™ Testes e Valida√ß√£o</h5>
            <ol style="margin-left: 1.5rem; line-height: 2;">
              <li><strong>Teste checkout completo</strong>: Crie checkout, marque como <code>Paid</code> e verifique se <code>SellerTransaction</code> foi criada</li>
              <li><strong>Verifique reten√ß√£o</strong>: Confirme que o valor fica em <code>pendingAmountInCents</code> durante o per√≠odo de reten√ß√£o</li>
              <li><strong>Teste valor m√≠nimo</strong>: Crie m√∫ltiplos checkouts pequenos e confirme que s√≥ processa quando atinge o m√≠nimo</li>
              <li><strong>Verifique payout autom√°tico</strong>: Aguarde o background worker processar e verifique transfer√™ncia no gateway</li>
              <li><strong>Monitore logs</strong>: Verifique logs do <code>PayoutProcessingWorker</code> para erros ou avisos</li>
            </ol>
          </div>
        </div>

        <div class="flow-step">
          <h4>üèóÔ∏è Passo 7: Implementar Gateway de Pagamento Real</h4>
          <p>
            O sistema vem com um <code>MockPayoutGateway</code> para desenvolvimento. Para produ√ß√£o, voc√™ precisa
            implementar o <code>IPayoutGateway</code> para seu gateway de pagamento preferido (Stripe Connect, MercadoPago, etc.).
          </p>
          <div class="info-box">
            <strong>üìù Exemplo: Interface IPayoutGateway</strong>
            <pre class="code-block" style="margin-top: 0.5rem; background: #0a0e12;"><code>public interface IPayoutGateway
{
  Task&lt;OperationResult&lt;PayoutResult&gt;&gt; CreatePayoutAsync(
    long amountInCents,
    string currency,
    string sellerAccountId,
    string description,
    Dictionary&lt;string, string&gt;? metadata,
    CancellationToken cancellationToken);

  Task&lt;OperationResult&lt;PayoutStatusResult&gt;&gt; GetPayoutStatusAsync(
    string payoutId,
    CancellationToken cancellationToken);

  Task&lt;OperationResult&gt; CancelPayoutAsync(
    string payoutId,
    CancellationToken cancellationToken);
}</code></pre>
            <p style="margin-top: 1rem;">
              Voc√™ precisa implementar os 3 m√©todos acima para seu gateway de pagamento. Veja o exemplo de
              <code>MockPayoutGateway</code> em <code>backend/Araponga.Infrastructure/Payments/MockPayoutGateway.cs</code>
              como refer√™ncia.
            </p>
          </div>
        </div>

        <div class="flow-step">
          <h4>üîÑ Passo 8: Como Funciona o Background Worker</h4>
          <p>
            O <code>PayoutProcessingWorker</code> verifica payouts pendentes a cada 5 minutos e processa automaticamente
            conforme a frequ√™ncia configurada:
          </p>
          <ul style="margin-left: 1.5rem; line-height: 1.8;">
            <li><strong>Daily</strong>: Processa payouts todos os dias (quando o worker roda)</li>
            <li><strong>Weekly</strong>: Processa payouts toda segunda-feira √†s 00:00 UTC</li>
            <li><strong>Monthly</strong>: Processa payouts no dia 1 de cada m√™s √†s 00:00 UTC</li>
            <li><strong>Manual</strong>: N√£o processa automaticamente - apenas quando chamado manualmente via API</li>
          </ul>
          <p style="margin-top: 1rem;">
            O worker est√° configurado automaticamente quando voc√™ roda a API. N√£o precisa fazer nada extra para ativ√°-lo.
          </p>
        </div>

        <div class="flow-step">
          <h4>üìä Passo 9: Monitoramento e Troubleshooting</h4>
          <p>
            Para monitorar o sistema de payout em produ√ß√£o:
          </p>
          <ul style="margin-left: 1.5rem; line-height: 1.8;">
            <li><strong>Logs do Worker</strong>: Procure por <code>PayoutProcessingWorker</code> nos logs para ver processamento</li>
            <li><strong>Transa√ß√µes Financeiras</strong>: Consulte <code>GET /api/v1/territories/{territoryId}/platform-financial/revenue</code> para receitas</li>
            <li><strong>Transa√ß√µes de Despesa</strong>: Consulte <code>GET /api/v1/territories/{territoryId}/platform-financial/expenses</code> para payouts</li>
            <li><strong>Status de Payouts</strong>: Use <code>UpdatePayoutStatusAsync</code> para atualizar status do gateway periodicamente</li>
          </ul>
        </div>

        <div class="grid-two" style="margin-top: 2rem;">
          <div class="card">
            <h3>üéØ Casos de Uso Comuns</h3>
            <ul style="line-height: 1.8;">
              <li><strong>Vendedor quer saber quando receber√°</strong>: Consulte <code>/seller-balance/me</code> para ver valores pendentes e prontos para payout</li>
              <li><strong>Processar payout manualmente</strong>: Use <code>ProcessPendingPayoutsAsync</code> do <code>SellerPayoutService</code> via API admin</li>
              <li><strong>Ver hist√≥rico de transa√ß√µes</strong>: Consulte <code>/seller-balance/me/transactions</code> para ver todas as transa√ß√µes do vendedor</li>
              <li><strong>Auditar receitas da plataforma</strong>: Use endpoints de <code>/platform-financial</code> para ver fees coletadas</li>
            </ul>
          </div>
          <div class="card">
            <h3>‚ö†Ô∏è Pontos de Aten√ß√£o</h3>
            <ul style="line-height: 1.8;">
              <li><strong>Per√≠odo de reten√ß√£o</strong>: Protege contra chargebacks - n√£o configure muito curto</li>
              <li><strong>Valor m√≠nimo</strong>: Reduz custos de transfer√™ncia - configure baseado no custo do gateway</li>
              <li><strong>Valor m√°ximo</strong>: Limita exposi√ß√£o a risco - configure se necess√°rio</li>
              <li><strong>Moedas diferentes</strong>: Cada territ√≥rio pode ter configura√ß√£o em moeda diferente</li>
              <li><strong>Testes primeiro</strong>: Sempre teste com valores pequenos antes de produ√ß√£o</li>
            </ul>
          </div>
        </div>

        <div class="callout">
          <strong>üìö Documenta√ß√£o T√©cnica Completa</strong>
          <p style="margin-top: 0.5rem;">
            Para detalhes t√©cnicos completos, consulte:
            <a href="https://github.com/sraphaz/araponga/blob/main/docs/backlog-api/FASE7.md">docs/backlog-api/FASE7.md</a>
          </p>
        </div>
      </section>

      <!-- Cen√°rios Pr√°ticos - P√°ginas Dedicadas -->
      <section class="section" id="cenario-onboarding-usuario">
        <span class="eyebrow">Cen√°rio Pr√°tico</span>
        <h2>Onboarding Usu√°rio</h2>
        <p class="lead-text">
          Primeira jornada: autentica√ß√£o, descoberta de territ√≥rio e v√≠nculo inicial.
        </p>
        <div class="flow-step">
          <h4>Fluxo Completo</h4>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Autenticar:</strong> <code>POST /api/v1/auth/social</code> (obt√©m JWT)</li>
            <li><strong>Descobrir territ√≥rio:</strong> <code>GET /api/v1/territories/nearby?lat=-23.55&lng=-46.63</code></li>
            <li><strong>Selecionar territ√≥rio:</strong> <code>POST /api/v1/territories/selection</code> + header <code>X-Session-Id</code></li>
            <li><strong>Declarar v√≠nculo:</strong> <code>POST /api/v1/memberships/{territoryId}/enter-visitor</code></li>
            <li><strong>Verificar membership:</strong> <code>GET /api/v1/memberships/{territoryId}/me</code></li>
          </ol>
        </div>
      </section>

      <section class="section" id="cenario-publicar-midias">
        <span class="eyebrow">Cen√°rio Pr√°tico</span>
        <h2>Publicar conte√∫do com m√≠dias</h2>
        <p class="lead-text">
          Criar post com at√© 10 imagens e √¢ncoras geogr√°ficas opcionais.
        </p>
        <div class="flow-step">
          <h4>Fluxo Completo</h4>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Upload de m√≠dias:</strong> <code>POST /api/v1/media/upload</code> (obt√©m <code>mediaIds</code>)</li>
            <li><strong>Criar post:</strong> <code>POST /api/v1/feed</code> com <code>mediaIds</code> (at√© 10 imagens)</li>
            <li><strong>GeoAnchors autom√°ticos:</strong> derivados de m√≠dias quando dispon√≠veis</li>
            <li><strong>Visualizar no mapa:</strong> <code>GET /api/v1/map/pins?types=post</code></li>
            <li><strong>Ver no feed:</strong> <code>GET /api/v1/feed/paged</code></li>
          </ol>
        </div>
      </section>

      <section class="section" id="cenario-assets">
        <span class="eyebrow">Cen√°rio Pr√°tico</span>
        <h2>Assets territoriais com geolocaliza√ß√£o</h2>
        <p class="lead-text">
          Recursos territoriais (rios, trilhas, nascentes) sempre com geolocaliza√ß√£o obrigat√≥ria.
        </p>
        <div class="flow-step">
          <h4>Fluxo Completo</h4>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Criar asset:</strong> <code>POST /api/v1/assets</code> (geo obrigat√≥ria em <code>geoAnchors</code>)</li>
            <li><strong>Tipos dispon√≠veis:</strong> <code>river</code>, <code>trail</code>, <code>spring</code>, <code>lookout</code>, <code>sanctuary</code></li>
            <li><strong>Apenas moradores verificados ou curadores:</strong> podem criar/editar/arquivar</li>
            <li><strong>Visualizar no mapa:</strong> <code>GET /api/v1/map/pins?types=asset&assetTypes=river,trail</code></li>
          </ol>
        </div>
      </section>

      <section class="section" id="cenario-chat">
        <span class="eyebrow">Cen√°rio Pr√°tico</span>
        <h2>Chat territorial e grupos</h2>
        <p class="lead-text">
          Conversas territoriais, grupos e mensagens diretas com suporte a m√≠dias.
        </p>
        <div class="flow-step">
          <h4>Fluxo Completo</h4>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Criar conversa:</strong> <code>POST /api/v1/chat/conversations</code></li>
            <li><strong>Enviar mensagem:</strong> <code>POST /api/v1/chat/conversations/{id}/messages</code></li>
            <li><strong>Mensagem com imagem:</strong> incluir <code>mediaId</code> no payload</li>
            <li><strong>Listar conversas:</strong> <code>GET /api/v1/chat/conversations</code></li>
            <li><strong>Hist√≥rico:</strong> <code>GET /api/v1/chat/conversations/{id}/messages</code></li>
          </ol>
        </div>
      </section>

      <section class="section" id="cenario-marketplace">
        <span class="eyebrow">Cen√°rio Pr√°tico</span>
        <h2>Marketplace e economia local</h2>
        <p class="lead-text">
          Lojas, produtos/servi√ßos, carrinho e checkout com at√© 10 imagens por item. Economia circular
          territorial que mant√©m recursos na comunidade.
        </p>
        <div class="flow-step">
          <h4>Fluxo Completo</h4>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Criar loja:</strong> <code>POST /api/v1/stores</code></li>
            <li><strong>Adicionar itens:</strong> <code>POST /api/v1/items</code> com <code>mediaIds</code> (at√© 10 imagens)</li>
            <li><strong>Carrinho:</strong> <code>POST /api/v1/cart/items</code></li>
            <li><strong>Checkout:</strong> <code>POST /api/v1/cart/checkout</code></li>
            <li><strong>Consultar itens:</strong> <code>GET /api/v1/items</code> (pagina√ß√£o inclu√≠da)</li>
          </ol>
        </div>
      </section>

      <section class="section" id="cenario-eventos">
        <span class="eyebrow">Cen√°rio Pr√°tico</span>
        <h2>Eventos comunit√°rios com m√≠dias</h2>
        <p class="lead-text">
          Eventos territoriais com data/hora, geolocaliza√ß√£o obrigat√≥ria e imagens.
        </p>
        <div class="flow-step">
          <h4>Fluxo Completo</h4>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Criar evento:</strong> <code>POST /api/v1/events</code> (geo obrigat√≥ria)</li>
            <li><strong>Imagens:</strong> <code>coverMediaId</code> e <code>additionalMediaIds</code> (at√© 10)</li>
            <li><strong>Marcar interesse:</strong> <code>POST /api/v1/events/{id}/interest</code></li>
            <li><strong>Confirmar presen√ßa:</strong> <code>POST /api/v1/events/{id}/confirm</code></li>
            <li><strong>Aparece no feed e mapa:</strong> eventos aparecem em ambos os contextos</li>
          </ol>
        </div>
      </section>

      <!-- P√°ginas Dedicadas - Casos de Uso Comuns e Pontos de Aten√ß√£o -->
      <section class="section" id="casos-uso-comuns">
        <span class="eyebrow">Refer√™ncia</span>
        <h2>Casos de Uso Comuns</h2>
        <p class="lead-text">
          Casos de uso frequentes e solu√ß√µes pr√°ticas para tarefas comuns na API.
        </p>
        <div class="grid-two">
          <div class="card">
            <h3>Vendedor quer saber quando receber√°</h3>
            <p>
              Consulte <code>/seller-balance/me</code> para ver valores pendentes e prontos para payout.
            </p>
            <pre class="code-block"><code>GET /api/v1/territories/{territoryId}/seller-balance/me
Authorization: Bearer &lt;token&gt;</code></pre>
          </div>
          <div class="card">
            <h3>Processar payout manualmente</h3>
            <p>
              Use <code>ProcessPendingPayoutsAsync</code> do <code>SellerPayoutService</code> via API admin.
            </p>
          </div>
          <div class="card">
            <h3>Ver hist√≥rico de transa√ß√µes</h3>
            <p>
              Consulte <code>/seller-balance/me/transactions</code> para ver todas as transa√ß√µes do vendedor.
            </p>
            <pre class="code-block"><code>GET /api/v1/territories/{territoryId}/seller-balance/me/transactions
Authorization: Bearer &lt;token&gt;</code></pre>
          </div>
          <div class="card">
            <h3>Auditar receitas da plataforma</h3>
            <p>
              Use endpoints de <code>/platform-financial</code> para ver fees coletadas.
            </p>
          </div>
        </div>
      </section>

      <section class="section" id="pontos-atencao">
        <span class="eyebrow">Refer√™ncia</span>
        <h2>Pontos de Aten√ß√£o</h2>
        <p class="lead-text">
          Considera√ß√µes importantes e melhores pr√°ticas para usar a API com seguran√ßa e efici√™ncia.
        </p>
        <div class="grid-two">
          <div class="card">
            <h3>Per√≠odo de reten√ß√£o</h3>
            <p>
              Protege contra chargebacks - n√£o configure muito curto. Recomendado: 7-14 dias.
            </p>
          </div>
          <div class="card">
            <h3>Valor m√≠nimo</h3>
            <p>
              Reduz custos de transfer√™ncia - configure baseado no custo do gateway. Recomendado: R$ 50,00 - R$ 200,00.
            </p>
          </div>
          <div class="card">
            <h3>Valor m√°ximo</h3>
            <p>
              Limita exposi√ß√£o a risco - configure se necess√°rio. Exemplo: R$ 50.000,00 por payout.
            </p>
          </div>
          <div class="card">
            <h3>Moedas diferentes</h3>
            <p>
              Cada territ√≥rio pode ter configura√ß√£o em moeda diferente. Configure conforme necess√°rio.
            </p>
          </div>
          <div class="card">
            <h3>Testes primeiro</h3>
            <p>
              Sempre teste com valores pequenos antes de produ√ß√£o para validar fluxo completo.
            </p>
          </div>
        </div>
      </section>

      <!-- Guia de Produ√ß√£o - P√°ginas Dedicadas -->
      <section class="section" id="guia-producao-passo-1">
        <span class="eyebrow">Guia de Produ√ß√£o</span>
        <h2>Passo 1: Entendendo o Fluxo de Payout</h2>
        <p class="lead-text">
          Quando um cliente compra algo na loja de um vendedor e o pagamento √© confirmado, o seguinte acontece:
        </p>
        <div class="flow-step">
          <ol style="margin-left: 1.5rem; line-height: 1.8;">
            <li><strong>Checkout pago</strong> ‚Üí Sistema cria <code>SellerTransaction</code> automaticamente</li>
            <li><strong>Valor l√≠quido</strong> ‚Üí Subtotal - Fees da plataforma = Valor para o vendedor</li>
            <li><strong>Per√≠odo de reten√ß√£o</strong> ‚Üí Aguarda dias configurados (ex: 7 dias)</li>
            <li><strong>Valor m√≠nimo</strong> ‚Üí Acumula at√© atingir valor m√≠nimo configurado (ex: R$ 100,00)</li>
            <li><strong>Payout autom√°tico</strong> ‚Üí Background worker processa quando todas as condi√ß√µes s√£o atendidas</li>
            <li><strong>Transfer√™ncia</strong> ‚Üí Dinheiro √© transferido para o vendedor via gateway (Stripe, MercadoPago, etc.)</li>
          </ol>
        </div>
      </section>

      <section class="section" id="guia-producao-passo-2">
        <span class="eyebrow">Guia de Produ√ß√£o</span>
        <h2>Passo 2: Configurar Payout para um Territ√≥rio</h2>
        <p class="lead-text">
          Antes de usar o sistema de payout, voc√™ precisa configurar como ele funciona para cada territ√≥rio.
          Essa configura√ß√£o define per√≠odo de reten√ß√£o, valores m√≠nimo/m√°ximo, frequ√™ncia e se requer aprova√ß√£o manual.
        </p>
        <div class="flow-step">
          <h4>Endpoint</h4>
          <pre class="code-block"><code>POST /api/v1/territories/{territoryId}/payout-config</code></pre>
          <h4>Exemplo de Requisi√ß√£o</h4>
          <pre class="code-block"><code>curl -X POST "http://localhost:8080/api/v1/territories/{territoryId}/payout-config" \
  -H "Authorization: Bearer &lt;token&gt;" \
  -H "Content-Type: application/json" \
  -d '{
    "retentionPeriodDays": 7,
    "minimumPayoutAmountInCents": 10000,
    "maximumPayoutAmountInCents": 5000000,
    "frequency": "Weekly",
    "autoPayoutEnabled": true,
    "requiresApproval": false,
    "currency": "BRL"
  }'</code></pre>
          <div class="info-box">
            <strong>üìù Explica√ß√£o dos Campos:</strong>
            <ul style="margin-top: 0.5rem; line-height: 1.8;">
              <li><code>retentionPeriodDays</code>: Quantos dias aguardar antes de liberar para payout (ex: 7 = aguarda 7 dias)</li>
              <li><code>minimumPayoutAmountInCents</code>: Valor m√≠nimo em centavos para processar payout (ex: 10000 = R$ 100,00)</li>
              <li><code>maximumPayoutAmountInCents</code>: Valor m√°ximo por payout - se exceder, divide em m√∫ltiplos (ex: 5000000 = R$ 50.000,00)</li>
              <li><code>frequency</code>: Frequ√™ncia do payout autom√°tico - <code>"Daily"</code>, <code>"Weekly"</code>, <code>"Monthly"</code> ou <code>"Manual"</code></li>
              <li><code>autoPayoutEnabled</code>: Se <code>true</code>, processa payouts automaticamente. Se <code>false</code>, apenas manual</li>
              <li><code>requiresApproval</code>: Se <code>true</code>, requer aprova√ß√£o manual antes de processar (ainda n√£o implementado)</li>
              <li><code>currency</code>: Moeda da configura√ß√£o - <code>"BRL"</code>, <code>"USD"</code>, etc.</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="section" id="guia-producao-passo-3">
        <span class="eyebrow">Guia de Produ√ß√£o</span>
        <h2>Passo 3: Consultar Configura√ß√£o de Payout</h2>
        <p class="lead-text">
          Para ver a configura√ß√£o atual de payout de um territ√≥rio:
        </p>
        <div class="flow-step">
          <h4>Endpoint</h4>
          <pre class="code-block"><code>GET /api/v1/territories/{territoryId}/payout-config</code></pre>
          <h4>Exemplo de Requisi√ß√£o</h4>
          <pre class="code-block"><code>curl "http://localhost:8080/api/v1/territories/{territoryId}/payout-config" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
        </div>
      </section>

      <section class="section" id="guia-producao-passo-4">
        <span class="eyebrow">Guia de Produ√ß√£o</span>
        <h2>Passo 4: Consultar Saldo do Vendedor</h2>
        <p class="lead-text">
          Vendedores podem consultar seu saldo e hist√≥rico de transa√ß√µes:
        </p>
        <div class="flow-step">
          <h4>Endpoints</h4>
          <pre class="code-block"><code># Consultar meu saldo como vendedor
GET /api/v1/territories/{territoryId}/seller-balance/me

# Consultar minhas transa√ß√µes como vendedor
GET /api/v1/territories/{territoryId}/seller-balance/me/transactions</code></pre>
          <h4>Exemplo de Requisi√ß√£o</h4>
          <pre class="code-block"><code>curl "http://localhost:8080/api/v1/territories/{territoryId}/seller-balance/me" \
  -H "Authorization: Bearer &lt;token&gt;"</code></pre>
          <div class="info-box">
            <strong>üìä Entendendo o Saldo do Vendedor:</strong>
            <ul style="margin-top: 0.5rem; line-height: 1.8;">
              <li><code>pendingAmountInCents</code>: Valor que ainda est√° no per√≠odo de reten√ß√£o</li>
              <li><code>readyForPayoutAmountInCents</code>: Valor pronto para payout (ap√≥s per√≠odo de reten√ß√£o e valor m√≠nimo)</li>
              <li><code>paidAmountInCents</code>: Valor j√° transferido para o vendedor</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="section" id="auth">
        <span class="eyebrow" data-i18n="auth.eyebrow">Autentica√ß√£o</span>
        <h2 data-i18n="auth.title">JWT (HS256)</h2>
        <p data-i18n-html="auth.leadHtml">
          O token √© emitido pelo endpoint <code>/api/v1/auth/social</code>. Ele utiliza algoritmo HS256 e
          valida <code>issuer</code> e <code>audience</code> conforme configura√ß√£o em <code>appsettings.json</code>.
        </p>
        <table class="kv-table">
          <thead>
            <tr>
              <th>Configura√ß√£o</th>
              <th>Chave</th>
              <th>Local</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Issuer</td>
              <td>Jwt:Issuer</td>
              <td>backend/Araponga.Api/appsettings.json</td>
            </tr>
            <tr>
              <td>Audience</td>
              <td>Jwt:Audience</td>
              <td>backend/Araponga.Api/appsettings.json</td>
            </tr>
            <tr>
              <td>SigningKey</td>
              <td>Jwt:SigningKey</td>
              <td>backend/Araponga.Api/appsettings.json</td>
            </tr>
          </tbody>
        </table>
        <div class="grid-two">
          <div class="card">
            <h3>Autentica√ß√£o de Dois Fatores (2FA)</h3>
            <p>
              A API suporta autentica√ß√£o de dois fatores usando TOTP (Time-based One-Time Password).
              Usu√°rios podem configurar 2FA via <code>POST /api/v1/auth/2fa/setup</code> e confirmar via
              <code>POST /api/v1/auth/2fa/confirm</code>. Recovery codes s√£o fornecidos durante a configura√ß√£o.
            </p>
            <ul>
              <li><strong>Setup</strong>: <code>POST /api/v1/auth/2fa/setup</code> - Gera secret e QR code</li>
              <li><strong>Confirm</strong>: <code>POST /api/v1/auth/2fa/confirm</code> - Habilita 2FA ap√≥s validar c√≥digo</li>
              <li><strong>Verify</strong>: <code>POST /api/v1/auth/2fa/verify</code> - Verifica c√≥digo TOTP e retorna JWT</li>
              <li><strong>Recover</strong>: <code>POST /api/v1/auth/2fa/recover</code> - Usa recovery code para autentica√ß√£o</li>
              <li><strong>Disable</strong>: <code>POST /api/v1/auth/2fa/disable</code> - Desabilita 2FA (requer c√≥digo v√°lido)</li>
            </ul>
          </div>
          <div class="card">
            <h3>Seguran√ßa</h3>
            <p>
              A API implementa v√°rias camadas de seguran√ßa para proteger dados e opera√ß√µes cr√≠ticas.
            </p>
            <ul>
              <li><strong>Sanitiza√ß√£o de Inputs</strong>: HTML, paths, URLs e SQL s√£o sanitizados</li>
              <li><strong>Prote√ß√£o CSRF</strong>: Anti-forgery tokens configurados</li>
              <li><strong>Security Headers</strong>: CSP, HSTS, X-Frame-Options e outros headers de seguran√ßa</li>
              <li><strong>Rate Limiting</strong>: Prote√ß√£o contra abuso e DDoS</li>
              <li><strong>Auditoria</strong>: Todas as a√ß√µes cr√≠ticas s√£o registradas</li>
            </ul>
          </div>
        </div>
        <div class="notice">
          <strong>Erro 401:</strong> token ausente, inv√°lido, expirado ou com issuer/audience incorretos.
          Em geral, autoriza√ß√µes negadas retornam <strong>401</strong>, mas a valida√ß√£o de membership sem
          morador validado retorna <strong>403</strong>.
        </div>
      </section>

      <section class="section" id="territory-session">
        <span class="eyebrow" data-i18n="headers.eyebrow">Contexto e headers</span>
        <h2 data-i18n="headers.title">Territ√≥rio, sess√£o e geolocaliza√ß√£o</h2>
        <p data-i18n-html="headers.leadHtml">
          V√°rias rotas aceitam o territ√≥rio via <code>territoryId</code> na query ou via sess√£o com
          <code>X-Session-Id</code>. Al√©m disso, algumas opera√ß√µes exigem presen√ßa geogr√°fica.
        </p>
        <table class="kv-table">
          <thead>
            <tr>
              <th>Header</th>
              <th>Uso</th>
              <th>Onde √© obrigat√≥rio</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>X-Session-Id</td>
              <td>Seleciona territ√≥rio ativo da sess√£o.</td>
              <td>Feed, Mapa, Alerts, Assets, Marketplace, Events, Modera√ß√£o quando <code>territoryId</code> n√£o est√° na query.</td>
            </tr>
            <tr>
              <td>X-Geo-Latitude / X-Geo-Longitude</td>
              <td>Comprova presen√ßa no territ√≥rio.</td>
              <td>Declara√ß√£o de membership conforme policy.</td>
            </tr>
          </tbody>
        </table>
        <div class="callout">
          <strong>PresencePolicy:</strong> a exig√™ncia de geolocaliza√ß√£o para membership √© configurada em
          <code>PresencePolicy:Policy</code>. O valor padr√£o atual √© <code>ResidentOnly</code>.
        </div>
      </section>

      <section class="section" id="openapi">
        <span class="eyebrow" data-i18n="openapi.eyebrow">OpenAPI</span>
        <h2 data-i18n="openapi.title">API Explorer (Swagger UI local)</h2>
        <div class="api-explorer">
          <p data-i18n-html="openapi.leadHtml">
            O explorer usa a especifica√ß√£o real da API. Ele tenta carregar o Swagger din√¢mico em
            <code>/swagger/v1/swagger.json</code> (quando o backend roda em <code>Development</code>) e usa
            fallback para <code>../openapi.json</code>. A navega√ß√£o √© feita por tags, endpoints e schemas.
          </p>
          <a class="button" href="./openapi.json" data-i18n="openapi.download">Baixar OpenAPI (JSON)</a>
          <button class="button secondary" type="button" data-explorer-button aria-expanded="false">
            <span data-i18n="openapi.open">Abrir Explorer</span>
          </button>
          <p data-explorer-status class="callout" data-i18n="openapi.statusReady">Explorer pronto para carregar.</p>
          <div id="openapi-browser" class="swagger-hidden" aria-live="polite"></div>
        </div>
      </section>

      <section class="section" id="erros">
        <span class="eyebrow" data-i18n="errors.eyebrow">Erros & conven√ß√µes</span>
        <h2 data-i18n="errors.title">Como interpretar respostas</h2>
        <div class="grid-two">
          <div class="card">
            <h3>Formato de erro</h3>
            <p>
              Erros de valida√ß√£o costumam retornar <code>{"error": "mensagem"}</code>. Exce√ß√µes n√£o tratadas
              retornam <code>ProblemDetails</code> com <code>title</code>, <code>status</code>, <code>detail</code>,
              <code>traceId</code> e <code>path</code>.
            </p>
          </div>
          <div class="card">
            <h3>C√≥digos comuns</h3>
            <ul>
              <li><strong>400</strong> dados inv√°lidos ou headers obrigat√≥rios ausentes.</li>
              <li><strong>401</strong> token ausente/ inv√°lido ou falta de permiss√£o.</li>
              <li><strong>404</strong> recurso inexistente (territory, post, user).</li>
              <li><strong>409</strong> n√£o usado atualmente.</li>
              <li><strong>500</strong> exce√ß√µes n√£o tratadas (ProblemDetails).</li>
            </ul>
          </div>
        </div>
        <div class="callout">
          <strong>Status da API:</strong> <code>GET /liveness</code> responde <code>{"status": "ok"}</code> e
          <code>GET /readiness</code> responde <code>{"status": "ready"}</code>. Logs seguem a configura√ß√£o
          padr√£o de <code>Logging</code> no <code>appsettings.json</code>.
        </div>
      </section>

      <section class="section" id="onboarding-analistas">
        <span class="eyebrow">Onboarding T√©cnico</span>
        <h2>Onboarding para Analistas Funcionais - Guia T√©cnico Detalhado</h2>
        <p class="lead-text">
          Este guia t√©cnico fornece um passo a passo detalhado para analistas funcionais come√ßarem a trabalhar com o Araponga,
          desde a configura√ß√£o inicial at√© a an√°lise funcional pr√°tica usando a API.
        </p>

        <div class="flow-step">
          <h4>Passo 1: Configura√ß√£o Inicial do Ambiente</h4>
          <p>
            <strong>O que voc√™ precisa:</strong>
          </p>
          <ul class="card-list">
            <li><strong>Navegador web</strong> com suporte a JavaScript (Chrome, Firefox, Edge, Safari)</li>
            <li><strong>Ferramenta para testar API</strong>: Postman, Insomnia, ou curl (linha de comando)</li>
            <li><strong>Acesso √† API Araponga</strong>: URL base da API (ex: <code>http://localhost:8080</code> ou URL de produ√ß√£o)</li>
            <li><strong>Conta de usu√°rio</strong>: CPF ou documento estrangeiro para autentica√ß√£o</li>
          </ul>
          <p>
            <strong>Configura√ß√£o (5 minutos):</strong>
          </p>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Instale ferramenta de teste de API</strong>: Baixe Postman (<a href="https://www.postman.com/downloads/">https://www.postman.com/downloads/</a>) ou use curl</li>
            <li><strong>Configure ambiente</strong>: Anote a URL da API e prepare dados de autentica√ß√£o (CPF, nome, email)</li>
            <li><strong>Verifique acesso</strong>: Teste se consegue acessar a URL base da API no navegador</li>
          </ol>
        </div>

        <div class="flow-step">
          <h4>Passo 2: Autentica√ß√£o Social (Primeiro Acesso)</h4>
          <p>
            <strong>O que acontece:</strong> Voc√™ obt√©m um token JWT que permite acesso √† API.
          </p>
          <p>
            <strong>Endpoint:</strong> <code>POST /api/v1/auth/social</code>
          </p>
          <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/auth/social \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "google",
    "externalId": "seu-id-unico",
    "displayName": "Seu Nome",
    "cpf": "12345678900",
    "email": "seu@email.com"
  }'</code></pre>
          <p>
            <strong>Resposta esperada:</strong>
          </p>
          <pre class="code-block"><code>{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "expiresAt": "2025-01-21T10:00:00Z"
}</code></pre>
          <p>
            <strong>Pr√≥ximo passo:</strong> Guarde o token. Voc√™ vai usar ele em todas as requisi√ß√µes autenticadas.
          </p>
          <div class="callout">
            <strong>Importante:</strong> O token expira ap√≥s um per√≠odo (verifique <code>expiresAt</code>). Se receber erro 401, voc√™ precisa autenticar novamente.
          </div>
        </div>

        <div class="flow-step">
          <h4>Passo 3: Descobrir Territ√≥rios Dispon√≠veis</h4>
          <p>
            <strong>O que acontece:</strong> Voc√™ lista todos os territ√≥rios dispon√≠veis na plataforma para escolher qual analisar.
          </p>
          <p>
            <strong>Endpoint:</strong> <code>GET /api/v1/territories</code>
          </p>
          <pre class="code-block"><code>curl http://localhost:8080/api/v1/territories \
  -H "Authorization: Bearer &lt;seu-token&gt;"</code></pre>
          <p>
            <strong>Resposta esperada:</strong>
          </p>
          <pre class="code-block"><code>{
  "items": [
    {
      "id": "11111111-1111-1111-1111-111111111111",
      "name": "Sert√£o do Camburi",
      "description": "Territ√≥rio comunit√°rio...",
      "latitude": -23.55,
      "longitude": -46.63
    }
  ]
}</code></pre>
          <p>
            <strong>An√°lise funcional:</strong>
          </p>
          <ul class="card-list">
            <li><strong>Observe os dados retornados</strong>: Nome, descri√ß√£o, localiza√ß√£o geogr√°fica</li>
            <li><strong>Pergunte-se</strong>: Esses dados s√£o suficientes para identificar um territ√≥rio? Falta algo?</li>
            <li><strong>Documente observa√ß√µes</strong>: O que voc√™ observa que poderia melhorar?</li>
          </ul>
        </div>

        <div class="flow-step">
          <h4>Passo 4: Selecionar Territ√≥rio para An√°lise</h4>
          <p>
            <strong>O que acontece:</strong> Voc√™ define qual territ√≥rio vai analisar, facilitando requisi√ß√µes subsequentes.
          </p>
          <p>
            <strong>Endpoint:</strong> <code>POST /api/v1/territories/selection</code>
          </p>
          <pre class="code-block"><code>curl -X POST http://localhost:8080/api/v1/territories/selection \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer &lt;seu-token&gt;" \
  -H "X-Session-Id: sessao-analise-001" \
  -d '{
    "territoryId": "11111111-1111-1111-1111-111111111111"
  }'</code></pre>
          <p>
            <strong>An√°lise funcional:</strong>
          </p>
          <ul class="card-list">
            <li><strong>Observe o fluxo</strong>: Voc√™ precisa de um <code>X-Session-Id</code> √∫nico para cada sess√£o de an√°lise</li>
            <li><strong>Pergunte-se</strong>: Seria melhor n√£o precisar disso? Como isso afeta a experi√™ncia?</li>
            <li><strong>Documente necessidades</strong>: O que facilitaria seu trabalho como analista?</li>
          </ul>
        </div>

        <div class="flow-step">
          <h4>Passo 5: Explorar Feed do Territ√≥rio</h4>
          <p>
            <strong>O que acontece:</strong> Voc√™ v√™ o conte√∫do publicado no feed do territ√≥rio selecionado.
          </p>
          <p>
            <strong>Endpoint:</strong> <code>GET /api/v1/feed</code>
          </p>
          <pre class="code-block"><code>curl http://localhost:8080/api/v1/feed \
  -H "Authorization: Bearer &lt;seu-token&gt;" \
  -H "X-Session-Id: sessao-analise-001"</code></pre>
          <p>
            <strong>Resposta esperada:</strong>
          </p>
          <pre class="code-block"><code>{
  "items": [
    {
      "id": "...",
      "title": "Mutir√£o de limpeza",
      "content": "Encontro s√°bado 9h...",
      "type": "General",
      "visibility": "Public",
      "authorName": "Ana Silva",
      "createdAtUtc": "2025-01-20T10:00:00Z"
    }
  ],
  "pagination": {
    "pageNumber": 1,
    "pageSize": 20,
    "totalCount": 45,
    "totalPages": 3
  }
}</code></pre>
          <p>
            <strong>An√°lise funcional - exerc√≠cio pr√°tico:</strong>
          </p>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Observe os tipos de conte√∫do</strong>: Quais tipos existem? (<code>General</code>, <code>AlertPost</code>, etc.)</li>
            <li><strong>Analise visibilidade</strong>: O que significa <code>Public</code> vs <code>ResidentsOnly</code>?</li>
            <li><strong>Identifique necessidades</strong>: Que filtros seriam √∫teis? (por tipo, por data, por autor)</li>
            <li><strong>Documente proposta</strong>: Escreva uma proposta de melhoria baseada na observa√ß√£o</li>
          </ol>
        </div>

        <div class="flow-step">
          <h4>Passo 6: Analisar Marketplace do Territ√≥rio</h4>
          <p>
            <strong>O que acontece:</strong> Voc√™ explora produtos e servi√ßos dispon√≠veis no marketplace territorial.
          </p>
          <p>
            <strong>Endpoint:</strong> <code>GET /api/v1/items</code>
          </p>
          <pre class="code-block"><code>curl "http://localhost:8080/api/v1/items?territoryId=11111111-1111-1111-1111-111111111111&amp;q=bolo&amp;category=Alimentos" \
  -H "Authorization: Bearer &lt;seu-token&gt;"</code></pre>
          <p>
            <strong>An√°lise funcional - exerc√≠cio pr√°tico:</strong>
          </p>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Teste diferentes buscas</strong>: Por nome (<code>q=bolo</code>), por categoria (<code>category=Alimentos</code>)</li>
            <li><strong>Observe resultados</strong>: As buscas s√£o eficientes? Retornam resultados relevantes?</li>
            <li><strong>Identifique necessidades</strong>: Que filtros faltam? (pre√ßo, localiza√ß√£o, disponibilidade)</li>
            <li><strong>Documente observa√ß√µes</strong>: O que voc√™ observa que poderia melhorar?</li>
          </ol>
        </div>

        <div class="flow-step">
          <h4>Passo 7: Propor Melhoria Funcional (Criar Issue no GitHub)</h4>
          <p>
            <strong>O que fazer:</strong> Ap√≥s observar e analisar, documente suas observa√ß√µes e propostas.
          </p>
          <p>
            <strong>Template de Issue (GitHub):</strong>
          </p>
          <pre class="code-block"><code>## An√°lise Funcional: [Nome da Funcionalidade Proposta]

### Contexto Territorial
- **Territ√≥rio observado**: [Nome]
- **Necessidade identificada**: [Descri√ß√£o clara]

### An√°lise T√©cnica (via API)
- **Endpoint testado**: `GET /api/v1/...`
- **Comportamento atual**: [O que observou]
- **Limita√ß√µes identificadas**: [O que falta]

### Proposta Funcional
- **O que faria**: [Descri√ß√£o clara]
- **Como funcionaria**: [Fluxo de uso]
- **Regras de neg√≥cio**: [Quem pode fazer o qu√™]

### Benef√≠cios
- Para o territ√≥rio: [Benef√≠cio territorial]
- Para a comunidade: [Benef√≠cio comunit√°rio]

### Evid√™ncias T√©cnicas
[Exemplos de requisi√ß√µes/respostas da API que suportam a proposta]</code></pre>
        </div>

        <div class="info-box">
          <strong>Pr√≥ximos Passos para Analistas Funcionais:</strong>
          <ul>
            <li><strong>Continue explorando a API</strong>: Teste outros endpoints (<code>/api/v1/events</code>, <code>/api/v1/map/entities</code>)</li>
            <li><strong>Documente observa√ß√µes</strong>: Crie um documento com suas an√°lises e propostas</li>
            <li><strong>Valide com comunidade</strong>: Converse com pessoas do territ√≥rio sobre necessidades observadas</li>
            <li><strong>Crie Issues no GitHub</strong>: Transforme observa√ß√µes em propostas concretas</li>
            <li><strong>Participe de Discussions</strong>: Debata propostas com desenvolvedores e outros analistas</li>
          </ul>
        </div>
      </section>

      <section class="section" id="onboarding-developers">
        <span class="eyebrow">Onboarding T√©cnico</span>
        <h2>Onboarding para Desenvolvedores - Guia T√©cnico Detalhado</h2>
        <p class="lead-text">
          Este guia t√©cnico fornece um passo a passo detalhado para desenvolvedores configurarem o ambiente de desenvolvimento
          e come√ßarem a contribuir com c√≥digo no Araponga.
        </p>

        <div class="flow-step">
          <h4>Passo 1: Verificar Requisitos do Sistema</h4>
          <p>
            <strong>Requisitos obrigat√≥rios:</strong>
          </p>
          <table class="kv-table">
            <thead>
              <tr>
                <th>Componente</th>
                <th>Vers√£o M√≠nima</th>
                <th>Como Verificar</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Sistema Operacional</td>
                <td>Windows 10/11, macOS 10.15+, Linux (Ubuntu 20.04+)</td>
                <td><code>systeminfo</code> (Windows) ou <code>uname -a</code> (Linux/macOS)</td>
              </tr>
              <tr>
                <td>.NET SDK</td>
                <td>8.0 ou superior</td>
                <td><code>dotnet --version</code> (deve mostrar 8.0.x)</td>
              </tr>
              <tr>
                <td>Git</td>
                <td>2.30 ou superior</td>
                <td><code>git --version</code></td>
              </tr>
              <tr>
                <td>Mem√≥ria RAM</td>
                <td>M√≠nimo 4GB (recomendado 8GB+)</td>
                <td>Verificar nas configura√ß√µes do sistema</td>
              </tr>
            </tbody>
          </table>
          <p>
            <strong>Se algum requisito faltar:</strong>
          </p>
          <ul class="card-list">
            <li><strong>.NET SDK 8.0</strong>: Baixe em <a href="https://dotnet.microsoft.com/download/dotnet/8.0">https://dotnet.microsoft.com/download/dotnet/8.0</a> (escolha "SDK", n√£o apenas Runtime)</li>
            <li><strong>Git</strong>: Windows: <a href="https://git-scm.com/download/win">https://git-scm.com/download/win</a> | macOS: <code>brew install git</code> | Linux: <code>sudo apt install git</code></li>
          </ul>
        </div>

        <div class="flow-step">
          <h4>Passo 2: Clonar o Reposit√≥rio</h4>
          <p>
            <strong>O que acontece:</strong> Voc√™ baixa todo o c√≥digo fonte do projeto para sua m√°quina local.
          </p>
          <pre class="code-block"><code># Clone o reposit√≥rio
git clone https://github.com/sraphaz/araponga.git

# Entre na pasta do projeto
cd araponga</code></pre>
          <p>
            <strong>Verifica√ß√£o:</strong>
          </p>
          <pre class="code-block"><code># Verifique que os arquivos foram baixados
ls backend/
# Deve mostrar: Araponga.Api, Araponga.Application, Araponga.Domain, etc.</code></pre>
          <p>
            <strong>Estrutura do projeto:</strong>
          </p>
          <ul class="card-list">
            <li><strong><code>backend/</code></strong>: C√≥digo fonte C# (.NET) organizado em camadas (Clean Architecture)</li>
            <li><strong><code>docs/</code></strong>: Documenta√ß√£o do projeto (vis√£o, roadmap, API, etc.)</li>
            <li><strong><code>frontend/</code></strong>: C√≥digo frontend (Wiki e DevPortal)</li>
            <li><strong><code>.cursorrules</code></strong>: Regras e padr√µes do projeto (Cursor l√™ automaticamente)</li>
          </ul>
        </div>

        <div class="flow-step">
          <h4>Passo 3: Restaurar Depend√™ncias</h4>
          <p>
            <strong>O que acontece:</strong> O .NET baixa todas as bibliotecas (pacotes NuGet) necess√°rias para o projeto compilar e rodar.
          </p>
          <pre class="code-block"><code># Restaura pacotes NuGet
dotnet restore</code></pre>
          <p>
            <strong>O que voc√™ vai ver:</strong>
          </p>
          <pre class="code-block"><code>Determining projects to restore...
Restored backend/Araponga.Domain/Araponga.Domain.csproj
Restored backend/Araponga.Application/Araponga.Application.csproj
...
Restore succeeded.</code></pre>
          <p>
            <strong>Tempo estimado:</strong> 2-5 minutos na primeira vez (depende da velocidade da internet).
          </p>
          <div class="callout">
            <strong>Se houver erros:</strong> Verifique sua conex√£o com internet e se o .NET SDK 8.0 est√° instalado corretamente.
          </div>
        </div>

        <div class="flow-step">
          <h4>Passo 4: Compilar o Projeto</h4>
          <p>
            <strong>O que acontece:</strong> O .NET compila todo o c√≥digo C# para verificar se est√° tudo correto e pronto para executar.
          </p>
          <pre class="code-block"><code># Compila o projeto
dotnet build</code></pre>
          <p>
            <strong>Resultado esperado:</strong>
          </p>
          <pre class="code-block"><code>Build succeeded.
    0 Warning(s)
    0 Error(s)
Time Elapsed 00:01:23</code></pre>
          <p>
            <strong>Se houver erros de compila√ß√£o:</strong>
          </p>
          <ul class="card-list">
            <li>Verifique se o .NET SDK 8.0 est√° instalado: <code>dotnet --version</code></li>
            <li>Verifique se todas as depend√™ncias foram restauradas: <code>dotnet restore</code> novamente</li>
            <li>Verifique se h√° conflitos de vers√£o: procure por mensagens de erro espec√≠ficas</li>
          </ul>
        </div>

        <div class="flow-step">
          <h4>Passo 5: Executar Testes Automatizados</h4>
          <p>
            <strong>O que acontece:</strong> Todos os testes automatizados s√£o executados para garantir que o c√≥digo est√° funcionando corretamente.
          </p>
          <pre class="code-block"><code># Executa todos os testes
dotnet test</code></pre>
          <p>
            <strong>Resultado esperado:</strong>
          </p>
          <pre class="code-block"><code>Passed!  - Failed:     0, Passed:   245, Skipped:     0
Total:   245
Duration: 00:02:15</code></pre>
          <p>
            <strong>Se alguns testes falharem:</strong>
          </p>
          <ul class="card-list">
            <li><strong>N√£o se preocupe imediatamente</strong>: Pode ser configura√ß√£o espec√≠fica do seu ambiente</li>
            <li><strong>Verifique mensagens de erro</strong>: Leia a sa√≠da do teste para entender o problema</li>
            <li><strong>Teste em modo verbose</strong>: <code>dotnet test --verbosity detailed</code> para mais informa√ß√µes</li>
            <li><strong>Verifique depend√™ncias externas</strong>: Alguns testes podem precisar de banco de dados ou servi√ßos externos</li>
          </ul>
          <div class="callout">
            <strong>Cobertura de testes:</strong> O projeto mant√©m cobertura acima de 90%. Novos c√≥digos devem incluir testes.
          </div>
        </div>

        <div class="flow-step">
          <h4>Passo 6: Executar a API Localmente</h4>
          <p>
            <strong>O que acontece:</strong> Voc√™ inicia o servidor da API localmente para testar e desenvolver.
          </p>
          <pre class="code-block"><code># Configurar ambiente de desenvolvimento
export ASPNETCORE_ENVIRONMENT=Development  # Linux/macOS
# OU
$env:ASPNETCORE_ENVIRONMENT="Development"  # Windows PowerShell

# Executar a API
dotnet run --project backend/Araponga.Api --urls http://localhost:8080</code></pre>
          <p>
            <strong>O que voc√™ vai ver:</strong>
          </p>
          <pre class="code-block"><code>info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:8080
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.</code></pre>
          <p>
            <strong>Testar a API:</strong>
          </p>
          <pre class="code-block"><code># Em outro terminal, teste se a API est√° respondendo
curl http://localhost:8080/api/v1/territories

# Ou abra no navegador:
# http://localhost:8080</code></pre>
          <p>
            <strong>Para parar a API:</strong> Pressione <code>Ctrl+C</code> no terminal onde est√° rodando.
          </p>
        </div>

        <div class="flow-step">
          <h4>Passo 7: Abrir o Projeto no Cursor (Recomendado)</h4>
          <p>
            <strong>O que √© o Cursor:</strong> Editor de c√≥digo com IA que entende o contexto do projeto e ajuda voc√™ a programar seguindo os padr√µes.
          </p>
          <p>
            <strong>Instalar Cursor:</strong>
          </p>
          <ul class="card-list">
            <li>Baixe em <a href="https://cursor.sh/">https://cursor.sh/</a></li>
            <li>Instale normalmente (setup autom√°tico)</li>
          </ul>
          <p>
            <strong>Abrir projeto no Cursor:</strong>
          </p>
          <ol class="card-list" style="list-style-type: decimal;">
            <li>Abra o Cursor</li>
            <li><strong>File > Open Folder</strong> (ou <code>Ctrl+K Ctrl+O</code> no Windows/Linux, <code>Cmd+K Cmd+O</code> no macOS)</li>
            <li>Selecione a pasta <code>araponga</code> que voc√™ clonou</li>
            <li>Pronto! O Cursor automaticamente:
              <ul>
                <li>L√™ o arquivo <code>.cursorrules</code> com todas as regras do projeto</li>
                <li>Configura o ambiente de desenvolvimento</li>
                <li>Prepara autocompletar e sugest√µes baseadas no projeto</li>
              </ul>
            </li>
          </ol>
          <div class="info-box">
            <strong>Como o Cursor te ajuda:</strong>
            <ul>
              <li><strong>Entender c√≥digo:</strong> Pergunte "Como funciona a cria√ß√£o de posts?" e o Cursor explica</li>
              <li><strong>Criar c√≥digo novo:</strong> Descreva o que quer ("Criar endpoint para listar eventos") e o Cursor gera seguindo padr√µes</li>
              <li><strong>Validar c√≥digo:</strong> Pe√ßa "Este c√≥digo segue Clean Architecture?" e o Cursor valida</li>
              <li><strong>Aprender padr√µes:</strong> O Cursor aplica automaticamente as regras do <code>.cursorrules</code></li>
            </ul>
          </div>
        </div>

        <div class="flow-step">
          <h4>Passo 8: Entender a Estrutura do C√≥digo (Clean Architecture)</h4>
          <p>
            <strong>Organiza√ß√£o em camadas:</strong>
          </p>
          <pre class="code-block"><code>backend/
‚îú‚îÄ‚îÄ Araponga.Domain/          # Camada mais interna (n√£o depende de nada)
‚îÇ   ‚îî‚îÄ‚îÄ Entidades, Value Objects, Interfaces de Reposit√≥rios
‚îÇ
‚îú‚îÄ‚îÄ Araponga.Application/     # Camada de l√≥gica de neg√≥cio
‚îÇ   ‚îî‚îÄ‚îÄ Services, Use Cases, DTOs de Aplica√ß√£o
‚îÇ
‚îú‚îÄ‚îÄ Araponga.Infrastructure/  # Camada de infraestrutura
‚îÇ   ‚îî‚îÄ‚îÄ Implementa√ß√µes de Reposit√≥rios, Storage, External Services
‚îÇ
‚îú‚îÄ‚îÄ Araponga.Api/             # Camada mais externa (HTTP, Controllers)
‚îÇ   ‚îî‚îÄ‚îÄ Controllers, Middlewares, Configura√ß√µes de API
‚îÇ
‚îî‚îÄ‚îÄ Araponga.Tests/           # Testes automatizados
    ‚îî‚îÄ‚îÄ Testes unit√°rios, integra√ß√£o, E2E</code></pre>
          <p>
            <strong>Regra fundamental:</strong> Depend√™ncias apontam para dentro (Domain n√£o depende de nada, Application depende apenas de Domain, etc.).
          </p>
          <p>
            <strong>Exemplo pr√°tico - Cria√ß√£o de Posts:</strong>
          </p>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Controller</strong> (<code>Araponga.Api/Controllers/FeedController.cs</code>) recebe requisi√ß√£o HTTP</li>
            <li><strong>Controller</strong> chama <strong>Service</strong> (<code>Araponga.Application/Services/PostCreationService.cs</code>)</li>
            <li><strong>Service</strong> usa <strong>Entidades</strong> (<code>Araponga.Domain/Feed/CommunityPost.cs</code>) para criar post</li>
            <li><strong>Service</strong> usa <strong>Repository Interface</strong> (<code>IPostRepository</code>) para salvar</li>
            <li><strong>Repository Implementation</strong> (<code>Araponga.Infrastructure/Postgres/PostgresPostRepository.cs</code>) salva no banco</li>
          </ol>
        </div>

        <div class="flow-step">
          <h4>Passo 9: Primeira Contribui√ß√£o - Exemplo Pr√°tico</h4>
          <p>
            <strong>Exerc√≠cio sugerido:</strong> Melhorar mensagem de erro em um endpoint.
          </p>
          <p>
            <strong>Passo a passo:</strong>
          </p>
          <ol class="card-list" style="list-style-type: decimal;">
            <li><strong>Escolha um endpoint</strong>: Ex: <code>GET /api/v1/feed</code> (listar posts do feed)</li>
            <li><strong>Encontre o Controller</strong>: <code>backend/Araponga.Api/Controllers/FeedController.cs</code></li>
            <li><strong>Encontre o Service</strong>: <code>backend/Araponga.Application/Services/FeedService.cs</code></li>
            <li><strong>Analise o c√≥digo</strong>: Pergunte ao Cursor "Como funciona a listagem de posts?"</li>
            <li><strong>Identifique melhoria</strong>: Ex: Mensagem de erro quando n√£o h√° posts poderia ser mais clara</li>
            <li><strong>Implemente a mudan√ßa</strong>: Use o Cursor para fazer a altera√ß√£o seguindo padr√µes</li>
            <li><strong>Adicione teste</strong>: Crie teste que valida a nova mensagem de erro</li>
            <li><strong>Valide build e testes</strong>:
              <pre class="code-block"><code>dotnet build
dotnet test</code></pre>
            </li>
            <li><strong>Crie Pull Request</strong>: Siga o template em <code>.github/pull_request_template.md</code></li>
          </ol>
        </div>

        <div class="info-box">
          <strong>Recursos de Aprendizado para Desenvolvedores:</strong>
          <ul>
            <li><strong>Documenta√ß√£o t√©cnica</strong>: <code>docs/60_API_L√ìGICA_NEG√ìCIO.md</code> - Como as funcionalidades funcionam</li>
            <li><strong>Modelo de dom√≠nio</strong>: <code>docs/12_DOMAIN_MODEL.md</code> - Entidades e relacionamentos</li>
            <li><strong>Padr√µes de c√≥digo</strong>: <code>.cursorrules</code> - Regras que o Cursor aplica automaticamente</li>
            <li><strong>Arquitetura</strong>: <code>docs/10_ARCHITECTURE_DECISIONS.md</code> - Decis√µes arquiteturais (ADRs)</li>
            <li><strong>Guia de contribui√ß√£o</strong>: <code>docs/41_CONTRIBUTING.md</code> - Como contribuir com c√≥digo</li>
          </ul>
        </div>

        <div class="callout highlight">
          <strong>Lembrete importante:</strong>
          <ul>
            <li>O Cursor l√™ automaticamente o <code>.cursorrules</code> e aplica padr√µes</li>
            <li>Voc√™ n√£o precisa saber tudo de uma vez - aprenda fazendo</li>
            <li>Pequenas contribui√ß√µes s√£o bem-vindas - comece pequeno</li>
            <li>Testes s√£o obrigat√≥rios para c√≥digo novo - cobertura >90%</li>
            <li>Documenta√ß√£o deve ser atualizada quando c√≥digo muda</li>
          </ul>
        </div>
      </section>

      <footer class="footer" role="contentinfo">
        <div class="footer-content">
          <div class="text-center space-y-6">
            <div class="footer-links-center">
              <a
                href="https://araponga.app"
                target="_blank"
                rel="noopener noreferrer"
                class="footer-link"
              >
                <span>Site Oficial</span>
              </a>
              <span class="footer-link-divider">‚Ä¢</span>
              <a
                href="https://github.com/sraphaz/araponga"
                target="_blank"
                rel="noopener noreferrer"
                class="footer-link"
              >
                <span>Contribuir no GitHub</span>
              </a>
              <span class="footer-link-divider">‚Ä¢</span>
              <a
                href="https://discord.gg/auwqN8Yjgw"
                target="_blank"
                rel="noopener noreferrer"
                class="footer-link"
              >
                <span>Discord da Comunidade</span>
              </a>
            </div>
            <p class="footer-tagline">
              Territ√≥rio como refer√™ncia ‚Ä¢ Comunidade como prioridade ‚Ä¢ Tecnologia servindo a Vida
            </p>
          </div>
        </div>
      </footer>
    </main>
  </div>

  <script src="./assets/js/devportal.js"></script>
  <script src="./assets/js/toc.js"></script>
  <script>
    // Inicializa√ß√£o de event listeners para bot√µes de tela cheia (SVGs pr√©-renderizados)
    (function() {
      // Fun√ß√£o para abrir diagrama em tela cheia
      function openDiagramFullscreen(diagramElement) {
        if (diagramElement.tagName !== 'IMG') {
          console.error('openDiagramFullscreen espera um elemento IMG');
          return;
        }

        var modal = document.getElementById('diagram-modal');
        if (!modal) {
          modal = document.createElement('div');
          modal.id = 'diagram-modal';
          modal.className = 'diagram-modal';

          var modalContent = document.createElement('div');
          modalContent.className = 'diagram-modal-content';

          var closeBtn = document.createElement('button');
          closeBtn.className = 'diagram-modal-close';
          closeBtn.textContent = '√ó';
          closeBtn.setAttribute('aria-label', 'Fechar');
          closeBtn.addEventListener('click', function() {
            modal.classList.remove('active');
            document.body.style.overflow = '';
          });

          modal.appendChild(closeBtn);
          modal.appendChild(modalContent);
          document.body.appendChild(modal);
        }

        var modalContent = modal.querySelector('.diagram-modal-content');
        modalContent.innerHTML = '';

        // Criar clone da imagem SVG
        var imgClone = diagramElement.cloneNode(true);
        imgClone.style.maxWidth = '100%';
        imgClone.style.height = 'auto';
        imgClone.style.margin = '0 auto';
        imgClone.style.display = 'block';
        imgClone.className = 'mermaid-diagram'; // Garantir que os filtros CSS sejam aplicados

        modalContent.appendChild(imgClone);
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';

        // Fechar com ESC
        var escHandler = function(e) {
          if (e.key === 'Escape') {
            modal.classList.remove('active');
            document.body.style.overflow = '';
            document.removeEventListener('keydown', escHandler);
          }
        };
        document.addEventListener('keydown', escHandler);

        // Fechar ao clicar fora
        modal.addEventListener('click', function(e) {
          if (e.target === modal) {
            modal.classList.remove('active');
            document.body.style.overflow = '';
          }
        });
      }

      // Tornar fun√ß√£o global (para compatibilidade se houver onclick inline)
      window.openDiagramFullscreen = openDiagramFullscreen;

      // Inicializar event listeners para todos os bot√µes de tela cheia
      function initDiagramButtons() {
        var diagramButtons = document.querySelectorAll('.diagram-fullscreen-btn');
        diagramButtons.forEach(function(btn) {
          // Remover onclick inline se houver (para evitar CSP issues)
          btn.removeAttribute('onclick');
          if (!btn.hasAttribute('data-listener-added')) {
            btn.addEventListener('click', function() {
              var img = this.previousElementSibling;
              if (img && img.tagName === 'IMG' && img.classList.contains('mermaid-diagram')) {
                openDiagramFullscreen(img);
              }
            });
            btn.setAttribute('data-listener-added', 'true');
          }
        });
      }

      // Inicializar quando DOM estiver pronto
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initDiagramButtons);
      } else {
        initDiagramButtons();
      }
    })();
  </script>
  <!-- Scripts -->
  <script src="./assets/js/search.js"></script>
  <script src="./assets/js/breadcrumbs.js"></script>
</body>
</html>
