# Araponga - Cursor Best Practices

**VersÃ£o**: 1.7
**Data**: 2025-01-20
**Projeto**: Araponga - Plataforma Digital ComunitÃ¡ria Orientada ao TerritÃ³rio

---

## ğŸ“š Arquivos de ReferÃªncia para Contexto

### Estrutura e OrganizaÃ§Ã£o da DocumentaÃ§Ã£o
- `docs/STRUCTURE.md` - ğŸ†• Estrutura da documentaÃ§Ã£o, onde colocar cada tipo de arquivo
- `DOCUMENTATION_REORGANIZATION_PLAN.md` - ğŸ†• Plano completo de reorganizaÃ§Ã£o (fases e checklist)
- `WIKI_COMPATIBILITY_GUARANTEE.md` - ğŸ†• Garantia de compatibilidade do wiki com a reorganizaÃ§Ã£o

### Design e Identidade Visual
- `docs/DESIGN_SYSTEM_IDENTIDADE_VISUAL.md` - Identidade visual completa, cores, tipografia, componentes
- `docs/CURSOR_DESIGN_RULES.md` - Regras prÃ¡ticas de design (mobile-first obrigatÃ³rio, variÃ¡veis CSS, escala 8px)
- `docs/ANALISE_DESIGN_SISTEMATICA_MELHORIAS.md` - AnÃ¡lise detalhada e propostas de melhoria
- `docs/REVISAO_ARTE_DESIGN_WIKI.md` - RevisÃ£o completa de conformidade (2025-01-20) - liÃ§Ãµes aprendidas sobre cores hardcoded

### Processo de Melhoria ContÃ­nua
- `docs/PROCESSO_AUTO_APRENDIZADO_REVISOES.md` - âš ï¸ OBRIGATÃ“RIO: Processo sistemÃ¡tico de captura e aplicaÃ§Ã£o de liÃ§Ãµes aprendidas apÃ³s revisÃµes
- `docs/LICOES_APRENDIDAS.md` - Registro de liÃ§Ãµes aprendidas de revisÃµes tÃ©cnicas, categorizadas por prioridade

### Regras e PadrÃµes
- `docs/CURSOR_DOCUMENTATION_RULES.md` - âš ï¸ OBRIGATÃ“RIO: Mapeamento de mudanÃ§as â†’ documentos, checklist de documentaÃ§Ã£o
- `docs/10_ARCHITECTURE_DECISIONS.md` - DecisÃµes arquiteturais (ADRs), padrÃµes estabelecidos
- `docs/11_ARCHITECTURE_SERVICES.md` - Estrutura e organizaÃ§Ã£o de services
- `docs/12_DOMAIN_MODEL.md` - Modelo de domÃ­nio, entidades e relacionamentos
- `docs/05_GLOSSARY.md` - Terminologia correta: territory (nÃ£o "place"), items (nÃ£o "listings"), 29 fases

### VisÃ£o e NegÃ³cio
- `docs/01_PRODUCT_VISION.md` - VisÃ£o do produto, princÃ­pios, valores
- `docs/60_API_LÃ“GICA_NEGÃ“CIO.md` - LÃ³gica de negÃ³cio completa, contratos de API, casos de uso

### PadrÃµes de CÃ³digo e Testes
- `docs/21_CODE_REVIEW.md` - PadrÃµes de cÃ³digo, anÃ¡lise de gaps
- `docs/22_COHESION_AND_TESTS.md` - Cobertura de testes (>90%), estrutura de testes
- `docs/41_CONTRIBUTING.md` - PadrÃµes de contribuiÃ§Ã£o

### ConfiguraÃ§Ãµes TÃ©cnicas
- `frontend/wiki/app/globals.css` - Design tokens CSS (cores, espaÃ§amento, tipografia)
- `frontend/wiki/tailwind.config.ts` - ConfiguraÃ§Ã£o Tailwind CSS
- `global.json` - VersÃ£o .NET configurada
- `backend/Araponga.Api/Program.cs` - ConfiguraÃ§Ã£o da aplicaÃ§Ã£o, DI, middlewares
- `.editorconfig` - ConfiguraÃ§Ã£o de formataÃ§Ã£o (indent C# 4, TS/JS 2)

---

## ğŸ¯ PrincÃ­pios Fundamentais do Projeto

### TerritÃ³rio como ReferÃªncia
- **Territory** Ã© geogrÃ¡fico e neutro - representa um lugar vivo e real
- TerritÃ³rio existe antes do app e continua existindo sem usuÃ¡rios
- LÃ³gica social (memberships, visibilidade, moderaÃ§Ã£o) fica em camadas separadas
- **NUNCA** coloque lÃ³gica social dentro da entidade Territory

### Nomenclatura ObrigatÃ³ria
- âœ… Use sempre **territory** (NUNCA "place" ou "location")
- âœ… Use **items** (NUNCA "listings") para produtos do marketplace
- âœ… Use **nÃºmero total de fases** calculado dinamicamente (ver `docs/PROJECT_PHASES_CONFIG.md`) ao referenciar backlog - NUNCA hardcode valores fixos
- âœ… Use **membership** para vÃ­nculo usuÃ¡rio-territÃ³rio
- âœ… Use **visitor/resident** para papÃ©is (NUNCA "user", "member" genÃ©rico)

### Valores do Projeto
- Autonomia local
- Cuidado coletivo
- Continuidade da vida no territÃ³rio
- Fortalecimento do vÃ­nculo entre pessoas e lugar
- **NÃƒO Ã©**: marketplace agressivo, rede de engajamento infinito, produto de vigilÃ¢ncia

---

## ğŸ“‚ ORGANIZAÃ‡ÃƒO DE ARQUIVOS - REGRA CRÃTICA âš ï¸

### âœ… OBRIGATÃ“RIO: Nenhum Lixo na Raiz

**A raiz do repositÃ³rio DEVE conter APENAS:**
- `README.md` - DocumentaÃ§Ã£o principal
- `CONTRIBUTING.md` - Guia de contribuiÃ§Ã£o
- `CODE_OF_CONDUCT.md` - CÃ³digo de conduta
- `SECURITY.md` - PolÃ­tica de seguranÃ§a
- `LICENSE` - LicenÃ§a MIT
- `LICENSE.pt-BR` - LicenÃ§a em portuguÃªs
- `.editorconfig` - ConfiguraÃ§Ã£o de formataÃ§Ã£o
- `global.json` - VersÃ£o .NET
- `.cursorrules` - Regras de Cursor
- `.github/` - Workflows e templates
- `backend/` - CÃ³digo do backend
- `frontend/` - CÃ³digo do frontend
- `docs/` - DocumentaÃ§Ã£o centralizada
- `design/` - Wireframes e design
- `scripts/` - Scripts utilitÃ¡rios
- `docker-compose.yml`, `Dockerfile` - ConfiguraÃ§Ã£o Docker
- `package.json`, `package-lock.json` - DependÃªncias Node.js

### âŒ PROIBIDO: O Que Nunca Criar na Raiz

âŒ **NUNCA criar:**
- `pr_body_*.txt` - Arquivos temporÃ¡rios de PR
- `PR_*.md` - DescriÃ§Ãµes de PR duplicadas
- `RESUMO_*.md` - Resumos temporÃ¡rios
- `verificacao_*.md` - VerificaÃ§Ãµes temporÃ¡rias
- `PREPARACAO_*.md` - PreparaÃ§Ã£o temporÃ¡ria
- `CORRECAO_*.md` - CorreÃ§Ãµes documentadas
- Qualquer arquivo `*.txt` ou `*.md` temporÃ¡rio

### âœ… PARA CADA TIPO DE ARQUIVO:

#### DocumentaÃ§Ã£o de Features/Fases
- âœ… **COLOCAR EM:** `/docs/backlog-api/FASE*.md`
- âœ… **EXEMPLO:** `/docs/backlog-api/FASE14_5.md`
- âŒ NÃƒO colocar na raiz como `FASE14_5.md`

#### DocumentaÃ§Ã£o de Setup/Desenvolvimento
- âœ… **COLOCAR EM:** `/docs/DEVELOPMENT.md`, `/docs/SETUP.md`, `/docs/API.md`
- âœ… **EXEMPLO:** `/docs/DEVELOPMENT.md` para guia de desenvolvimento
- âŒ NÃƒO colocar na raiz como `DEVELOPER_GUIDE.md`

#### Scripts com DocumentaÃ§Ã£o
- âœ… **COLOCAR EM:** `/scripts/script-name.js` + `/scripts/script-name.md`
- âœ… **EXEMPLO:** `/scripts/discord-setup.js` + `/scripts/discord-setup-guide.md`
- âŒ NÃƒO colocar na raiz

#### Wireframes e Design
- âœ… **COLOCAR EM:** `/design/`
- âœ… **SUBDIRETÃ“RIOS:** `/design/Architecture/`, `/design/Backlog/`, `/design/Wireframes/`
- âŒ NÃƒO colocar na raiz

#### DescriÃ§Ãµes de PR
- âœ… **COLOCAR EM:** DescriÃ§Ã£o da PR no GitHub
- âœ… **REFERIR A:** `/docs/` para links e contexto
- âŒ NÃƒO criar arquivos `pr_body_*.txt` ou `PR_*.md`

### ğŸ“‹ Checklist Antes de Criar Arquivo

Antes de criar QUALQUER arquivo `.md` ou `.txt`, faÃ§a essa pergunta:

1. **Este arquivo Ã© documentaÃ§Ã£o tÃ©cnica?**
   - SIM â†’ Vai para `/docs/`
   - NÃƒO â†’ PrÃ³xima pergunta

2. **Este arquivo Ã© um script utilitÃ¡rio?**
   - SIM â†’ Vai para `/scripts/`
   - NÃƒO â†’ PrÃ³xima pergunta

3. **Este arquivo Ã© design/wireframe?**
   - SIM â†’ Vai para `/design/`
   - NÃƒO â†’ PrÃ³xima pergunta

4. **Este arquivo Ã© temporÃ¡rio ou para uma PR?**
   - SIM â†’ âŒ **NÃƒO CRIE** ou coloque em `/docs/` se for importante
   - NÃƒO â†’ PrÃ³xima pergunta

5. **Este arquivo Ã© README, CONTRIBUTING, ou LICENSE?**
   - SIM â†’ Pode ir na raiz
   - NÃƒO â†’ âŒ **PROVAVELMENTE DEVERIA IR EM `/docs/`**

### ğŸ—ï¸ Estrutura Esperada ApÃ³s ReorganizaÃ§Ã£o

```
/
â”œâ”€â”€ README.md
â”œâ”€â”€ CONTRIBUTING.md
â”œâ”€â”€ CODE_OF_CONDUCT.md
â”œâ”€â”€ SECURITY.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ LICENSE.pt-BR
â”œâ”€â”€ .editorconfig
â”œâ”€â”€ .cursorrules
â”œâ”€â”€ global.json
â”œâ”€â”€ package.json
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile
â”‚
â”œâ”€â”€ .github/          # Workflows
â”œâ”€â”€ .config/          # ConfiguraÃ§Ãµes (dotnet-tools.json)
â”œâ”€â”€ .vscode/          # ConfiguraÃ§Ãµes VS Code
â”‚
â”œâ”€â”€ backend/          # CÃ³digo backend
â”œâ”€â”€ frontend/         # CÃ³digo frontend
â”‚
â”œâ”€â”€ docs/             # âœ… DOCUMENTAÃ‡ÃƒO CENTRALIZADA
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ DEVELOPMENT.md
â”‚   â”œâ”€â”€ SETUP.md
â”‚   â”œâ”€â”€ API.md
â”‚   â”œâ”€â”€ STRUCTURE.md
â”‚   â”œâ”€â”€ ARCHITECTURE.md
â”‚   â”œâ”€â”€ CHANGELOG.md
â”‚   â”œâ”€â”€ backlog-api/
â”‚   â”‚   â”œâ”€â”€ FASE1.md
â”‚   â”‚   â”œâ”€â”€ FASE2.md
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ COMMUNITY_MODERATION.md
â”‚   â”œâ”€â”€ GOVERNANCE_SYSTEM.md
â”‚   â”œâ”€â”€ VOTING_SYSTEM.md
â”‚   â”œâ”€â”€ ONBOARDING_PUBLICO/
â”‚   â”œâ”€â”€ ONBOARDING_DEVELOPERS/
â”‚   â””â”€â”€ ... (subdirs com numeraÃ§Ã£o)
â”‚
â”œâ”€â”€ scripts/          # Scripts utilitÃ¡rios
â”‚   â”œâ”€â”€ discord-setup.js
â”‚   â”œâ”€â”€ discord-setup-guide.md
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ design/           # Design e wireframes
    â”œâ”€â”€ Architecture/
    â”œâ”€â”€ Backlog/
    â””â”€â”€ Wireframes/
```

### ğŸ¯ BenefÃ­cios dessa OrganizaÃ§Ã£o

âœ… **Raiz limpa** - Apenas o essencial
âœ… **DocumentaÃ§Ã£o centralizada** - Tudo em `/docs/`
âœ… **Wiki funciona** - Wiki busca em `/docs/`, nada quebra
âœ… **FÃ¡cil de navegar** - Estrutura clara e previsÃ­vel
âœ… **Sem arquivos temporÃ¡rios** - Nada polui o repositÃ³rio
âœ… **EscalÃ¡vel** - FÃ¡cil adicionar nova documentaÃ§Ã£o

### ğŸ“ Exemplos PrÃ¡ticos

**âŒ Errado:**
```
/
â”œâ”€â”€ PR_FASE14_5.md (âŒ na raiz)
â”œâ”€â”€ pr_body_temp.txt (âŒ na raiz)
â”œâ”€â”€ RESUMO_IMPLEMENTACAO.md (âŒ na raiz)
```

**âœ… Correto:**
```
/docs/
â”œâ”€â”€ backlog-api/FASE14_5.md (âœ… em /docs/)
â”œâ”€â”€ DEVELOPMENT.md (âœ… em /docs/)
/scripts/
â”œâ”€â”€ discord-setup-guide.md (âœ… em /scripts/)
```

---

### âš ï¸ OBRIGATÃ“RIO: Clean Architecture (Uncle Bob)

**TODO cÃ³digo DEVE seguir os princÃ­pios de Clean Architecture por padrÃ£o.**

Clean Architecture organiza cÃ³digo em camadas concÃªntricas, com dependÃªncias apontando para o centro (regras de negÃ³cio).

#### Estrutura de Camadas (De Dentro para Fora)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Entities (Domain)                                      â”‚
â”‚  - Regras de negÃ³cio mais puras e estÃ¡veis             â”‚
â”‚  - NÃ£o dependem de NADA                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Use Cases (Application)                                â”‚
â”‚  - Casos de uso da aplicaÃ§Ã£o                           â”‚
â”‚  - Depende apenas de Entities                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Interface Adapters (Infrastructure/API)                â”‚
â”‚  - Controllers, Presenters, Gateways                    â”‚
â”‚  - Adapta dados entre camadas externas e internas      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frameworks & Drivers (External)                        â”‚
â”‚  - Database, Web Framework, UI, APIs externas           â”‚
â”‚  - Detalhes de implementaÃ§Ã£o                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ImplementaÃ§Ã£o no Projeto

```
backend/
â”œâ”€â”€ Araponga.Api          # Frameworks & Drivers (HTTP, Controllers)
â”œâ”€â”€ Araponga.Application  # Use Cases (Casos de uso, Services)
â”œâ”€â”€ Araponga.Domain       # Entities (Entidades, Value Objects)
â”œâ”€â”€ Araponga.Infrastructure # Interface Adapters (Repositories, External Services)
â”œâ”€â”€ Araponga.Shared       # Tipos compartilhados (DTOs comuns)
â””â”€â”€ Araponga.Tests        # Testes automatizados
```

#### Regra de DependÃªncia (Rule of Dependency)

**DependÃªncias devem apontar para dentro (em direÃ§Ã£o Ã s entidades):**

- âœ… **Entities (Domain)**: NÃ£o depende de NADA (camada mais interna)
- âœ… **Use Cases (Application)**: Depende apenas de **Entities**
- âœ… **Interface Adapters (Infrastructure)**: Depende de **Use Cases** e **Entities**
- âœ… **Frameworks & Drivers (Api)**: Depende de todas as outras (camada mais externa)
- âŒ **NUNCA** importe Infrastructure ou Api em Domain ou Application
- âŒ **NUNCA** faÃ§a dependÃªncias apontarem para fora

#### IndependÃªncia

**Clean Architecture garante independÃªncia de:**

1. **Frameworks**: Regras de negÃ³cio nÃ£o dependem de .NET, Node.js, etc.
2. **UI**: Regras de negÃ³cio nÃ£o sabem se Ã© web, mobile, console
3. **Database**: Regras de negÃ³cio nÃ£o sabem se Ã© PostgreSQL, MongoDB, etc.
4. **AgÃªncias Externas**: APIs externas, serviÃ§os terceiros sÃ£o detalhes

#### OrganizaÃ§Ã£o por Camadas

##### 1. Entities (Domain Layer)

**Responsabilidade**: Regras de negÃ³cio mais puras e estÃ¡veis

**ContÃ©m:**
- âœ… Entidades de domÃ­nio (ex: `Territory`, `Membership`, `Post`)
- âœ… Value Objects (ex: `GeoAnchor`, `Address`, `Email`)
- âœ… Interfaces de repositÃ³rios (ex: `ITerritoryRepository`) - **apenas interfaces**
- âœ… ExceÃ§Ãµes de domÃ­nio (ex: `TerritoryNotFoundException`)
- âœ… Regras de negÃ³cio invariantes

**NÃƒO contÃ©m:**
- âŒ LÃ³gica de persistÃªncia
- âŒ DTOs de API
- âŒ ReferÃªncias a frameworks
- âŒ DependÃªncias externas

**Exemplo:**
```csharp
// âœ… GOOD - Entidade pura, sem dependÃªncias
public class Territory
{
    public Guid Id { get; }
    public string Name { get; }
    public GeoAnchor Location { get; }

    public Territory(string name, double latitude, double longitude)
    {
        // ValidaÃ§Ã£o de regras de negÃ³cio
        if (string.IsNullOrWhiteSpace(name))
            throw new ArgumentException("Name cannot be empty");

        Name = name;
        Location = new GeoAnchor(latitude, longitude);
    }
}
```

##### 2. Use Cases (Application Layer)

**Responsabilidade**: Casos de uso da aplicaÃ§Ã£o, orquestraÃ§Ã£o

**ContÃ©m:**
- âœ… Services (ex: `TerritoryService`, `PostCreationService`)
- âœ… Casos de uso (ex: `CreateTerritoryUseCase`, `GetNearbyTerritoriesUseCase`)
- âœ… DTOs de aplicaÃ§Ã£o (ex: `CreatePostRequest`, `PostResponse`)
- âœ… Interfaces de serviÃ§os externos (ex: `IMediaStorageService`) - **apenas interfaces**

**NÃƒO contÃ©m:**
- âŒ LÃ³gica HTTP (controllers)
- âŒ ImplementaÃ§Ãµes de repositÃ³rios
- âŒ Detalhes de banco de dados
- âŒ Frameworks externos

**Exemplo:**
```csharp
// âœ… GOOD - Use Case orquestra entidades via interfaces
public class CreateTerritoryService : ICreateTerritoryService
{
    private readonly ITerritoryRepository _repository; // Interface, nÃ£o implementaÃ§Ã£o

    public async Task<Result<Territory>> CreateAsync(
        string name,
        double latitude,
        double longitude,
        CancellationToken cancellationToken)
    {
        // LÃ³gica de negÃ³cio usando entidades
        var territory = new Territory(name, latitude, longitude);
        await _repository.AddAsync(territory, cancellationToken);
        return Result<Territory>.Success(territory);
    }
}
```

##### 3. Interface Adapters (Infrastructure Layer)

**Responsabilidade**: Adaptar dados entre camadas externas e internas

**ContÃ©m:**
- âœ… ImplementaÃ§Ãµes de repositÃ³rios (ex: `PostgresTerritoryRepository : ITerritoryRepository`)
- âœ… ImplementaÃ§Ãµes de serviÃ§os externos (ex: `S3MediaStorageService : IMediaStorageService`)
- âœ… Mappers (converter entre entidades e DTOs/DB)
- âœ… ConfiguraÃ§Ãµes (ex: `DbContext`, `ServiceCollectionExtensions`)

**NÃƒO contÃ©m:**
- âŒ LÃ³gica de negÃ³cio
- âŒ Regras de domÃ­nio

**Exemplo:**
```csharp
// âœ… GOOD - Implementa interface definida em Application
public class PostgresTerritoryRepository : ITerritoryRepository
{
    private readonly ArapongaDbContext _context;

    public async Task<Territory?> GetByIdAsync(Guid id, CancellationToken cancellationToken)
    {
        var entity = await _context.Territories.FindAsync(new object[] { id }, cancellationToken);
        return entity?.ToDomain(); // Mapeia DB -> Domain
    }
}
```

##### 4. Frameworks & Drivers (Api Layer)

**Responsabilidade**: Pontos de entrada, frameworks, UI

**ContÃ©m:**
- âœ… Controllers (ex: `TerritoriesController`, `FeedController`)
- âœ… Middlewares (ex: `AuthenticationMiddleware`, `ErrorHandlingMiddleware`)
- âœ… ConfiguraÃ§Ãµes de API (ex: `Program.cs`, `Startup.cs`)
- âœ… DTOs de API (ex: `CreateTerritoryDto`, `TerritoryResponse`)

**NÃƒO contÃ©m:**
- âŒ LÃ³gica de negÃ³cio
- âŒ Regras de domÃ­nio

**Exemplo:**
```csharp
// âœ… GOOD - Controller apenas coordena, delega para Use Case
[ApiController]
[Route("api/territories")]
public class TerritoriesController : ControllerBase
{
    private readonly ICreateTerritoryService _service;

    [HttpPost]
    public async Task<IActionResult> Create([FromBody] CreateTerritoryDto dto)
    {
        var result = await _service.CreateAsync(
            dto.Name,
            dto.Latitude,
            dto.Longitude,
            HttpContext.RequestAborted);

        return result.IsSuccess
            ? CreatedAtAction(nameof(Get), new { id = result.Value.Id }, result.Value)
            : BadRequest(result.Error);
    }
}
```

#### PrincÃ­pios de Design que Suportam Clean Architecture

**1. Dependency Rule (Regra de DependÃªncia)**
- âœ… DependÃªncias apontam para dentro (em direÃ§Ã£o Ã s entidades)
- âœ… CÃ³digo fonte aponta apenas em uma direÃ§Ã£o (para dentro)
- âŒ Nunca apontar para fora

**2. Separation of Concerns (SeparaÃ§Ã£o de Responsabilidades)**
- âœ… Cada camada tem uma responsabilidade clara
- âœ… LÃ³gica de negÃ³cio separada de detalhes tÃ©cnicos
- âœ… UI separada de regras de negÃ³cio

**3. Interface Segregation**
- âœ… Use interfaces para desacoplar camadas
- âœ… Camadas internas definem interfaces
- âœ… Camadas externas implementam interfaces

**4. Dependency Inversion**
- âœ… Alto nÃ­vel (Use Cases) nÃ£o depende de baixo nÃ­vel (Infrastructure)
- âœ… Ambos dependem de abstraÃ§Ãµes (interfaces)
- âœ… InversÃ£o de dependÃªncia via DI

#### Testabilidade

**Clean Architecture facilita testes:**

- âœ… **Testes de Entidades**: Sem dependÃªncias, testes unitÃ¡rios puros
- âœ… **Testes de Use Cases**: Mock de interfaces, testes isolados
- âœ… **Testes de IntegraÃ§Ã£o**: Testa adaptadores com dados reais
- âœ… **Testes E2E**: Testa toda a pilha

**Exemplo de Teste de Use Case:**
```csharp
[Fact]
public async Task CreateTerritory_WhenValid_ReturnsSuccess()
{
    // Arrange - Mock da interface (nÃ£o precisa do banco de dados)
    var mockRepository = new Mock<ITerritoryRepository>();
    var service = new CreateTerritoryService(mockRepository.Object);

    // Act
    var result = await service.CreateAsync("Test", 0, 0, CancellationToken.None);

    // Assert
    Assert.True(result.IsSuccess);
    mockRepository.Verify(r => r.AddAsync(It.IsAny<Territory>(), It.IsAny<CancellationToken>()), Times.Once);
}
```

#### BenefÃ­cios da Clean Architecture

1. **IndependÃªncia de Frameworks**: Trocar .NET por outro framework nÃ£o afeta regras de negÃ³cio
2. **Testabilidade**: Regras de negÃ³cio podem ser testadas sem frameworks
3. **IndependÃªncia de UI**: UI pode mudar sem afetar regras de negÃ³cio
4. **IndependÃªncia de Database**: Trocar PostgreSQL por MongoDB nÃ£o afeta regras
5. **IndependÃªncia de AgÃªncias Externas**: APIs externas sÃ£o detalhes

#### Checklist Clean Architecture

- [ ] DependÃªncias apontam para dentro (Domain nÃ£o depende de nada)?
- [ ] Entities nÃ£o tÃªm referÃªncias a frameworks ou banco de dados?
- [ ] Use Cases usam apenas interfaces (nÃ£o implementaÃ§Ãµes)?
- [ ] Infrastructure implementa interfaces definidas em Application/Domain?
- [ ] Controllers apenas coordenam e delegam para Use Cases?
- [ ] LÃ³gica de negÃ³cio estÃ¡ em Entities e Use Cases (nÃ£o em Controllers)?
- [ ] Testes de Use Cases usam mocks (nÃ£o dependem de Infrastructure)?
- [ ] Cada camada tem uma responsabilidade clara?

#### ReferÃªncias

- **Clean Architecture**: Robert C. Martin (Uncle Bob)
- **The Clean Architecture**: https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html

---

## ğŸ“ PadrÃµes de CÃ³digo

### âš ï¸ OBRIGATÃ“RIO: PrincÃ­pios SOLID e YAGNI/KISS

**TODO cÃ³digo DEVE seguir os princÃ­pios SOLID, YAGNI e KISS por padrÃ£o.**

#### SOLID - PrincÃ­pios de Design Orientado a Objetos

**S - Single Responsibility Principle (SRP)**
- âœ… Cada funÃ§Ã£o/classe/mÃ³dulo deve ter UMA Ãºnica responsabilidade
- âœ… Se uma funÃ§Ã£o faz mais de uma coisa, quebre em funÃ§Ãµes menores
- âŒ Evite "God Objects" ou funÃ§Ãµes monolÃ­ticas que fazem tudo

**O - Open/Closed Principle (OCP)**
- âœ… Aberto para extensÃ£o, fechado para modificaÃ§Ã£o
- âœ… Use interfaces e abstraÃ§Ãµes para permitir extensÃ£o sem modificar cÃ³digo existente
- âœ… Prefira composiÃ§Ã£o e estratÃ©gias em vez de if/switch gigantes

**L - Liskov Substitution Principle (LSP)**
- âœ… Subtipos devem ser substituÃ­veis por seus tipos base sem quebrar o cÃ³digo
- âœ… ImplementaÃ§Ãµes de interfaces devem cumprir contratos esperados

**I - Interface Segregation Principle (ISP)**
- âœ… Interfaces especÃ­ficas e pequenas sÃ£o melhores que uma interface genÃ©rica grande
- âœ… Clientes nÃ£o devem depender de mÃ©todos que nÃ£o usam
- âœ… Prefira mÃºltiplas interfaces pequenas a uma interface monolÃ­tica

**D - Dependency Inversion Principle (DIP)**
- âœ… Dependa de abstraÃ§Ãµes (interfaces), nÃ£o de implementaÃ§Ãµes concretas
- âœ… Use Dependency Injection (DI) para injetar dependÃªncias
- âœ… Alto nÃ­vel nÃ£o deve depender de baixo nÃ­vel; ambos devem depender de abstraÃ§Ãµes

#### YAGNI - You Aren't Gonna Need It

- âœ… **NÃƒO** adicione funcionalidades "por precauÃ§Ã£o" ou "pode ser Ãºtil no futuro"
- âœ… Implemente apenas o que Ã© necessÃ¡rio AGORA para o requisito atual
- âœ… Refatore quando a necessidade surgir, nÃ£o antes
- âŒ Evite abstraÃ§Ãµes excessivas "para preparar para o futuro"

#### KISS - Keep It Simple, Stupid

- âœ… **Simplicidade acima de complexidade**
- âœ… Prefira soluÃ§Ãµes simples e diretas sobre soluÃ§Ãµes "elegantes" complexas
- âœ… CÃ³digo legÃ­vel e fÃ¡cil de entender Ã© melhor que cÃ³digo "inteligente" difÃ­cil
- âœ… Se algo parece complicado, provavelmente hÃ¡ uma forma mais simples

#### Exemplos de AplicaÃ§Ã£o

**âŒ BAD - Viola SRP, KISS e YAGNI:**
```typescript
// Uma funÃ§Ã£o faz tudo: processa markdown, gera IDs, processa links, remove H1
function processEverything(content: string, basePath: string, removeH1: boolean, generateIds: boolean): ProcessedContent {
  // ... 200 linhas fazendo tudo ...
}
```

**âœ… GOOD - Segue SOLID, YAGNI e KISS:**
```typescript
// FunÃ§Ãµes pequenas com responsabilidade Ãºnica
export function getTextContent(html: string): string { ... }
export function generateUniqueId(text: string, usedIds: Map<string, number>): string { ... }
export function processMarkdownLinks(html: string, basePath: string): string { ... }
export function extractFirstH1(htmlContent: string): { title: string | null; content: string } { ... }

// ComposiÃ§Ã£o: usa funÃ§Ãµes pequenas para criar funcionalidade maior
export async function processMarkdownContent(filePath: string, basePath: string): Promise<DocumentContent | null> {
  const htmlContent = await parseMarkdown(content);
  const { title, content } = extractFirstH1(htmlContent);
  const withIds = addHeadingIds(content);
  const withLinks = processMarkdownLinks(withIds, basePath);
  return { content: withLinks, title, frontMatter: data };
}
```

#### Checklist Antes de Escrever CÃ³digo

- [ ] Esta funÃ§Ã£o/classe tem apenas UMA responsabilidade?
- [ ] Estou adicionando funcionalidade que nÃ£o Ã© necessÃ¡ria agora? (YAGNI)
- [ ] Existe uma forma mais simples de fazer isso? (KISS)
- [ ] Estou dependendo de abstraÃ§Ãµes ou implementaÃ§Ãµes concretas? (DIP)
- [ ] Esta interface/abstraÃ§Ã£o Ã© realmente necessÃ¡ria agora ou Ã© "preparaÃ§Ã£o para o futuro"? (YAGNI)
- [ ] O cÃ³digo ficou mais legÃ­vel e fÃ¡cil de entender?

### âš ï¸ OBRIGATÃ“RIO: Clean Code (Uncle Bob)

**TODO cÃ³digo DEVE seguir os princÃ­pios de Clean Code de Robert C. Martin (Uncle Bob).**

#### Nomes Significativos

**Use nomes que revelem intenÃ§Ã£o:**
- âœ… `daysSinceCreation` em vez de `d`
- âœ… `isValidUser` em vez de `flag`
- âœ… `calculateTotalPrice()` em vez de `calc()`
- âœ… `userRepository` em vez de `repo`
- âŒ Evite abreviaÃ§Ãµes desnecessÃ¡rias
- âŒ Evite nomes genÃ©ricos (`data`, `info`, `temp`, `var`)

**Use nomes pronunciÃ¡veis e pesquisÃ¡veis:**
- âœ… `numberOfDays` em vez de `n`
- âœ… `MAX_RETRY_COUNT` em vez de `42`
- âŒ Evite nomes de uma letra (exceto em loops curtos: `i`, `j`, `k`)

**Use vocabulÃ¡rio consistente:**
- âœ… Use sempre o mesmo termo para o mesmo conceito
- âœ… Se Ã© `fetch`, use sempre `fetch` (nÃ£o misture com `get`, `retrieve`, `load`)
- âœ… Se Ã© `user`, use sempre `user` (nÃ£o misture com `account`, `client`)

**Evite informaÃ§Ãµes enganosas:**
- âŒ NÃ£o use `accountList` se nÃ£o for uma lista (use `accounts` ou `accountGroup`)
- âŒ NÃ£o use `o` (letra O) ou `l` (letra L) como nomes de variÃ¡veis
- âŒ NÃ£o use nomes que diferem apenas por um caractere (`user` vs `users`)

#### FunÃ§Ãµes

**Pequenas! Pequenas! Pequenas!**
- âœ… FunÃ§Ãµes devem fazer UMA coisa. Devem fazÃª-la bem. Devem ser a Ãºnica coisa que fazem.
- âœ… **MÃ¡ximo 20 linhas** (ideal: menos de 10)
- âœ… Se uma funÃ§Ã£o tem mais de 20 linhas, quebre em funÃ§Ãµes menores
- âŒ Evite funÃ§Ãµes com mais de 50 linhas

**Um nÃ­vel de abstraÃ§Ã£o por funÃ§Ã£o:**
- âœ… Todas as declaraÃ§Ãµes na funÃ§Ã£o devem estar no mesmo nÃ­vel de abstraÃ§Ã£o
- âœ… Se vocÃª tem `getUser()`, `validateUser()`, `saveUser()` na mesma funÃ§Ã£o, estÃ¡ misturando nÃ­veis

**Nomes descritivos:**
- âœ… O nome da funÃ§Ã£o deve dizer o que ela faz
- âœ… `calculateTotalPrice()` Ã© melhor que `process()`
- âœ… `isValidEmail()` Ã© melhor que `check()`

**Argumentos:**
- âœ… **Zero argumentos** Ã© o ideal (funÃ§Ãµes sem parÃ¢metros sÃ£o mais fÃ¡ceis de testar)
- âœ… **Um argumento** Ã© bom
- âœ… **Dois argumentos** Ã© aceitÃ¡vel
- âš ï¸ **TrÃªs argumentos** deve ser evitado
- âŒ **Mais de trÃªs argumentos** - considere usar um objeto/struct

**Sem efeitos colaterais:**
- âœ… FunÃ§Ã£o deve fazer apenas o que o nome diz
- âŒ NÃ£o altere variÃ¡veis globais
- âŒ NÃ£o altere parÃ¢metros de entrada (a menos que seja explicitamente o propÃ³sito)
- âœ… Se precisa alterar estado, torne isso explÃ­cito no nome: `setUserActive()`, `updateUser()`

**Comandos vs Consultas:**
- âœ… Separe comandos (fazem algo) de consultas (retornam algo)
- âœ… `setAttribute()` (comando) vs `getAttribute()` (consulta)
- âŒ NÃ£o faÃ§a `if (setAttribute("key", "value"))` - isso mistura comando e consulta

**Tratamento de Erros:**
- âœ… Use exceÃ§Ãµes em vez de cÃ³digos de retorno
- âœ… Trate erros primeiro (early return)
- âœ… NÃ£o retorne `null` - use `Option<T>` ou `Result<T>`
- âœ… NÃ£o passe `null` como argumento

#### ComentÃ¡rios

**ComentÃ¡rios sÃ£o uma falha:**
- âŒ **NÃƒO** use comentÃ¡rios para explicar cÃ³digo ruim - **reescreva o cÃ³digo**
- âœ… CÃ³digo bom Ã© auto-explicativo
- âœ… "O Ãºnico comentÃ¡rio verdadeiramente bom Ã© aquele que vocÃª encontrou uma forma de nÃ£o escrever"

**Quando comentar (raramente):**
- âœ… ComentÃ¡rios legais (informaÃ§Ã£o que nÃ£o pode ser expressa no cÃ³digo)
- âœ… Avisos de consequÃªncias (ex: `// WARNING: Esta funÃ§Ã£o Ã© O(nÂ²), use com cuidado`)
- âœ… IntenÃ§Ã£o (ex: `// Ordena por data mais recente primeiro para melhor UX`)
- âœ… ClarificaÃ§Ã£o (quando o cÃ³digo nÃ£o pode ser mais claro)
- âœ… TODO (mas resolva rÃ¡pido)

**Quando NÃƒO comentar:**
- âŒ ComentÃ¡rios redundantes: `// Incrementa o contador` antes de `counter++`
- âŒ ComentÃ¡rios de ruÃ­do: `// Construtor padrÃ£o`
- âŒ ComentÃ¡rios obsoletos (cÃ³digo mudou, comentÃ¡rio nÃ£o)
- âŒ ComentÃ¡rios de cÃ³digo comentado (delete o cÃ³digo, nÃ£o comente)

#### FormataÃ§Ã£o

**Vertical:**
- âœ… Conceitos relacionados devem estar prÃ³ximos
- âœ… VariÃ¡veis declaradas prÃ³ximas ao uso
- âœ… FunÃ§Ãµes dependentes devem estar prÃ³ximas (chamador acima do chamado)
- âœ… EspaÃ§amento vertical separa conceitos

**Horizontal:**
- âœ… Use indentaÃ§Ã£o consistente (2 espaÃ§os para TS/JS, 4 para C#)
- âœ… Alinhamento horizontal Ã© desnecessÃ¡rio (nÃ£o alinhe `=` em mÃºltiplas linhas)
- âœ… Linhas nÃ£o devem exceder 100-120 caracteres

#### Objetos e Estruturas de Dados

**AbstraÃ§Ã£o de dados:**
- âœ… Exponha dados abstratos, nÃ£o estruturas concretas
- âœ… Use getters/setters para controlar acesso
- âŒ NÃ£o exponha campos pÃºblicos diretamente

**Lei de Demeter:**
- âœ… Um objeto deve conhecer apenas seus amigos imediatos
- âœ… `user.getAddress().getCity()` viola a lei
- âœ… `user.getCity()` Ã© melhor (encapsula a navegaÃ§Ã£o)

#### Tratamento de Erros

**Use exceÃ§Ãµes em vez de cÃ³digos de retorno:**
- âœ… `throw new NotFoundException()` em vez de retornar `null` ou `-1`
- âœ… Use `Result<T>` pattern quando apropriado

**NÃ£o retorne null:**
- âœ… Use `Option<T>` ou `Maybe<T>` para valores opcionais
- âœ… Use `Result<T>` para operaÃ§Ãµes que podem falhar
- âŒ Evite `return null` em mÃ©todos pÃºblicos

**NÃ£o passe null:**
- âœ… Valide entrada e lance exceÃ§Ã£o se `null`
- âœ… Use `ArgumentNullException.ThrowIfNull()` em C#
- âœ… Use TypeScript strict null checks

**Trate erros primeiro:**
- âœ… Early return para casos de erro
- âœ… Reduza aninhamento com guard clauses

#### Testes Limpos

**As trÃªs leis do TDD:**
1. NÃ£o escreva cÃ³digo de produÃ§Ã£o atÃ© que tenha escrito um teste que falhe
2. NÃ£o escreva mais de um teste unitÃ¡rio do que o suficiente para falhar
3. NÃ£o escreva mais cÃ³digo de produÃ§Ã£o do que o suficiente para passar no teste

**Um conceito por teste:**
- âœ… Cada teste deve verificar UMA coisa
- âœ… Nome do teste deve deixar claro o que estÃ¡ sendo testado
- âœ… `GetUserById_WhenUserExists_ReturnsUser()` Ã© melhor que `TestGetUser()`

**F.I.R.S.T. (Testes devem ser):**
- **Fast** - RÃ¡pidos (executar em milissegundos)
- **Independent** - Independentes (nÃ£o dependem uns dos outros)
- **Repeatable** - RepetÃ­veis (mesmo resultado sempre)
- **Self-Validating** - Auto-validantes (passa ou falha, sem interpretaÃ§Ã£o manual)
- **Timely** - Oportunos (escritos antes do cÃ³digo de produÃ§Ã£o)

#### Classes

**OrganizaÃ§Ã£o:**
- âœ… VariÃ¡veis pÃºblicas primeiro
- âœ… VariÃ¡veis privadas depois
- âœ… FunÃ§Ãµes pÃºblicas primeiro
- âœ… FunÃ§Ãµes privadas depois

**Classes pequenas:**
- âœ… Uma classe deve ter UMA razÃ£o para mudar (SRP)
- âœ… **MÃ¡ximo 200 linhas** (ideal: menos de 100)
- âœ… Se uma classe tem mais de 200 linhas, considere quebrar

**CoesÃ£o:**
- âœ… MÃ©todos e variÃ¡veis devem estar relacionados
- âœ… Alta coesÃ£o: mÃ©todos usam todas as variÃ¡veis da classe

#### OrganizaÃ§Ã£o

**Pacotes/MÃ³dulos:**
- âœ… Organize por funcionalidade, nÃ£o por camada
- âœ… `user/` contÃ©m tudo relacionado a usuÃ¡rio (model, service, repository)
- âŒ Evite `models/`, `services/`, `repositories/` separados

**DependÃªncias:**
- âœ… DependÃªncias devem apontar na direÃ§Ã£o da estabilidade
- âœ… Classes estÃ¡veis nÃ£o devem depender de classes instÃ¡veis

#### Design Limpo

**PrincÃ­pios de design:**
- âœ… Aplicar SOLID em todos os nÃ­veis
- âœ… DRY (Don't Repeat Yourself)
- âœ… KISS (Keep It Simple, Stupid)
- âœ… YAGNI (You Aren't Gonna Need It)

**Boy Scout Rule:**
- âœ… Deixe o cÃ³digo mais limpo do que vocÃª encontrou
- âœ… Sempre que trabalhar em um arquivo, melhore algo pequeno

#### Exemplos PrÃ¡ticos

**âŒ BAD - Viola mÃºltiplos princÃ­pios:**
```typescript
function p(d: any): any {
  let r = 0;
  for (let i = 0; i < d.length; i++) {
    if (d[i].price) {
      r += d[i].price * d[i].qty;
    }
  }
  return r; // Retorna 0 se vazio, mas deveria retornar null?
}
```

**âœ… GOOD - Segue Clean Code:**
```typescript
function calculateTotalPrice(items: CartItem[]): number {
  if (items.length === 0) {
    return 0;
  }

  return items.reduce((total, item) => {
    const itemTotal = item.price * item.quantity;
    return total + itemTotal;
  }, 0);
}
```

#### Checklist Clean Code

- [ ] Nomes revelam intenÃ§Ã£o?
- [ ] FunÃ§Ãµes sÃ£o pequenas (< 20 linhas)?
- [ ] FunÃ§Ãµes fazem apenas uma coisa?
- [ ] Argumentos sÃ£o poucos (< 3)?
- [ ] Sem efeitos colaterais?
- [ ] Comandos separados de consultas?
- [ ] Erros tratados com exceÃ§Ãµes/Result?
- [ ] NÃ£o retorna null?
- [ ] NÃ£o passa null?
- [ ] ComentÃ¡rios explicam "por quÃª", nÃ£o "o quÃª"?
- [ ] CÃ³digo Ã© auto-explicativo?
- [ ] Testes seguem F.I.R.S.T.?
- [ ] Classes sÃ£o pequenas (< 200 linhas)?

### âš ï¸ OBRIGATÃ“RIO: Clean Code para HTML, CSS e JavaScript

**TODO cÃ³digo HTML, CSS e JavaScript DEVE seguir os princÃ­pios de Clean Code por padrÃ£o.**

#### HTML - CÃ³digo Limpo

**HTML SemÃ¢ntico:**
- âœ… Use elementos semÃ¢nticos (`<header>`, `<nav>`, `<main>`, `<section>`, `<article>`, `<aside>`, `<footer>`)
- âœ… Use `<button>` para aÃ§Ãµes, `<a>` para navegaÃ§Ã£o
- âœ… Use `<form>`, `<input>`, `<label>` corretamente
- âŒ Evite `<div>` e `<span>` quando hÃ¡ elemento semÃ¢ntico apropriado
- âŒ Evite elementos obsoletos (`<center>`, `<font>`, `<marquee>`)

**Estrutura e OrganizaÃ§Ã£o:**
- âœ… HTML deve ser hierÃ¡rquico e bem estruturado
- âœ… IndentaÃ§Ã£o consistente (2 espaÃ§os)
- âœ… Atributos em ordem lÃ³gica: `id`, `class`, `data-*`, `aria-*`, `src/href`, `alt/title`
- âœ… Um elemento por linha (exceto inline elements relacionados)
- âŒ Evite aninhamento excessivo (mÃ¡ximo 4-5 nÃ­veis)

**Acessibilidade:**
- âœ… Sempre use `alt` em imagens descritivas
- âœ… Use `aria-label`, `aria-labelledby`, `aria-describedby` quando necessÃ¡rio
- âœ… Use `role` quando elemento semÃ¢ntico nÃ£o Ã© suficiente
- âœ… Use `tabindex` apenas quando necessÃ¡rio (evite `tabindex="0"` em elementos nÃ£o interativos)
- âœ… FormulÃ¡rios: `<label>` associado a `<input>` via `for` ou envolvendo

**Nomenclatura:**
- âœ… Classes: `kebab-case` (ex: `sidebar-container`, `mobile-menu-toggle`)
- âœ… IDs: `kebab-case` (ex: `mobile-menu-toggle`, `theme-switcher`)
- âœ… Data attributes: `kebab-case` (ex: `data-section`, `data-phase`)
- âœ… Nomes descritivos e significativos
- âŒ Evite abreviaÃ§Ãµes desnecessÃ¡rias (`btn` â†’ `button`, `nav` â†’ `navigation` se ambÃ­guo)

**SeparaÃ§Ã£o de Responsabilidades:**
- âœ… HTML apenas estrutura e conteÃºdo
- âœ… NUNCA coloque CSS inline (exceto crÃ­tico para renderizaÃ§Ã£o inicial)
- âœ… NUNCA coloque JavaScript inline (exceto inicializaÃ§Ã£o crÃ­tica)
- âœ… Use arquivos CSS e JS externos
- âŒ Evite `style=""` e `onclick=""` inline

**Exemplo:**
```html
<!-- âœ… GOOD - HTML semÃ¢ntico, bem estruturado -->
<header class="header" role="banner">
  <nav class="header-nav" aria-label="NavegaÃ§Ã£o principal">
    <a href="/" class="header-logo" aria-label="PÃ¡gina inicial">
      <img src="/logo.svg" alt="Araponga" class="header-logo-image" />
    </a>
    <button class="mobile-menu-toggle" aria-label="Abrir menu" aria-expanded="false">
      <svg class="menu-icon" aria-hidden="true">...</svg>
    </button>
  </nav>
</header>

<!-- âŒ BAD - Divs genÃ©ricas, sem semÃ¢ntica, CSS inline -->
<div style="display: flex; justify-content: space-between;">
  <div onclick="toggleMenu()">
    <img src="/logo.svg" />
  </div>
</div>
```

#### CSS - CÃ³digo Limpo

**OrganizaÃ§Ã£o e Estrutura:**
- âœ… Organize por funcionalidade, nÃ£o por tipo de propriedade
- âœ… Use comentÃ¡rios para separar seÃ§Ãµes lÃ³gicas
- âœ… Agrupe propriedades relacionadas (layout, visual, interaÃ§Ã£o)
- âœ… Ordem lÃ³gica: `position`, `display`, `flex/grid`, `dimensions`, `spacing`, `colors`, `typography`, `effects`
- âœ… MÃ¡ximo 200 linhas por arquivo (ideal: menos de 100)
- âŒ Evite arquivos CSS gigantes (>500 linhas)

**Nomenclatura:**
- âœ… Classes: `kebab-case` (ex: `sidebar-container`, `mobile-menu-toggle`)
- âœ… VariÃ¡veis CSS: `kebab-case` com `--` (ex: `--accent-color`, `--spacing-md`)
- âœ… Nomes descritivos e significativos
- âœ… Use BEM quando apropriado (ex: `sidebar__item--active`)
- âŒ Evite nomes genÃ©ricos (`container`, `wrapper`, `box`)

**Especificidade e Cascata:**
- âœ… Use especificidade mÃ­nima necessÃ¡ria
- âœ… Evite `!important` (use apenas quando absolutamente necessÃ¡rio)
- âœ… Prefira classes especÃ­ficas a seletores complexos
- âœ… Use variÃ¡veis CSS para valores reutilizÃ¡veis
- âŒ Evite seletores muito especÃ­ficos (ex: `.container .wrapper .content .item`)

**Responsividade:**
- âœ… Mobile-first: base CSS sem media query (mobile), ajustes com `@media (min-width: ...)`
- âœ… Use variÃ¡veis CSS para breakpoints
- âœ… Agrupe media queries por breakpoint
- âœ… Use `clamp()` para valores fluidos quando apropriado

**Manutenibilidade:**
- âœ… Use variÃ¡veis CSS para cores, espaÃ§amento, tipografia
- âœ… Evite valores hardcoded (cores hex, espaÃ§amento fixo)
- âœ… Comente regras complexas ou nÃ£o Ã³bvias
- âœ… Documente "por quÃª", nÃ£o "o quÃª"

**Exemplo:**
```css
/* âœ… GOOD - Organizado, variÃ¡veis, mobile-first */
:root {
  --accent: #4dd4a8;
  --spacing-md: 1rem;
  --breakpoint-desktop: 1024px;
}

.sidebar-container {
  /* Layout */
  position: fixed;
  top: 0;
  left: 0;
  width: 240px;

  /* Visual */
  background: var(--bg-elevated);
  border-right: 1px solid var(--border);

  /* Spacing */
  padding: var(--spacing-md);
}

@media (min-width: var(--breakpoint-desktop)) {
  .sidebar-container {
    width: 280px;
  }
}

/* âŒ BAD - Valores hardcoded, sem organizaÃ§Ã£o, !important desnecessÃ¡rio */
.sidebar {
  position: fixed !important;
  top: 0;
  left: 0;
  width: 240px;
  background: #0a0e12;
  padding: 16px;
  border-right: 1px solid rgba(100, 150, 180, 0.12);
}
```

#### JavaScript - CÃ³digo Limpo

**FunÃ§Ãµes:**
- âœ… FunÃ§Ãµes pequenas (< 20 linhas, ideal: < 10)
- âœ… Uma responsabilidade por funÃ§Ã£o
- âœ… Nomes descritivos que revelam intenÃ§Ã£o
- âœ… Poucos argumentos (< 3, use objetos para mais)
- âœ… Sem efeitos colaterais (funÃ§Ãµes puras quando possÃ­vel)
- âŒ Evite funÃ§Ãµes com mais de 50 linhas

**VariÃ¡veis e Constantes:**
- âœ… Use `const` por padrÃ£o, `let` quando necessÃ¡rio, evite `var`
- âœ… Nomes descritivos (`userName` em vez de `u` ou `data`)
- âœ… Declare prÃ³ximo ao uso
- âœ… Use nomes pronunciÃ¡veis e pesquisÃ¡veis
- âŒ Evite variÃ¡veis globais

**Estrutura e OrganizaÃ§Ã£o:**
- âœ… Organize por funcionalidade, nÃ£o por tipo
- âœ… Use IIFE ou mÃ³dulos para evitar poluiÃ§Ã£o global
- âœ… Separe lÃ³gica de apresentaÃ§Ã£o
- âœ… Use early returns para reduzir aninhamento
- âœ… MÃ¡ximo 200 linhas por arquivo (ideal: menos de 100)

**Tratamento de Erros:**
- âœ… Use `try/catch` para operaÃ§Ãµes que podem falhar
- âœ… Trate erros explicitamente, nÃ£o silencie
- âœ… Use mensagens de erro descritivas
- âœ… Valide entrada antes de processar

**DOM e Eventos:**
- âœ… Use `addEventListener` em vez de atributos inline (`onclick`, etc.)
- âœ… Use `querySelector`/`querySelectorAll` com classes especÃ­ficas
- âœ… Remova event listeners quando nÃ£o necessÃ¡rio (cleanup)
- âœ… Use event delegation quando apropriado
- âœ… Prefira `dataset` para data attributes

**Modern JavaScript:**
- âœ… Use arrow functions quando apropriado
- âœ… Use template literals em vez de concatenaÃ§Ã£o
- âœ… Use destructuring quando apropriado
- âœ… Use async/await em vez de callbacks aninhados
- âœ… Use `const`/`let` em vez de `var`

**Exemplo:**
```javascript
// âœ… GOOD - FunÃ§Ãµes pequenas, nomes descritivos, sem efeitos colaterais
(function() {
  'use strict';

  const DESKTOP_BREAKPOINT = 1024;

  function getBreakpoint() {
    return parseInt(
      getComputedStyle(document.documentElement)
        .getPropertyValue('--breakpoint-desktop')
        .trim() || DESKTOP_BREAKPOINT
    );
  }

  function isMobile() {
    return window.innerWidth < getBreakpoint();
  }

  function openMobileMenu() {
    const sidebar = document.querySelector('.sidebar-container');
    if (!sidebar) return;

    sidebar.classList.add('mobile-menu-open');
    document.body.classList.add('menu-open');
  }

  function closeMobileMenu() {
    const sidebar = document.querySelector('.sidebar-container');
    if (!sidebar) return;

    sidebar.classList.remove('mobile-menu-open');
    document.body.classList.remove('menu-open');
  }

  function initMobileMenu() {
    const toggle = document.getElementById('mobile-menu-toggle');
    if (!toggle) return;

    toggle.addEventListener('click', () => {
      const sidebar = document.querySelector('.sidebar-container');
      const isOpen = sidebar?.classList.contains('mobile-menu-open');

      if (isOpen) {
        closeMobileMenu();
      } else {
        openMobileMenu();
      }
    });

    // Fecha menu ao redimensionar para desktop
    window.addEventListener('resize', () => {
      if (!isMobile()) {
        closeMobileMenu();
      }
    });
  }

  // Inicializa quando DOM estiver pronto
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initMobileMenu);
  } else {
    initMobileMenu();
  }
})();

// âŒ BAD - FunÃ§Ã£o gigante, variÃ¡veis globais, cÃ³digo inline, sem tratamento de erros
var isOpen = false;
function toggle() {
  if (window.innerWidth < 1024) {
    var sidebar = document.querySelector('.sidebar-container');
    if (sidebar) {
      if (!isOpen) {
        sidebar.classList.add('mobile-menu-open');
        document.body.classList.add('menu-open');
        isOpen = true;
      } else {
        sidebar.classList.remove('mobile-menu-open');
        document.body.classList.remove('menu-open');
        isOpen = false;
      }
    }
  }
}
```

#### Checklist Clean Code HTML/CSS/JS

**HTML:**
- [ ] HTML semÃ¢ntico (usa elementos apropriados)?
- [ ] Estrutura hierÃ¡rquica clara?
- [ ] Acessibilidade (aria-labels, roles, alt text)?
- [ ] Sem CSS/JS inline?
- [ ] Nomenclatura consistente (kebab-case)?

**CSS:**
- [ ] Organizado por funcionalidade?
- [ ] VariÃ¡veis CSS para valores reutilizÃ¡veis?
- [ ] Mobile-first?
- [ ] Sem `!important` desnecessÃ¡rio?
- [ ] Arquivo < 200 linhas?

**JavaScript:**
- [ ] FunÃ§Ãµes pequenas (< 20 linhas)?
- [ ] Nomes descritivos?
- [ ] Sem variÃ¡veis globais?
- [ ] Tratamento de erros?
- [ ] Arquivo < 200 linhas?
- [ ] Sem cÃ³digo inline no HTML?

### Nomenclatura

#### Classes e Interfaces
- âœ… Classes: `PascalCase` (ex: `TerritoryService`, `PostCreationService`)
- âœ… Interfaces: `I` + `PascalCase` (ex: `ITerritoryRepository`, `IMediaStorageService`)
- âœ… DTOs: `PascalCase` + sufixo descritivo (ex: `CreatePostRequest`, `PostResponse`)
- âœ… Entidades: `PascalCase` (ex: `Territory`, `Membership`, `Post`)

#### MÃ©todos e Propriedades
- âœ… MÃ©todos: `PascalCase` (ex: `CreatePostAsync`, `GetTerritoryByIdAsync`)
- âœ… Propriedades: `PascalCase` (ex: `Id`, `Title`, `CreatedAtUtc`)
- âœ… Campos privados: `_camelCase` (ex: `_repository`, `_logger`)

#### VariÃ¡veis e ParÃ¢metros
- âœ… VariÃ¡veis locais: `camelCase` (ex: `territoryId`, `userId`)
- âœ… ParÃ¢metros: `camelCase` (ex: `territoryId`, `cancellationToken`)

### ConvenÃ§Ãµes EspecÃ­ficas

#### Async/Await
- âœ… Todos os mÃ©todos assÃ­ncronos terminam com `Async` (ex: `GetTerritoryAsync`)
- âœ… Sempre use `async`/`await` (NUNCA `.Result` ou `.Wait()`)
- âœ… Sempre aceite `CancellationToken` em mÃ©todos assÃ­ncronos

#### Nullable Reference Types
- âœ… Use `string?` para valores opcionais
- âœ… Use `string` para valores obrigatÃ³rios
- âœ… Valide null antes de usar (use `ArgumentNullException.ThrowIfNull`)

#### Result Pattern
- âœ… Use `Result<T>` ou `Result` para operaÃ§Ãµes que podem falhar
- âœ… NUNCA retorne `null` de mÃ©todos pÃºblicos
- âœ… Use `Option<T>` ou `Maybe<T>` para valores opcionais

### Exemplos de CÃ³digo

#### Service Pattern
```csharp
public class TerritoryService : ITerritoryService
{
    private readonly ITerritoryRepository _repository;
    private readonly ILogger<TerritoryService> _logger;

    public TerritoryService(
        ITerritoryRepository repository,
        ILogger<TerritoryService> logger)
    {
        _repository = repository;
        _logger = logger;
    }

    public async Task<Result<Territory>> GetTerritoryByIdAsync(
        Guid territoryId,
        CancellationToken cancellationToken = default)
    {
        ArgumentNullException.ThrowIfNull(territoryId);

        var territory = await _repository.GetByIdAsync(territoryId, cancellationToken);
        if (territory == null)
        {
            return Result<Territory>.NotFound($"Territory {territoryId} not found");
        }

        return Result<Territory>.Success(territory);
    }
}
```

#### Repository Pattern
```csharp
public interface ITerritoryRepository
{
    Task<Territory?> GetByIdAsync(Guid id, CancellationToken cancellationToken);
    Task<IEnumerable<Territory>> FindNearbyAsync(
        double latitude,
        double longitude,
        double radiusKm,
        int limit,
        CancellationToken cancellationToken);
    Task<Territory> AddAsync(Territory territory, CancellationToken cancellationToken);
}
```

---

## ğŸ§ª Testes

### Cobertura MÃ­nima
- âœ… **Cobertura >90%** obrigatÃ³ria
- âœ… Teste todos os casos de erro
- âœ… Teste edge cases
- âœ… Teste validaÃ§Ãµes

### Estrutura de Testes
```
Araponga.Tests/
â”œâ”€â”€ Domain/           # Testes de entidades e value objects
â”œâ”€â”€ Application/      # Testes de services
â”œâ”€â”€ Infrastructure/   # Testes de repositÃ³rios e adapters
â””â”€â”€ Api/             # Testes de controllers (E2E)
```

### PadrÃµes de Teste
- âœ… Use `[Fact]` para testes do xUnit
- âœ… Nomeie testes descritivamente: `MethodName_Scenario_ExpectedBehavior`
- âœ… Use `InMemoryDataStore` para testes isolados
- âœ… Use `WebApplicationFactory<T>` para testes E2E

### Exemplo de Teste
```csharp
[Fact]
public async Task GetTerritoryByIdAsync_WhenTerritoryExists_ReturnsTerritory()
{
    // Arrange
    var territory = new Territory("Test Territory", 0, 0);
    await _repository.AddAsync(territory, CancellationToken.None);

    // Act
    var result = await _service.GetTerritoryByIdAsync(territory.Id, CancellationToken.None);

    // Assert
    Assert.True(result.IsSuccess);
    Assert.Equal(territory.Id, result.Value.Id);
}
```

---

## ğŸ“š DocumentaÃ§Ã£o - OBRIGATÃ“RIO

### âš ï¸ REGRA CRÃTICA: AtualizaÃ§Ã£o AutomÃ¡tica de DocumentaÃ§Ã£o

**SEMPRE que vocÃª fizer mudanÃ§as no cÃ³digo, vocÃª DEVE atualizar a documentaÃ§Ã£o correspondente.**

### Quando Atualizar DocumentaÃ§Ã£o

1. **MudanÃ§as em Funcionalidades/Features:**
   - âœ… Atualizar `docs/60_API_LÃ“GICA_NEGÃ“CIO.md` se mudar lÃ³gica de negÃ³cio
   - âœ… Atualizar `docs/22_COHESION_AND_TESTS.md` se implementar nova funcionalidade
   - âœ… Atualizar `docs/03_BACKLOG.md` se completar um epic/feature
   - âœ… Atualizar `docs/40_CHANGELOG.md` com mudanÃ§as significativas
   - âœ… Atualizar `README.md` se mudar funcionalidades listadas

2. **MudanÃ§as em Arquitetura:**
   - âœ… Atualizar `docs/10_ARCHITECTURE_DECISIONS.md` se tomar nova decisÃ£o arquitetural
   - âœ… Atualizar `docs/12_DOMAIN_MODEL.md` se mudar modelo de domÃ­nio
   - âœ… Atualizar `docs/11_ARCHITECTURE_SERVICES.md` se mudar services

3. **MudanÃ§as em APIs/Endpoints:**
   - âœ… Atualizar `docs/60_API_LÃ“GICA_NEGÃ“CIO.md` com novos endpoints ou mudanÃ§as
   - âœ… Atualizar `frontend/devportal/index.html` se mudar DevPortal
   - âœ… Atualizar exemplos de cÃ³digo se mudar contratos

4. **MudanÃ§as em Fases do Backlog:**
   - âœ… Atualizar `docs/backlog-api/FASE*.md` correspondente
   - âœ… Atualizar `docs/backlog-api/README.md` se completar fase
   - âœ… Atualizar `docs/STATUS_FASES.md` se existir
   - âœ… Atualizar `docs/02_ROADMAP.md` se mudar roadmap
   - âœ… Atualizar `docs/backlog-api/implementacoes/FASE*_IMPLEMENTACAO_RESUMO.md` se completar fase

5. **MudanÃ§as em ConfiguraÃ§Ã£o/SeguranÃ§a:**
   - âœ… Atualizar `docs/SECURITY_CONFIGURATION.md` se mudar configuraÃ§Ãµes
   - âœ… Atualizar `docs/SECURITY_AUDIT.md` se adicionar medidas de seguranÃ§a

### Checklist ObrigatÃ³rio Antes de Commitar

- [ ] DocumentaÃ§Ã£o tÃ©cnica atualizada (se aplicÃ¡vel)
- [ ] Exemplos de cÃ³digo atualizados (se aplicÃ¡vel)
- [ ] Changelog atualizado (se mudanÃ§a significativa)
- [ ] README.md atualizado (se mudar funcionalidades principais)
- [ ] DocumentaÃ§Ã£o de API atualizada (se mudar endpoints)
- [ ] DocumentaÃ§Ã£o de fase atualizada (se completar fase)

### Guia Completo
Consulte `docs/CURSOR_DOCUMENTATION_RULES.md` para mapeamento completo de mudanÃ§as â†’ documentos.

---

## ğŸ”’ SeguranÃ§a

### ValidaÃ§Ã£o de Entrada
- âœ… Sempre valide entrada do usuÃ¡rio
- âœ… Use FluentValidation para DTOs
- âœ… Sanitize strings antes de persistir
- âœ… Valide geolocalizaÃ§Ã£o (lat/lng dentro de ranges vÃ¡lidos)

### AutorizaÃ§Ã£o
- âœ… Sempre verifique permissÃµes antes de operaÃ§Ãµes sensÃ­veis
- âœ… Use `[Authorize]` em controllers
- âœ… Verifique membership role (visitor/resident) quando necessÃ¡rio
- âœ… Valide territory ownership quando aplicÃ¡vel

### Dados SensÃ­veis
- âœ… NUNCA logue senhas, tokens ou dados pessoais
- âœ… Use `[Sensitive]` attribute em logs quando necessÃ¡rio
- âœ… Criptografe dados sensÃ­veis em repouso

---

## ğŸš€ Performance

### Queries
- âœ… Use paginaÃ§Ã£o em TODAS as listagens
- âœ… Use `IQueryable` para queries eficientes
- âœ… Evite N+1 queries (use `.Include()` ou projeÃ§Ãµes)
- âœ… Use Ã­ndices no banco de dados

### Cache
- âœ… Cache resultados de queries frequentes
- âœ… Invalide cache quando dados mudarem
- âœ… Use `IMemoryCache` ou `IDistributedCache` conforme necessÃ¡rio

### Async
- âœ… Use async/await para operaÃ§Ãµes I/O
- âœ… NUNCA bloqueie threads com `.Result` ou `.Wait()`
- âœ… Configure `ConfigureAwait(false)` em libraries

---

## âœ… ValidaÃ§Ã£o Antes de PR - OBRIGATÃ“RIO

### âš ï¸ REGRA CRÃTICA: Build e Testes DEVEM Passar

**ANTES de criar qualquer PR, vocÃª DEVE:**

1. **Validar Build:**
   ```bash
   dotnet build --no-restore --configuration Release
   ```
   - âœ… Build DEVE passar sem erros
   - âœ… Apenas warnings aceitÃ¡veis sÃ£o permitidos
   - âŒ NUNCA crie PR com erros de build

2. **Validar Testes:**
   ```bash
   dotnet test --no-build --configuration Release
   ```
   - âœ… TODOS os testes DEVEM passar
   - âœ… Cobertura de testes deve ser mantida (>90%)
   - âŒ NUNCA crie PR com testes falhando

3. **Verificar Conflitos de Merge:**
   ```bash
   git fetch origin main
   git merge origin/main
   ```
   - âœ… Resolva TODOS os conflitos antes de criar PR
   - âœ… Teste novamente apÃ³s resolver conflitos
   - âŒ NUNCA crie PR com conflitos nÃ£o resolvidos

### Checklist ObrigatÃ³rio Antes de Criar PR

- [ ] **Build passa**: `dotnet build --no-restore --configuration Release` sem erros
- [ ] **Testes passam**: `dotnet test --no-build --configuration Release` todos passando
- [ ] **Sem conflitos**: `git merge origin/main` sem conflitos
- [ ] **Testes apÃ³s merge**: Se houve merge, rodar testes novamente
- [ ] **DocumentaÃ§Ã£o atualizada**: Verificar checklist de documentaÃ§Ã£o
- [ ] **CÃ³digo revisado**: Verificar se segue padrÃµes do projeto

### Se Build ou Testes Falharem

1. **Verifique se os erros sÃ£o relacionados Ã s suas mudanÃ§as:**
   - Se SIM: **NÃƒO crie o PR** atÃ© corrigir
   - Se NÃƒO: Documente no PR que os testes falhando nÃ£o estÃ£o relacionados Ã s mudanÃ§as

2. **Se os erros sÃ£o relacionados Ã s suas mudanÃ§as:**
   - **NÃƒO crie o PR**
   - **Corrija os erros localmente**
   - **Valide novamente** (build + testes)
   - **Apenas entÃ£o** crie o PR

3. **Se os erros NÃƒO sÃ£o relacionados Ã s suas mudanÃ§as:**
   - Documente no PR quais testes estÃ£o falhando e por que nÃ£o estÃ£o relacionados
   - Explique que os testes devem ser corrigidos em um PR separado
   - **Ainda assim, tente corrigir se possÃ­vel** (boa prÃ¡tica)

### Se Houver Conflitos de Merge

1. **NÃƒO crie o PR**
2. **FaÃ§a merge de `origin/main` na sua branch**
3. **Resolva TODOS os conflitos**
4. **Valide novamente** (build + testes)
5. **Apenas entÃ£o** crie o PR

### Comandos de ValidaÃ§Ã£o RÃ¡pida

```bash
# ValidaÃ§Ã£o completa antes de PR
git fetch origin main
git merge origin/main  # Resolve conflitos se houver
dotnet build --no-restore --configuration Release
dotnet test --no-build --configuration Release
```

**Se qualquer comando falhar, NÃƒO crie o PR atÃ© corrigir.**

---

## ğŸ“¦ Commits e PRs

### Mensagens de Commit
```
feat(module): DescriÃ§Ã£o da funcionalidade

- Implementa [funcionalidade]
- Atualiza documentaÃ§Ã£o em [arquivo(s)]
- Adiciona testes para [cobertura]

DocumentaÃ§Ã£o:
- Atualizado docs/60_API_LÃ“GICA_NEGÃ“CIO.md
- Atualizado docs/40_CHANGELOG.md
```

### Tipos de Commit
- `feat`: Nova funcionalidade
- `fix`: CorreÃ§Ã£o de bug
- `docs`: MudanÃ§a em documentaÃ§Ã£o
- `refactor`: RefatoraÃ§Ã£o de cÃ³digo
- `test`: AdiÃ§Ã£o ou correÃ§Ã£o de testes
- `chore`: Tarefas de manutenÃ§Ã£o

### Pull Requests
- âœ… Use o template `.github/pull_request_template.md`
- âœ… Marque checklist de documentaÃ§Ã£o
- âœ… Descreva mudanÃ§as claramente
- âœ… Referencie issues relacionadas
- âœ… Garanta que todos os testes passam

---

## ğŸ¨ Design e UX

### PrincÃ­pios de Design
- TerritÃ³rio como referÃªncia
- Baixa excitaÃ§Ã£o e foco
- SilÃªncio funcional com hierarquia clara
- AÃ§Ã£o consciente e explÃ­cita
- EvoluÃ§Ã£o lenta e Ã­ntegra

### Regras CrÃ­ticas de Design (OBRIGATÃ“RIO)

#### Cores - NUNCA Hardcoded
- âŒ **PROIBIDO**: Cores hex/rgb diretas (`#4dd4a8`, `rgb(77, 212, 168)`)
- âŒ **PROIBIDO**: Tailwind arbitrÃ¡rias (`dark:bg-[#4dd4a8]`, `text-[#7dd3ff]`)
- âœ… **OBRIGATÃ“RIO**: VariÃ¡veis CSS (`var(--accent)`, `var(--link)`)
- âœ… **OBRIGATÃ“RIO**: Classes Tailwind configuradas (`dark:bg-dark-accent`, `dark:text-dark-link`)

#### Mobile-First ObrigatÃ³rio
- âœ… Base CSS sem media query (mobile)
- âœ… Ajustes com `@media (min-width: 1024px)` ou `lg:` prefix

#### VariÃ¡veis CSS ObrigatÃ³rias
- âœ… EspaÃ§amento: usar `var(--space-8)`, `var(--space-16)`
- âœ… Tipografia: usar `var(--font-size-3xl)`, `var(--line-height-relaxed)`
- âœ… Glass morphism: usar `var(--glass-bg)`, `var(--glass-border)`

### O que Ã© Bem-vindo
- Legibilidade e reduÃ§Ã£o de ruÃ­do
- ConsistÃªncia entre telas e estados
- Hierarquia visual clara
- Acessibilidade (contraste WCAG AA, foco, navegaÃ§Ã£o por teclado)
- Uso de variÃ¡veis CSS e tokens de design

### O que Evitar
- Efeitos chamativos e distraÃ§Ãµes
- SaturaÃ§Ã£o gratuita
- AnimaÃ§Ãµes celebratÃ³rias
- MetÃ¡foras fechadas que reduzam leitura do contexto
- **Cores hardcoded (hex/rgb ou Tailwind arbitrÃ¡rias)** - use variÃ¡veis CSS ou classes configuradas

---

## ğŸ”„ Processo de Auto-Aprendizado

### âš ï¸ OBRIGATÃ“RIO ApÃ³s RevisÃµes

**Toda revisÃ£o tÃ©cnica DEVE gerar atualizaÃ§Ã£o de diretrizes:**

1. **Capturar LiÃ§Ãµes**: Documentar em `docs/LICOES_APRENDIDAS.md`
   - Identificar padrÃµes recurrentes
   - Categorizar (CrÃ­tico/Importante/OtimizaÃ§Ã£o)
   - Documentar contexto e soluÃ§Ã£o

2. **Atualizar Diretrizes**: Aplicar liÃ§Ãµes aprendidas
   - Atualizar `CURSOR_DESIGN_RULES.md` se liÃ§Ã£o Ã© sobre design
   - Atualizar `.cursorrules` se liÃ§Ã£o Ã© geral
   - Atualizar outros documentos conforme necessÃ¡rio

3. **Validar**: Garantir efetividade
   - Revisar mudanÃ§as
   - Validar conformidade
   - Documentar no changelog

**Processo Completo**: `docs/PROCESSO_AUTO_APRENDIZADO_REVISOES.md`

**Exemplo PrÃ¡tico**: Ver `docs/LICOES_APRENDIDAS.md` (LIC-001: Cores hardcoded)

---

## ğŸ” ReferÃªncias RÃ¡pidas

### DocumentaÃ§Ã£o Principal
- `docs/00_INDEX.md` - Ãndice completo
- `docs/01_PRODUCT_VISION.md` - VisÃ£o do produto
- `docs/02_ROADMAP.md` - Roadmap
- `docs/10_ARCHITECTURE_DECISIONS.md` - DecisÃµes arquiteturais
- `docs/12_DOMAIN_MODEL.md` - Modelo de domÃ­nio
- `docs/60_API_LÃ“GICA_NEGÃ“CIO.md` - LÃ³gica de negÃ³cio e APIs
- `docs/backlog-api/README.md` - Backlog completo (ver nÃºmero de fases em `docs/PROJECT_PHASES_CONFIG.md`)

### GlossÃ¡rio
- `docs/05_GLOSSARY.md` - Termos e conceitos do projeto

### Contribuindo
- `docs/41_CONTRIBUTING.md` - Guia para contribuidores
- `docs/CURSOR_DOCUMENTATION_RULES.md` - Regras de documentaÃ§Ã£o

---

## âš ï¸ Lembretes Importantes

1. **DocumentaÃ§Ã£o desatualizada Ã© um bug crÃ­tico**
2. **Territory Ã© geogrÃ¡fico e neutro - NUNCA coloque lÃ³gica social nele**
3. **Sempre use "territory", "items", nÃºmero dinÃ¢mico de fases - NUNCA hardcode valores fixos de fases**
4. **Cobertura de testes >90% Ã© obrigatÃ³ria**
5. **Sempre valide entrada e verifique autorizaÃ§Ã£o**
6. **Use paginaÃ§Ã£o em TODAS as listagens**
7. **Commits pequenos e focados sÃ£o preferÃ­veis**
8. **ApÃ³s revisÃµes: OBRIGATÃ“RIO capturar liÃ§Ãµes aprendidas em `LICOES_APRENDIDAS.md` e atualizar diretrizes** (ver `PROCESSO_AUTO_APRENDIZADO_REVISOES.md`)
9. **NUNCA use cores hardcoded** - sempre variÃ¡veis CSS ou classes Tailwind configuradas
10. **Mobile-first Ã© obrigatÃ³rio** - todo CSS deve comeÃ§ar com mobile, ajustar para desktop
11. **SOLID e YAGNI/KISS sÃ£o obrigatÃ³rios** - todo cÃ³digo deve seguir esses princÃ­pios (ver seÃ§Ã£o "PadrÃµes de CÃ³digo")
12. **Clean Code (Uncle Bob) Ã© obrigatÃ³rio** - nomes significativos, funÃ§Ãµes pequenas, cÃ³digo auto-explicativo (ver seÃ§Ã£o "PadrÃµes de CÃ³digo")

---

**Ãšltima AtualizaÃ§Ã£o**: 2025-01-20
**VersÃ£o**: 1.7

### Changelog
- **1.7** (2025-01-20): Adicionadas regras de Clean Code para HTML, CSS e JavaScript
- **1.6** (2025-01-20): Expandidos princÃ­pios de Clean Architecture com detalhes completos (Uncle Bob)
- **1.5** (2025-01-20): Adicionados padrÃµes de Clean Code (Uncle Bob) como obrigatÃ³rios
- **1.4** (2025-01-20): Adicionados princÃ­pios SOLID e YAGNI/KISS como obrigatÃ³rios em todo cÃ³digo
- **1.3** (2025-01-20): Adicionado processo de auto-aprendizado obrigatÃ³rio apÃ³s revisÃµes, reforÃ§ado lembretes de design
- **1.2** (2025-01-20): Adicionadas regras crÃ­ticas de design (cores hardcoded proibidas) apÃ³s revisÃ£o completa
- **1.1** (2025-01-20): Adicionada seÃ§Ã£o de arquivos de referÃªncia para contexto
- **1.0** (2025-01-20): VersÃ£o inicial
